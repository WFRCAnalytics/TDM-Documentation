<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8" />
<meta name="generator" content="quarto-1.3.340" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />


<title>Documentation â€“ inputdata</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>

<!-- htmldependencies:E3FAD763 -->
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="https://wfrc.org" class="navbar-brand navbar-brand-logo">
    <img src="/_pictures/WFRCDieCutLogo.png" alt="" class="navbar-logo" />
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
  aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"
  onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="/index.html" rel="" target="">
 <span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-whats-new" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">What&#39;s New?</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-whats-new">    
        <li>
    <a class="dropdown-item" href="/1-whats-new/v9-whats-new/index.html" rel="" target="">
 <span class="dropdown-text">Version 9</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/1-whats-new/v8-whats-new/index.html" rel="" target="">
 <span class="dropdown-text">Version 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/1-whats-new/v7-whats-new/index.html" rel="" target="">
 <span class="dropdown-text">Version 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-model-documentation" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Model Documentation</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-model-documentation">    
        <li>
    <a class="dropdown-item" href="/2-model-documentation/v7_Documentation/index.html" rel="" target="">
 <span class="dropdown-text">Version 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="/2-model-documentation/v6_Documentation/index.html" rel="" target="">
 <span class="dropdown-text">Version 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-calibrationvalidation" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Calibration/Validation</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-calibrationvalidation">    
        <li>
    <a class="dropdown-item" href="/3-calib-valid/v831-calib-valid/index.html" rel="" target="">
 <span class="dropdown-text">Version 8.3.1</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/4-other/other.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-testing" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Testing</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-testing">    
        <li>
    <a class="dropdown-item" href="/5-testing/jupyter-widgets.html" rel="" target="">
 <span class="dropdown-text">Visualization</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://github.com/WFRCAnalytics/TDM-Documentation/tree/gh-pages" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn"
      data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" 
      aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation"
      onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <h1 class="quarto-secondary-nav-title"></h1>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" 
      aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation"
      onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/downloads.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Downloads</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">v7.0.2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">2012-06</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/v702/1-201206-update.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2012-06 Update</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/v702/2-modes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BRT Modes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/v702/3-accesslinks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hand Coded Access Links</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/v702/4-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other Modifications</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">v7.0.1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">2012-05</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="/1-whats-new/v7-whats-new/v701/1-inputdata.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Input Data</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" ></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <div id="quarto-toc-target"></div>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#input-data" id="toc-input-data">Input Data</a>
  <ul>
  <li><a href="#socioeconomic-data" id="toc-socioeconomic-data">Socioeconomic Data</a></li>
  <li><a href="#plan-amendment" id="toc-plan-amendment">Plan Amendment</a></li>
  </ul></li>
  <li><a href="#sr-201-connection" id="toc-sr-201-connection">SR 201 Connection</a></li>
  </ul>
</nav>
<section id="input-data" class="level1">
<h1>Input Data</h1>
<section id="socioeconomic-data" class="level2">
<h2>Socioeconomic Data</h2>
<p>A very minor change was made to the socioeconomic data in Utah County. A few households had been located in the Utah Lake TAZ. These were removed and relocated into nearby TAZ. This change would have very little affect to model results.</p>
</section>
<section id="plan-amendment" class="level2">
<h2>Plan Amendment</h2>
<p>The highway network was updated in the MAG and WFRC areas to reflect the first round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. The changes to the input highway network are significant, particularly in Utah County, and would most likely affect the travel modelâ€™s output. Projects in and around areas of high change may want to do sensitivity tests to better understand the impact that these input network changes may have had on project-level decisions. <a href="#fig-1-lanes">FigureÂ 1</a> shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.</p>
<div id="fig-1-lanes" class="quarto-figure quarto-figure-center">
<figure>
<p><img src="_pictures/1-lanes.png" class="img-fluid" /></p>
<figcaption>FigureÂ 1: Added lanes between version 8.3 and 8.3.1.</figcaption>
</figure>
</div>
</section>
</section>
<section id="sr-201-connection" class="level1">
<h1>SR 201 Connection</h1>
<p>The highway network was modified at the Salt Lake, Tooele County boundary to provide an independent connection to SR 201 at external 1783. (Note external 1783 existed in the version 8.3 network as a place holder and was not connected to the network in that version.) Externals 1782 and 1783 were moved to improve the connection between the Wasatch Front and USTM travel models. The connecting highway links were also modified to accommodate this change.</p>
<div id="fig-2-sr" class="quarto-figure quarto-figure-center">
<figure>
<p><img src="_pictures/2-sr.png" class="img-fluid" /></p>
<figcaption>FigureÂ 2: SR 201 connection externals.</figcaption>
</figure>
</div>
<p>External 1783 is connected to the highway network via a high-speed divided highway (FT=14) beginning in the 2030 fiscally-constrained plan year. In this year, external volume forecasts also begin for external 1783. Prior to 2030, external 1783 is unconnected to the scenario network and the external volume is zero.</p>
<p>The external volume source file and model input files, â€™_Source_ExternalTAZ_HistoricalAADT - 2020-04-30.xlsxâ€™ and â€˜external_year_vol.csvâ€™ found in â€˜1_Inputs\5_External Ext_Vol_Controlâ€™, were updated to reflect the changes in externals 1782 and 1783. The forecast annual average daily traffic (AADT) for external 1782 was carried forward from version 8.3. The version 8.3 volume was then divided between the two externals based on information from the Utah Statewide Travel Model (USTM) and professional judgement. The average weekday, single-unit and combo-unit factors for external 1782 were brought up to date with the most current information from the master segment shapefile in the model input folder:</p>
<ul>
<li>Average Weekday Factor = 1.057 (was 0.980)</li>
<li>Single-unit Truck Factor = 7.6% (13%)</li>
<li>Combo-unit Truck Factor = 9.8% (was 10%)</li>
</ul>
<p>A summary of the average weekday traffic volumes for externals 1782 and 1783 are shown in the following graphic:</p>
<div id="fig-3-ave-aadt" class="quarto-figure quarto-figure-center">
<figure>
<p><img src="_pictures/3-ave-aadt.png" class="img-fluid" /></p>
<figcaption>FigureÂ 3: Average weekday traffic volumes for externals 1782 and 1783.</figcaption>
</figure>
</div>
<p>While the forecast AADT is identical to version 8.3, the change in weekday factor increased the input volume into the Wasatch Front model space by roughly 6%. The relative share of these trips also changed with significantly fewer medium trucks and more passenger cars. The share of heavy trucks stayed about the same. The weekday and truck factors for external 1783 were set to be equal to external 1782.</p>
<p>External matrices in =â€˜1_Inputs\5_External\WF_Externalâ€™ were also updated through the subarea extraction routine in USTM reflecting the new independent connection to external 1783.</p>
<div id="quarto-navigation-envelope" class="hidden">
<p><span class="hidden" data-render-id="quarto-int-sidebar-title">Whatâ€™s New? - Version 7</span> <span class="hidden" data-render-id="quarto-int-navbar-title">Documentation</span> <span class="hidden" data-render-id="quarto-int-prev">Other Modifications</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/downloads.html">Downloads</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/index.html">Preface</span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-1">v7.0.2</span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-2">2012-06</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/v702/1-201206-update.html">2012-06 Update</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/v702/2-modes.html">BRT Modes</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/v702/3-accesslinks.html">Hand Coded Access Links</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/v702/4-other.html">Other Modifications</span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-3">v7.0.1</span> <span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-4">2012-05</span> <span class="hidden" data-render-id="quarto-int-sidebar:/1-whats-new/v7-whats-new/v701/1-inputdata.html">Input Data</span> <span class="hidden" data-render-id="quarto-int-navbar:Overview">Overview</span> <span class="hidden" data-render-id="quarto-int-navbar:/index.html">/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:What&#39;s New?">Whatâ€™s New?</span> <span class="hidden" data-render-id="quarto-int-navbar:Version 9">Version 9</span> <span class="hidden" data-render-id="quarto-int-navbar:/1-whats-new/v9-whats-new/index.html">/1-whats-new/v9-whats-new/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Version 8">Version 8</span> <span class="hidden" data-render-id="quarto-int-navbar:/1-whats-new/v8-whats-new/index.html">/1-whats-new/v8-whats-new/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Version 7">Version 7</span> <span class="hidden" data-render-id="quarto-int-navbar:/1-whats-new/v7-whats-new/index.html">/1-whats-new/v7-whats-new/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Model Documentation">Model Documentation</span> <span class="hidden" data-render-id="quarto-int-navbar:/2-model-documentation/v7_Documentation/index.html">/2-model-documentation/v7_Documentation/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Version 6">Version 6</span> <span class="hidden" data-render-id="quarto-int-navbar:/2-model-documentation/v6_Documentation/index.html">/2-model-documentation/v6_Documentation/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Calibration/Validation">Calibration/Validation</span> <span class="hidden" data-render-id="quarto-int-navbar:Version 8.3.1">Version 8.3.1</span> <span class="hidden" data-render-id="quarto-int-navbar:/3-calib-valid/v831-calib-valid/index.html">/3-calib-valid/v831-calib-valid/index.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Resources">Resources</span> <span class="hidden" data-render-id="quarto-int-navbar:/4-other/other.html">/4-other/other.html</span> <span class="hidden" data-render-id="quarto-int-navbar:Testing">Testing</span> <span class="hidden" data-render-id="quarto-int-navbar:Visualization">Visualization</span> <span class="hidden" data-render-id="quarto-int-navbar:/5-testing/jupyter-widgets.html">/5-testing/jupyter-widgets.html</span> <span class="hidden" data-render-id="quarto-navbar-tools:https://github.com/WFRCAnalytics/TDM-Documentation/tree/gh-pages">https://github.com/WFRCAnalytics/TDM-Documentation/tree/gh-pages</span> <span class="hidden" data-render-id="footer-left">In collaboration with <a href="https://mountainland.org/"><img src="https://mountainland.org/static/media/logo/svg/MAG_Logo_Horz_NoTag.svg" class="img-fluid" alt="MAG" width="65" /></a></span> <span class="hidden" data-render-id="footer-right">Built using <a href="https://quarto.org">Quarto</a></span> <span class="hidden" data-render-id="quarto-breadcrumbs-60c6e3788b0630ca68ccae845f6cbbf5">v7.0.1</span> <span class="hidden" data-render-id="quarto-breadcrumbs-64c9990f0d65c9c52f451edfbc7bef15">2012-05</span> <span class="hidden" data-render-id="quarto-breadcrumbs-2c55feaa3cad03d7f6bc87dae6320568">Input Data</span></p>
</div>
<div id="quarto-meta-markdown" class="hidden">
<p><span class="hidden" data-render-id="quarto-twittercardtitle"></span> <span class="hidden" data-render-id="quarto-ogcardtitle"></span> <span class="hidden" data-render-id="quarto-metasitename">Documentation</span> <span class="hidden" data-render-id="quarto-twittercarddesc"></span> <span class="hidden" data-render-id="quarto-ogcardddesc"></span></p>
</div>
</section>

</main> <!-- /main -->
<script id = "quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <div class='footer-contents'>In collaboration with 
[![](https://mountainland.org/static/media/logo/svg/MAG_Logo_Horz_NoTag.svg){fig-alt='MAG' width=65px}](https://mountainland.org/)
</div>  
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <div class='footer-contents'>Built using [Quarto](https://quarto.org)</div>  
    </div>
  </div>
</footer>

</body>

</html>