[
  {
    "objectID": "index-web.html",
    "href": "index-web.html",
    "title": "Wasatch Front Travel Demand Model Documentation",
    "section": "",
    "text": "The Wasatch Front Travel Demand Model (WF TDM) is a macro transportation model. It forecasts daily travel patterns based on household characteristics and where people live in relation to the location of their daily activities and transportation opportunities. Travel decisions are based on a series of models that are calibrated to travel behavior of Wasatch Front residents measured from household travel diary surveys. Trips are assigned to a set of highway or transit-system routes by time of day based on where and by what mode people are likely to travel and the best route available to them.\nThe travel demand models are able to evaluate transportation and traffic impacts resulting from:\n\ntransportation improvements\nprovision of new modes of travel and/or enhancement of existing alternative modes\nchanges in land use activity\nchanges in travel behavior or policies/economic circumstances affecting behavior\n\nAs such, travel demand output is used to forecast where future travel demand is likely to exceed capacity and to assess the merits of future transportation investments. Travel demand output is also used to analyze air quality and other ancillary impacts of the transportation system.\nThe current WF TDM covers Weber, Davis, Salt Lake, and Utah Counties and a portion of Box Eder County. The WF TDM is jointly owned by the Wasatch Front Regional Council (WFRC) and the Mountainland Association of Governments (MAG). To request a copy of the WF TDM, please contact the following persons:\n\nSuzie Swim (WFRC): sswim@wfrc.org\nMatt DeLora (MAG): mdelora@magutah.org"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Documentation",
    "section": "",
    "text": "Documentation of the Wasatch Front Travel Demand Model (WF TDM) has been separated into three documents:\n\nWhat’s New Report – describes the changes made to the WF TDM since the last model release\nValidation Report – provides the base year validation of the current version of the WF TDM, as well as a reasonableness check of the model as a forecasting tool\nModel Process Report – provides an overview of the model, a summary of the model’s input data sets, and an outline of the model’s primary steps and logic\n\nThese reports will be available as PDF documents in the “_Notes” folder in the WF TDM’s root directory. However, it is expected that the primary means of accessing the model’s documentation will be online at the following links:\n\nWhat’s New\nValidation Report\nModel Process Report (in progress)\nPrevious Versions (in progress)"
  },
  {
    "objectID": "v2x/v210/downloads.html",
    "href": "v2x/v210/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 2.1.0 documentation is shown below by category.\n\nUsers GUide\n\n v2.1 Users Guide"
  },
  {
    "objectID": "v2x/v210/index.html",
    "href": "v2x/v210/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 2.1.0. The documentation includes:\n\nUsers Guide\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v3x/v300/downloads.html",
    "href": "v3x/v300/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 3.0.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v3.0 Whats New"
  },
  {
    "objectID": "v3x/v300/index.html",
    "href": "v3x/v300/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 3.0.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-assign.html",
    "href": "v3x/v300/whats-new/v30-assign.html",
    "title": "Highway Assignment",
    "section": "",
    "text": "Note: Highway assignment also occurs as a feedback loop in the distribution phase. The pre mode choice assignment in distribution and the post mode choice assignment (final assignment) methods and parameters are consistent, with the exception of trip tables. In distribution, the mode choice split is assumed to be consistent with the 1993 Home Interview Survey, and final assignment accounts for any changes in mode share that are unique to the scenario.\n\nPath impedance function\nIn Version 2.1, path choice was based on minimizing the following function:\nCOST= (0.25 * MINUTES + 0.75 * MILES).\nWhen time was the only consideration, freeways were loaded much heavier than they should have been. The heavy weighting on distance was to help bring volumes on both freeways and arterials closer to observed counts. Since the units on time and distance are inconsistent, it is difficult to relate these parameters in this way. In Version 3.0, both time and distance are converted to dollar values. Thus the time savings an alternative route offers is valued at $4.00/hour, and the mileage savings the comparable route offers is valued at $0.10/mile. The result is the following cost function:\nCOST = [(4 dollars/hour)(1hour/60 minutes)(MINUTES) + \n                (0.10 dollars/mile) * MILES].\nThis reduces to:\nCOST = (0.067 * MINUTES +  0.10 MILES).\nWhen factors are scaled up so as to sum to 1 (as in Version 2.1) the function is:\nCOST = (0.4 * MINUTES + 0.6 * MILES).\nThus Version 3.0 factors can be expressed in dollars, which can facilitate comprehension of the trade-offs between time and distance.\n\n\nVolume/Delay functions\nVersion 2.1 volume delay functions were of the standard BPR format:\nCongested Time (minutes) = Free flow time * (1 + Coefficient*(V/C)^Exponent)     \nThe development of Version 3.0 experimented with Conical and Akcelic functions, but found little significant difference in either curve shapes or assignment results. Thus Version 3.0 continues with BPR format functions. The following compares Version 2.1 to 3.0. The graphic demonstrates the effect of the 3.0 functions. Note that the average speed of ramps drops to 10 mph by V/C = 1. This is to simulate not only the affect of ramp metering, but also the signal delay typically experienced when attempting to enter or leave a freeway ramp.\n\n\n\n\nTable 1: Congested Speed Factors between Model Versions\n\n\n\n\n\n\n\n\n\n\nVersion 2.1\nCoef\nExp\nVersion 3.0\nCoef\nExp\n\n\n\n\nFreeways/Ramps\n0.88\n6.5\nFreeways\n0.4\n8\n\n\nAll else (traditional BPR)\n0.15\n4.0\nRamps\n2\n12\n\n\n\n\n\nPrincipals\n0.5\n4\n\n\n\n\n\nMinors\n0.3\n4\n\n\n\n\nCollectors\n0.1\n4\n\n\n\n\n\n\n\n\n\n\nFigure 1: New Volume-Delay Function.\n\n\nThe improvements to the volume-delay functions resulted in AM model speeds that compare well with observed data and modeled daily volumes that match observed traffic volumes reasonably well.\n\n\n\nHighway Network AM Speed Comparison (2001 Model vs. Actual)\n\n\n\n\n\nDaily Link Volumn Comparison (2001 Model vs. Actual)\n\n\n\n\n\nDaily VMT Comparison (2001 Model vs. Actual)"
  },
  {
    "objectID": "v3x/v300/whats-new/v30-auto-own.html",
    "href": "v3x/v300/whats-new/v30-auto-own.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The Version 2.1 auto-ownership model was borrowed from Portland and relied on data that was difficult to project into the future, and much of which could not be validated as having a measurable affect on the number of autos a household might own. Version 3.0 is a best-practice multinomial Logit model developed entirely on local data. The output from the auto ownership model is households by size, income, workers and autos owned, which becomes valuable input into mode choice.\n\n\n(All parameters significant at .05 level, except the parameter for (pop. density for nearest 5 zones) for the 2-vehicle choice, which is significant at .10)\n\n\n\n\n\n\nUtility 0veh\n\n\n\n\n\nUtility 0veh = -4.2944 + 3.361(Hhsize = 1) + 0.999(Hhsize = 2) + 0.998(Workers = 0) + 2.733(lowest income quartile) + 0.05159(pop. density for nearest 5 zones) + 0.00001990(employment within 30 minutes transit)\n\n\n\n\n\n\n\n\n\nUtility 1veh\n\n\n\n\n\nUtility 1veh = -3.0894 + 2.971(Hhsize = 1) + 1.008(Hhsize = 2) + 1.947(Workers = 0) + 1.985(Workers = 1) + 1.433(Workers = 2) + 1.557(lowest income quartile) + 0.07346(pop. density for nearest 5 zones) + 0.000008342(employment within 30 minutes transit)\n\n\n\n\n\n\n\n\n\nUtility 2veh\n\n\n\n\n\nUtility 2veh = -1.0604 + 0.593HH1 + 0.438HH2 - 0.320HH3 - 0.289HH4 + 1.638(Workers = 0) + 1.719(Workers = 1) + 1.708(Workers = 2) + 0.538(lowest income quartile) + 0.02366*(pop. density for nearest 5 zones)\n\n\n\n\n\n\n\n\n\nUtility 3veh\n\n\n\n\n\nUtility 2veh = 0\n\n\n\nThe parameters in the model suggest a few behavioral characteristics that seem logical and are worth noting. For example, smaller households are more likely to own fewer vehicles than larger household. Also, households with fewer workers typically own fewer vehicles, perhaps both due to having less need to drive and less means to afford more vehicles. Low-income households are substantially more likely than higher income households to own fewer vehicles. The population density surrounding the residential zone has a significant impact on auto ownership, with higher density locations correlated with lower vehicle ownership. Lastly, access to jobs via transit seems to be an important factor in the auto ownership decision-making process, or is at least the data suggest that households with fewer vehicles live in more transit-accessible neighborhoods.\nThe calibration of the auto ownership model was done on 2000 Census data, at the census tract level. Scatter plots of this analysis are presented in Figure 1, Figure 2, and Figure 3.\n\n\n\nFigure 1: % in of Households with 0 Vehicles (Model vs. ’00 Census) – (Correlation of two variables equals .83).\n\n\n\n\n\nFigure 2: % in of Households with 1 Vehicle (Model vs. ’00 Census) – (Correlation of two variables equals .80) .\n\n\n\n\n\nFigure 3: % in of Households with 2+ Vehicle (Model vs. ’00 Census) – (Correlation of two variables equals .88) ."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-auto-own.html#new-auto-ownwership-model",
    "href": "v3x/v300/whats-new/v30-auto-own.html#new-auto-ownwership-model",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The Version 2.1 auto-ownership model was borrowed from Portland and relied on data that was difficult to project into the future, and much of which could not be validated as having a measurable affect on the number of autos a household might own. Version 3.0 is a best-practice multinomial Logit model developed entirely on local data. The output from the auto ownership model is households by size, income, workers and autos owned, which becomes valuable input into mode choice.\n\n\n(All parameters significant at .05 level, except the parameter for (pop. density for nearest 5 zones) for the 2-vehicle choice, which is significant at .10)\n\n\n\n\n\n\nUtility 0veh\n\n\n\n\n\nUtility 0veh = -4.2944 + 3.361(Hhsize = 1) + 0.999(Hhsize = 2) + 0.998(Workers = 0) + 2.733(lowest income quartile) + 0.05159(pop. density for nearest 5 zones) + 0.00001990(employment within 30 minutes transit)\n\n\n\n\n\n\n\n\n\nUtility 1veh\n\n\n\n\n\nUtility 1veh = -3.0894 + 2.971(Hhsize = 1) + 1.008(Hhsize = 2) + 1.947(Workers = 0) + 1.985(Workers = 1) + 1.433(Workers = 2) + 1.557(lowest income quartile) + 0.07346(pop. density for nearest 5 zones) + 0.000008342(employment within 30 minutes transit)\n\n\n\n\n\n\n\n\n\nUtility 2veh\n\n\n\n\n\nUtility 2veh = -1.0604 + 0.593HH1 + 0.438HH2 - 0.320HH3 - 0.289HH4 + 1.638(Workers = 0) + 1.719(Workers = 1) + 1.708(Workers = 2) + 0.538(lowest income quartile) + 0.02366*(pop. density for nearest 5 zones)\n\n\n\n\n\n\n\n\n\nUtility 3veh\n\n\n\n\n\nUtility 2veh = 0\n\n\n\nThe parameters in the model suggest a few behavioral characteristics that seem logical and are worth noting. For example, smaller households are more likely to own fewer vehicles than larger household. Also, households with fewer workers typically own fewer vehicles, perhaps both due to having less need to drive and less means to afford more vehicles. Low-income households are substantially more likely than higher income households to own fewer vehicles. The population density surrounding the residential zone has a significant impact on auto ownership, with higher density locations correlated with lower vehicle ownership. Lastly, access to jobs via transit seems to be an important factor in the auto ownership decision-making process, or is at least the data suggest that households with fewer vehicles live in more transit-accessible neighborhoods.\nThe calibration of the auto ownership model was done on 2000 Census data, at the census tract level. Scatter plots of this analysis are presented in Figure 1, Figure 2, and Figure 3.\n\n\n\nFigure 1: % in of Households with 0 Vehicles (Model vs. ’00 Census) – (Correlation of two variables equals .83).\n\n\n\n\n\nFigure 2: % in of Households with 1 Vehicle (Model vs. ’00 Census) – (Correlation of two variables equals .80) .\n\n\n\n\n\nFigure 3: % in of Households with 2+ Vehicle (Model vs. ’00 Census) – (Correlation of two variables equals .88) ."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-distribution.html",
    "href": "v3x/v300/whats-new/v30-distribution.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The form of the trip distribution model hasn’t changed – we still use a non-parametric gravity model. The friction factors were re-calibrated. Minor changes have been made to accommodate the off-model trip tables mentioned below, IXXI distribution noted below, and highway assignment improvements (see Highway Assignment). College, airport, and Lagoon trip tables were distributed off-model, then summed in with totals. Some enhancements to data management and reporting were also made.\n\n\nA significant imbalance in IXXI trips between Utah County and Salt Lake County was discovered in V 2.1. Before the three models were merged into one, district level factors were used to determine how much of a zone’s trips should be IXXI. In Utah County, a much higher percentage of the total trips were IXXI, because Salt Lake was once an external station for them. Further, all IXXI trips had an average trip time of over 40 minutes within the region. 1993 HIS data suggests these trips should be closer to 25 minutes within the region (and an unknown time outside the region).\nIn Version 3.0, the method for determining IXXI trips has been completely re-engineered. XI trips are distributed by travel time from the external station weighted by the zonal employment. XI productions represent 75% of the total of IXXI. IX productions are distributed by travel time, but weighted by zonal population. They represent 25% of the total. The 75-25 split assumes that on an average weekday there are more people coming from outside the region to attractions within the region than there are people going from the region to attractions outside the region. IXXI friction factors were also adjusted to better target a 25-minute average. Finally, each external is influenced by the number of people living “just outside” the external. For example, the Tooele, Park City, and Brigham City/Logan externals have far more “commuter interaction” with the region than the Nephi and Price externals. To account for this, productions and attractions are weighted by their district’s proximity to larger satellite cities outside the region.\n\n\n\nVersion 3.0 includes a process to speedily estimate and calibrate the correct shape of these curves directly from the 1993 HIS data.\nThe friction factor curve for each trip purpose was calibrated through an iterative process such that the observed and estimated trip length frequency distributions would reasonably match. The friction factor curves are shown in Figure 1. In addition, attention was given to trip distributions across specific screenlines. Comparisons between observed and estimated trip length frequency distributions are presented in Figure 2, Figure 3, and Figure 4. In general, the calibrated trip distribution model is able to replicate the observed trip length frequency closely.\n\n\n\nFigure 1: Friction Factor Curves (scaled).\n\n\nIn distributing each of the trip purposes, the impedance measure that is input to the gravity model is inter-zonal auto travel times. Auto times are used because nearly all of the trips are made by automobile. The zone-to-zone auto travel times are “skimmed” from a loaded travel network, which is an output from a four-period travel assignment. All trips are distributed with skims derived from the AM peak travel assignment.\n\n\n\nMany transit proposals currently under review would serve major generators that have a distribution pattern that a gravity model would not adequately determine on its own. Home addresses of college students were obtained from each major college, which allowed creation of a distribution pattern for that college. An airport survey was also available that allowed distribution of airport patrons across the region, where the gravity model had previously allocated trips almost exclusively to neighborhoods nearest the airport. The Lagoon amusement park is another isolated zone for which total trips were available. The HBO purpose to Lagoon had an average trip length of slightly more than 10 minutes. This was thought unreasonable since this is the only major amusement park in Utah. HBO trips were thus extended further to draw from the whole region, but with emphasis on nearest zones.\n\n\n\nFigure 2: HBW Trip Length Frequency Comparison (Model vs. Observed).\n\n\n\n\n\nFigure 3: HBO Trip Length Frequency Comparison (Model vs. Observed).\n\n\n\n\n\nFigure 4: NHB Trip Length Frequency Comparison (Model vs. Observed)."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-distribution.html#trip-distribution",
    "href": "v3x/v300/whats-new/v30-distribution.html#trip-distribution",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The form of the trip distribution model hasn’t changed – we still use a non-parametric gravity model. The friction factors were re-calibrated. Minor changes have been made to accommodate the off-model trip tables mentioned below, IXXI distribution noted below, and highway assignment improvements (see Highway Assignment). College, airport, and Lagoon trip tables were distributed off-model, then summed in with totals. Some enhancements to data management and reporting were also made.\n\n\nA significant imbalance in IXXI trips between Utah County and Salt Lake County was discovered in V 2.1. Before the three models were merged into one, district level factors were used to determine how much of a zone’s trips should be IXXI. In Utah County, a much higher percentage of the total trips were IXXI, because Salt Lake was once an external station for them. Further, all IXXI trips had an average trip time of over 40 minutes within the region. 1993 HIS data suggests these trips should be closer to 25 minutes within the region (and an unknown time outside the region).\nIn Version 3.0, the method for determining IXXI trips has been completely re-engineered. XI trips are distributed by travel time from the external station weighted by the zonal employment. XI productions represent 75% of the total of IXXI. IX productions are distributed by travel time, but weighted by zonal population. They represent 25% of the total. The 75-25 split assumes that on an average weekday there are more people coming from outside the region to attractions within the region than there are people going from the region to attractions outside the region. IXXI friction factors were also adjusted to better target a 25-minute average. Finally, each external is influenced by the number of people living “just outside” the external. For example, the Tooele, Park City, and Brigham City/Logan externals have far more “commuter interaction” with the region than the Nephi and Price externals. To account for this, productions and attractions are weighted by their district’s proximity to larger satellite cities outside the region.\n\n\n\nVersion 3.0 includes a process to speedily estimate and calibrate the correct shape of these curves directly from the 1993 HIS data.\nThe friction factor curve for each trip purpose was calibrated through an iterative process such that the observed and estimated trip length frequency distributions would reasonably match. The friction factor curves are shown in Figure 1. In addition, attention was given to trip distributions across specific screenlines. Comparisons between observed and estimated trip length frequency distributions are presented in Figure 2, Figure 3, and Figure 4. In general, the calibrated trip distribution model is able to replicate the observed trip length frequency closely.\n\n\n\nFigure 1: Friction Factor Curves (scaled).\n\n\nIn distributing each of the trip purposes, the impedance measure that is input to the gravity model is inter-zonal auto travel times. Auto times are used because nearly all of the trips are made by automobile. The zone-to-zone auto travel times are “skimmed” from a loaded travel network, which is an output from a four-period travel assignment. All trips are distributed with skims derived from the AM peak travel assignment.\n\n\n\nMany transit proposals currently under review would serve major generators that have a distribution pattern that a gravity model would not adequately determine on its own. Home addresses of college students were obtained from each major college, which allowed creation of a distribution pattern for that college. An airport survey was also available that allowed distribution of airport patrons across the region, where the gravity model had previously allocated trips almost exclusively to neighborhoods nearest the airport. The Lagoon amusement park is another isolated zone for which total trips were available. The HBO purpose to Lagoon had an average trip length of slightly more than 10 minutes. This was thought unreasonable since this is the only major amusement park in Utah. HBO trips were thus extended further to draw from the whole region, but with emphasis on nearest zones.\n\n\n\nFigure 2: HBW Trip Length Frequency Comparison (Model vs. Observed).\n\n\n\n\n\nFigure 3: HBO Trip Length Frequency Comparison (Model vs. Observed).\n\n\n\n\n\nFigure 4: NHB Trip Length Frequency Comparison (Model vs. Observed)."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-doc.html",
    "href": "v3x/v300/whats-new/v30-doc.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Improvements in storage mediums has allowed documentation, relevant GIS layers, and many input source files and creation processes to be packaged with each model run to provide easier access to useful information."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-doc.html#documentation-source-files",
    "href": "v3x/v300/whats-new/v30-doc.html#documentation-source-files",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Improvements in storage mediums has allowed documentation, relevant GIS layers, and many input source files and creation processes to be packaged with each model run to provide easier access to useful information."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-input-prep.html",
    "href": "v3x/v300/whats-new/v30-input-prep.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The 2000 Census provided a good base and motive to forecast future population and employment anew. The method employed by both WFRC and MAG for forecasting population and employment was also thoroughly reviewed, and revised to better incorporate GIS data of land use plans and existing development. At the time of Version 3.0’s release (June 16, 2003), MAG’s new projections were not yet available, so their previous projections were used in their stead. 3.1 is expected to include MAG’s new projections, and some minor revisions to WFRC’s projections.\nPopulation and Employment density are now calculated using developable land by land-use category, as specified in city master plans. Further refinements to the projections process include “seeding” undeveloped zones with pop/emp to allow for automated growth allocation, and an extensive review of the region looking for neighborhoods that are not expected to change significantly in the coming years (primarily, the highest-end residential zones that are built out). See documentation on demographics forecasting for further details.\n\n\n\nThe 2000 Census provided an opportunity to classify households by size (people in the household), income quartile, and workers per household. An off-model C++ program was written to apply Census curves to basic zonal information such as the total households, average household size, and average zonal income, to estimate the total number of households in combinations of these categories: into 6 HH size categories (1 person to 6+ person), 4 worker categories (0 to 3+), and 4 income quartile categories. This then becomes basic input to Auto Ownership, Trip Generation, and Mode Choice, allowing for market segmentation to be used throughout the modeling process.\n\n\n\nA key variable in determining average free flow speeds on the highway network and terminal times within each zone is the intensity and type of land use surrounding a highway link. A process was inserted into the model stream that considers the population and employment density of a zone and its four nearest neighbors to estimate the likely area type of that zone. Any links that pass through that zone are then automatically flagged with that type, and a free flow speed is assigned that in part relies on this area type. Thus, for example, for any scenarios that test “future CBD level densities” in an existing Greenfield area, arterial street speeds will respond downward accordingly because of the higher density surrounding the street. Area types are, in order of density: 1) Rural, 2) Transition, 3) Suburban, 4) Urban, 5) CBD.\n\n\n\nTo improve free flow speed and capacity estimates, methodologies in NCHRP 357 and HCM 2001 were applied. Speeds are now determined by applying an unsignalized speed stratified by functional type and area type, which is then factored by number of stops/mile and the delay/stop for the functional type and area type. Speeds are further adjusted based on whether the link is part of a high priority or low priority corridor. Higher priority corridors are more likely to have higher green times, better signal coordination, and less on-street parking, thus higher free-flow speeds. Free flow speeds were compared against GPS speed data to adjust NCHRP 387 default values. GPS speed data was used to validate both these free flow speeds and congested speeds.\nCapacities are determined by factoring a saturation flow rate by the percentages of heavy vehicles, bus blockages, lane utilization, and green time. Specific links known to have unusually high or low “friction” are flagged and adjusted accordingly.\n\n\n\nNumerous automated tools have been developed and applied to help highlight network deficiencies, and facilitate network maintenance. Highway networks are now far more robust than they have ever been. The networks have further been updated with recently constructed roadways as well as the most current UTA operational plans. Future years are consistent with the most recent long-range transportation plans and programmed improvements. Future year transit networks reflect the latest thinking from EISs and New Starts submittals."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-input-prep.html#input-preparation",
    "href": "v3x/v300/whats-new/v30-input-prep.html#input-preparation",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The 2000 Census provided a good base and motive to forecast future population and employment anew. The method employed by both WFRC and MAG for forecasting population and employment was also thoroughly reviewed, and revised to better incorporate GIS data of land use plans and existing development. At the time of Version 3.0’s release (June 16, 2003), MAG’s new projections were not yet available, so their previous projections were used in their stead. 3.1 is expected to include MAG’s new projections, and some minor revisions to WFRC’s projections.\nPopulation and Employment density are now calculated using developable land by land-use category, as specified in city master plans. Further refinements to the projections process include “seeding” undeveloped zones with pop/emp to allow for automated growth allocation, and an extensive review of the region looking for neighborhoods that are not expected to change significantly in the coming years (primarily, the highest-end residential zones that are built out). See documentation on demographics forecasting for further details.\n\n\n\nThe 2000 Census provided an opportunity to classify households by size (people in the household), income quartile, and workers per household. An off-model C++ program was written to apply Census curves to basic zonal information such as the total households, average household size, and average zonal income, to estimate the total number of households in combinations of these categories: into 6 HH size categories (1 person to 6+ person), 4 worker categories (0 to 3+), and 4 income quartile categories. This then becomes basic input to Auto Ownership, Trip Generation, and Mode Choice, allowing for market segmentation to be used throughout the modeling process.\n\n\n\nA key variable in determining average free flow speeds on the highway network and terminal times within each zone is the intensity and type of land use surrounding a highway link. A process was inserted into the model stream that considers the population and employment density of a zone and its four nearest neighbors to estimate the likely area type of that zone. Any links that pass through that zone are then automatically flagged with that type, and a free flow speed is assigned that in part relies on this area type. Thus, for example, for any scenarios that test “future CBD level densities” in an existing Greenfield area, arterial street speeds will respond downward accordingly because of the higher density surrounding the street. Area types are, in order of density: 1) Rural, 2) Transition, 3) Suburban, 4) Urban, 5) CBD.\n\n\n\nTo improve free flow speed and capacity estimates, methodologies in NCHRP 357 and HCM 2001 were applied. Speeds are now determined by applying an unsignalized speed stratified by functional type and area type, which is then factored by number of stops/mile and the delay/stop for the functional type and area type. Speeds are further adjusted based on whether the link is part of a high priority or low priority corridor. Higher priority corridors are more likely to have higher green times, better signal coordination, and less on-street parking, thus higher free-flow speeds. Free flow speeds were compared against GPS speed data to adjust NCHRP 387 default values. GPS speed data was used to validate both these free flow speeds and congested speeds.\nCapacities are determined by factoring a saturation flow rate by the percentages of heavy vehicles, bus blockages, lane utilization, and green time. Specific links known to have unusually high or low “friction” are flagged and adjusted accordingly.\n\n\n\nNumerous automated tools have been developed and applied to help highlight network deficiencies, and facilitate network maintenance. Highway networks are now far more robust than they have ever been. The networks have further been updated with recently constructed roadways as well as the most current UTA operational plans. Future years are consistent with the most recent long-range transportation plans and programmed improvements. Future year transit networks reflect the latest thinking from EISs and New Starts submittals."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-mode-choice.html",
    "href": "v3x/v300/whats-new/v30-mode-choice.html",
    "title": "Mode Choice",
    "section": "",
    "text": "New Logit models for HBO and NHB purposes\nMode choice was considered a relatively weak link in version 2.1, particularly for non-work trips. It has been extensively revised. The mode choice models’ major deficiencies were lack of independent Logit models for the HBO and NHB purposes. Trips for these purposes were calculated by factoring HBW trips – a practice considered sub-standard by the January 2001 peer review. Independent models for each purpose now exist.\n\n\n\nFigure 1: Mode Choice Model Nesting Structure (and nesting coefficients).\n\n\n\n\n\nFigure 2: Mode Choice Model Coefficients by purpose.\n\n\n\n\nMarket segmentation for home-based purposes\nHBW, HBC, and HBO models have been market segmented by three auto-ownership classes (0,1,2), and two income classes (lowest income quartile, 3 highest income quartiles). Since NHB by definition has no specific household information, HNB trips cannot be segmented using household data.\n\n\nWalk access to transit methodology revised\nVersion 2.1 contained an “all or nothing” approach to determining whether a zone had walk access to transit. If the zone centroid was within ½ mile of a bus stop, 100% of the zone had access (3/4 mile for rail). However, network-traced paths often require far more walking than would occur in reality. Further, a wide variance in the size of zones (and hence the number of people who “have access”) caused some concern.\nThe new approach attempts to determine the percentage of each zone’s area that truly is within walk distance of transit. GIS is used to create a 4/10 mile buffer around bus lines, express bus stops, and rail stops. This buffer is then intersected with the TAZs to estimate the number of people and jobs within the buffer.\nThe algorithm to determine walk-access times for zones within walking distance of transit makes a concerted effort to trace at least one walk path to a transit stop for all zones within walking distance of transit. This is done by tracing a series of access paths, increasing the maximum path length over the network. The algorithm then caps the access path length at .4 miles.\n\n\nDrive access to transit coding\nA coding flaw was also discovered that affected drive access to transit. The previous code ensured drive-to-transit access in the form of park-n-ride links, but neglected to ensure that there were walk links available to egress the system at the destination. In other words, you could easily drive-to-transit, it was just hard to find places where you could get off. Modes where drive access can range from 25-85% (express bus, light rail, commuter rail), were seeing only a 10-15% drive share in Version 2.1. This has been corrected.\n\n\nSummit-formatted output\nFTA New Starts funding requests require the analysis of mode choice output using software named “Summit”. FTA developed Summit for comparing two alternatives to determine “winners and losers”. It is a useful tool for all types of alternatives analysis, including highway alternatives. The model can now easily generate the input required for Summit with a simple toggle switch.\n\n\nImproved transit speeds\nVersion 2.1 had a carry over from much earlier models that assumed that if a bus traveled on any street outside the CBD or a freeway, that its average speed (including stops) would be 0.9 multiplied by the average congested speed for vehicles. This may be true under the most extreme congestion, but for most circumstances the relative speeds between buses and private autos is more pronounced. Version 3.0 conducted a substantial review of UTA’s scheduled stops (to determine typical average bus speeds), and compared these against average private auto congested speeds obtained using GPS. The resulting factors are noted below. The new transit speed coding methodology, as well as the observed auto speed data allowed us to closely model observed bus speeds (see Figure 3) and bus boardings (Figure 4).\n\n\n\n\nTable 1: Congested Speed Factors between Model Versions\n\n\n\n\n\n\n\n\nVersion 2.1\n#.#* Congested speed\nVersion 3.0\n#.#* Congested speed\n\n\n\n\nFreeway factor\n1.0\nFreeway factor\n0.9\n\n\nFreeway factor\n\nRamp factor\n0.5\n\n\nCBD factor\n0.5\nPrincipal/Collector\n0.6\n\n\nAll others\n0.9\nMinor art CBD/urban\n0.55\n\n\nAll others\n\nMinor art Suburban/rural\n0.65\n\n\n\n\n\n\n\n\n\nFigure 3: 2001 Modeled vs. Actual Bus Speed Comparison.\n\n\n\n\n\nFigure 4: 2001 Mode vs. Actual Bus Boardings."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-modeling-process.html",
    "href": "v3x/v300/whats-new/v30-modeling-process.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The regional travel modeling process is unchanged and is depicted in the figure below. The regional travel demand model used jointly by WFRC and MAG is a trip-based, 5-step model. Some important features of the model set include an auto ownership choice model with density and transit accessibility measures, a feedback loop between distribution and assignment, and nested logit mode choice models, including a non-motorized nests.\nThe land-use projections fed into the travel model are fixed for a given year and are derived by growing current year socioeconomic data by factors that are based on density, controlling countywide totals to estimates derived from a macro-economic model. Local planners then review TAZ-level data and adjustments are made where reasonable.\n\n\n\nFigure 1: Modeling process."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-modeling-process.html#modeling-process",
    "href": "v3x/v300/whats-new/v30-modeling-process.html#modeling-process",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The regional travel modeling process is unchanged and is depicted in the figure below. The regional travel demand model used jointly by WFRC and MAG is a trip-based, 5-step model. Some important features of the model set include an auto ownership choice model with density and transit accessibility measures, a feedback loop between distribution and assignment, and nested logit mode choice models, including a non-motorized nests.\nThe land-use projections fed into the travel model are fixed for a given year and are derived by growing current year socioeconomic data by factors that are based on density, controlling countywide totals to estimates derived from a macro-economic model. Local planners then review TAZ-level data and adjustments are made where reasonable.\n\n\n\nFigure 1: Modeling process."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-reports.html",
    "href": "v3x/v300/whats-new/v30-reports.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Version 3.0 includes a model log that tracks significant values as they are computed in order to facilitate comparison of values.\n\n\n\nThe model includes a utility that loads the 2001, 2030, and “Current Scenario” population and employment onto the highway network zones. This is useful for model stream reports and for simple displays and comparisons in Viper or GIS.\nThe travel model also reports demographic statistics by county and large district. It includes script utilities to report the same statistics for any aggregation of TAZs (such as a study area).\n\n\n\nThe model stream reports calculations relevant to special generators to aid in understanding the modeling of these sites.\n\n\n\nNumerous predefined Viper maps are included in the model.\n\n\n\nThe highway statistics report (formerly known as the “Air Quality” report) has been modified to provide statistics on both the intermediate assignment (Distribution), and the final assignment.\nVersion 2.1 produced the report for just counties and select cities. Version 3.0 has also been modified to easily produce the report for any geography the user specifies (such as a study area).\nNew statistics include the percentage of links in each category that have a PM V/C ratio exceeding 1.0, and 1.2.\nIt also includes a new “Trips Report” that determines the total number of vehicle trips made on non-local streets within a geography.\n\n\n\nA job script is available that quickly produces statistics relevant to the calibration and validation of the travel model. Output is only meaningful when produced for the base year (2001). Output includes comparisons and RMSE of modeled volumes with UDOT counts on each facility type and for each county. It also produces similar statistics between modeled speeds and observed GPS speeds.\n\n\n\nThe shares report has been updated in accordance with the expanded mode choice model. It has also been modified to make it easier to generate the report on any geography.\n\n\n\nThe transit station and track activity template has been improved to make it simpler to understand model output for stations and track segments. An SPSS script must be run to as a step in producing this report.\n\n\n\nModel runs will range from ½ Gigabyte per run to as much as 15 Gigabytes per run. Most of this data is intermediate files that are stored in the “9Tmp” directory. To facilitate storage of model runs, the 9Tmp directory can be moved or deleted in order to write a CD. Non of the files necessary to reproduce the model run are included in the 9Tmp directory."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-reports.html#reports-post-processors-data-management",
    "href": "v3x/v300/whats-new/v30-reports.html#reports-post-processors-data-management",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Version 3.0 includes a model log that tracks significant values as they are computed in order to facilitate comparison of values.\n\n\n\nThe model includes a utility that loads the 2001, 2030, and “Current Scenario” population and employment onto the highway network zones. This is useful for model stream reports and for simple displays and comparisons in Viper or GIS.\nThe travel model also reports demographic statistics by county and large district. It includes script utilities to report the same statistics for any aggregation of TAZs (such as a study area).\n\n\n\nThe model stream reports calculations relevant to special generators to aid in understanding the modeling of these sites.\n\n\n\nNumerous predefined Viper maps are included in the model.\n\n\n\nThe highway statistics report (formerly known as the “Air Quality” report) has been modified to provide statistics on both the intermediate assignment (Distribution), and the final assignment.\nVersion 2.1 produced the report for just counties and select cities. Version 3.0 has also been modified to easily produce the report for any geography the user specifies (such as a study area).\nNew statistics include the percentage of links in each category that have a PM V/C ratio exceeding 1.0, and 1.2.\nIt also includes a new “Trips Report” that determines the total number of vehicle trips made on non-local streets within a geography.\n\n\n\nA job script is available that quickly produces statistics relevant to the calibration and validation of the travel model. Output is only meaningful when produced for the base year (2001). Output includes comparisons and RMSE of modeled volumes with UDOT counts on each facility type and for each county. It also produces similar statistics between modeled speeds and observed GPS speeds.\n\n\n\nThe shares report has been updated in accordance with the expanded mode choice model. It has also been modified to make it easier to generate the report on any geography.\n\n\n\nThe transit station and track activity template has been improved to make it simpler to understand model output for stations and track segments. An SPSS script must be run to as a step in producing this report.\n\n\n\nModel runs will range from ½ Gigabyte per run to as much as 15 Gigabytes per run. Most of this data is intermediate files that are stored in the “9Tmp” directory. To facilitate storage of model runs, the 9Tmp directory can be moved or deleted in order to write a CD. Non of the files necessary to reproduce the model run are included in the 9Tmp directory."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-terms.html",
    "href": "v3x/v300/whats-new/v30-terms.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Trip purposes\n\nHBW: Home-based work trip\nHBC: Home-based college trip\nHBO: Home-based other trip\nNHB: Non home-based trip\nSkims: Network links in a path are “skimmed” to determine total travel time.\nLogit: A mathematical approach for expressing the factors involved in an individual’s choice between two alternatives. One result may be the total number of individuals who choose automobiles vs. the total who choose transit, when considering the travel times and other competitive features of each.\nRMSE: Root Mean Square Error"
  },
  {
    "objectID": "v3x/v300/whats-new/v30-terms.html#terms-and-abbreviations",
    "href": "v3x/v300/whats-new/v30-terms.html#terms-and-abbreviations",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Trip purposes\n\nHBW: Home-based work trip\nHBC: Home-based college trip\nHBO: Home-based other trip\nNHB: Non home-based trip\nSkims: Network links in a path are “skimmed” to determine total travel time.\nLogit: A mathematical approach for expressing the factors involved in an individual’s choice between two alternatives. One result may be the total number of individuals who choose automobiles vs. the total who choose transit, when considering the travel times and other competitive features of each.\nRMSE: Root Mean Square Error"
  },
  {
    "objectID": "v3x/v300/whats-new/v30-trip-gen.html",
    "href": "v3x/v300/whats-new/v30-trip-gen.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Version 2.1 combined what were 3 separate travel models for Ogden, Salt Lake, and Provo into a single model. However, the production and attraction equations from those separate models were retained for each area. Further, production equations were based strictly on observed data, and were not smoothed by logical reasoning. For example, the data may have suggested a zero-car household with 3 people would take more shopping trips/day than a zero-car household with 6 people. This cannot logically be explained other than by a small sampling. Rates have now been consolidated to regional averages, and smoothed as recommended by an in-house peer review in January 2002.\n\n\n\nFigure 1: Trip production rates for home based trips.\n\n\n\n\n\nFigure 2: Trip attraction equations.\n\n\n\n\n\nHBO trips produced in an urban area and attracted to that same urban area were significantly out of balance. For example, the Utah County area was found to produce about 10% more HBO trips than it attracted, where the 1993 household survey shows it at 2%. Since HBO trips are heavily weighted toward short, neighborhood trips, they were balanced by urban area to help address this.\n\n\n\nTrips to SL CBD (Large District 9) were compared against the 1993 Home Interview Survey, and it was found that the percentage of SL CBD trips that were non-home based was about 10% lower in the model than it was in the survey. Thus NHB attractions to the CBD were factored up to account for this."
  },
  {
    "objectID": "v3x/v300/whats-new/v30-trip-gen.html#trip-generation",
    "href": "v3x/v300/whats-new/v30-trip-gen.html#trip-generation",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Version 2.1 combined what were 3 separate travel models for Ogden, Salt Lake, and Provo into a single model. However, the production and attraction equations from those separate models were retained for each area. Further, production equations were based strictly on observed data, and were not smoothed by logical reasoning. For example, the data may have suggested a zero-car household with 3 people would take more shopping trips/day than a zero-car household with 6 people. This cannot logically be explained other than by a small sampling. Rates have now been consolidated to regional averages, and smoothed as recommended by an in-house peer review in January 2002.\n\n\n\nFigure 1: Trip production rates for home based trips.\n\n\n\n\n\nFigure 2: Trip attraction equations.\n\n\n\n\n\nHBO trips produced in an urban area and attracted to that same urban area were significantly out of balance. For example, the Utah County area was found to produce about 10% more HBO trips than it attracted, where the 1993 household survey shows it at 2%. Since HBO trips are heavily weighted toward short, neighborhood trips, they were balanced by urban area to help address this.\n\n\n\nTrips to SL CBD (Large District 9) were compared against the 1993 Home Interview Survey, and it was found that the percentage of SL CBD trips that were non-home based was about 10% lower in the model than it was in the survey. Thus NHB attractions to the CBD were factored up to account for this."
  },
  {
    "objectID": "v3x/v310/downloads.html",
    "href": "v3x/v310/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 3.1.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v3.1 Whats New"
  },
  {
    "objectID": "v3x/v310/index.html",
    "href": "v3x/v310/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 3.1.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v3x/v310/whats-new/v31-input-prep.html",
    "href": "v3x/v310/whats-new/v31-input-prep.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Since Version 3.0 was released in June, MAG has produced new demographic projections by the method noted briefly in the Version 3.0 discussion below. These are now incorporated. WFRC has also made minor adjustments based on more thorough review of specific locations of interest. Demographic projections have been reviewed by cities and stakeholders, and have been incorporated in the model."
  },
  {
    "objectID": "v3x/v310/whats-new/v31-input-prep.html#input-preparation",
    "href": "v3x/v310/whats-new/v31-input-prep.html#input-preparation",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Since Version 3.0 was released in June, MAG has produced new demographic projections by the method noted briefly in the Version 3.0 discussion below. These are now incorporated. WFRC has also made minor adjustments based on more thorough review of specific locations of interest. Demographic projections have been reviewed by cities and stakeholders, and have been incorporated in the model."
  },
  {
    "objectID": "v3x/v310/whats-new/v31-intro.html",
    "href": "v3x/v310/whats-new/v31-intro.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "process since the 2001 long-range plan conformity. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. WFRC is currently updating the comprehensive documentation in which there is or will be much more detail about the improvements discussed below (particularly for the new mode choice models). If you have questions, please contact Chad Worth from WFRC (cworthen@wfrc.org)."
  },
  {
    "objectID": "v3x/v310/whats-new/v31-intro.html#introduction",
    "href": "v3x/v310/whats-new/v31-intro.html#introduction",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "process since the 2001 long-range plan conformity. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. WFRC is currently updating the comprehensive documentation in which there is or will be much more detail about the improvements discussed below (particularly for the new mode choice models). If you have questions, please contact Chad Worth from WFRC (cworthen@wfrc.org)."
  },
  {
    "objectID": "v3x/v310/whats-new/v31-mode-choice.html",
    "href": "v3x/v310/whats-new/v31-mode-choice.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Mode choice has been more thoroughly reviewed since Version 3.0 was released, and the calibration of the model has been improved to better replicate observed data. Minor errors in the computer code have been fixed."
  },
  {
    "objectID": "v3x/v310/whats-new/v31-mode-choice.html#mode-choice",
    "href": "v3x/v310/whats-new/v31-mode-choice.html#mode-choice",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Mode choice has been more thoroughly reviewed since Version 3.0 was released, and the calibration of the model has been improved to better replicate observed data. Minor errors in the computer code have been fixed."
  },
  {
    "objectID": "v3x/v320/downloads.html",
    "href": "v3x/v320/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 3.2.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v3.2 Whats New"
  },
  {
    "objectID": "v3x/v320/index.html",
    "href": "v3x/v320/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 3.2.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-district-analysis.html",
    "href": "v3x/v320/whats-new/v32-district-analysis.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Version 3.2 created a new “district analysis” tool set for creating and mapping results. Several project-specific district sets were defined (MVC, 114th South, South Davis), and a “Master District” spreadsheet was set up to store any district sets created for specific purposes. We have not yet figured out a way to apply these tools directly to transit, but the affect of transit scenarios on the highways can be determined through these tools.\n\n\nThis tool quantifies the total VMT, VHT, delay, average speed, and lane miles that are occurring within each of the defined districts. Values are stratified by freeways, arterials, and all roads combined. The output is a .dbf record that can be easily mapped to a shape file of the districts. A comparison utility allows the changes between two alternatives to be mapped for some very enlightening results of how a proposal can affect all locations in the region.\n\n\n\nThis tool reduces the trip purpose matrices (HBW, etc.) and the mode choice matrices to “district flow matrices”. The results can be exported to Excel for easy analysis of trip interchanges between districts. Unique applications include “screenline districts”, where all zones on one side of a screenline are labled 1, and the others labeled 2. The resulting 2x2 matrix reveals how many trips of each matrix type cross the screenline. County to county flows are also defined here.\n\n\n\nSimilar to the CityX processor, this tool will assign trips between up to 4x4 district interactions to the highway network. An example application might be “What share of the trips on I-15 in South Davis go between North Davis/Weber and SL County? How many to the CBD? How many to South Davis itself?” The results are pre-mapped to a .vpr file, and can be easily tabled as well."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-district-analysis.html#district-analysis-tool",
    "href": "v3x/v320/whats-new/v32-district-analysis.html#district-analysis-tool",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Version 3.2 created a new “district analysis” tool set for creating and mapping results. Several project-specific district sets were defined (MVC, 114th South, South Davis), and a “Master District” spreadsheet was set up to store any district sets created for specific purposes. We have not yet figured out a way to apply these tools directly to transit, but the affect of transit scenarios on the highways can be determined through these tools.\n\n\nThis tool quantifies the total VMT, VHT, delay, average speed, and lane miles that are occurring within each of the defined districts. Values are stratified by freeways, arterials, and all roads combined. The output is a .dbf record that can be easily mapped to a shape file of the districts. A comparison utility allows the changes between two alternatives to be mapped for some very enlightening results of how a proposal can affect all locations in the region.\n\n\n\nThis tool reduces the trip purpose matrices (HBW, etc.) and the mode choice matrices to “district flow matrices”. The results can be exported to Excel for easy analysis of trip interchanges between districts. Unique applications include “screenline districts”, where all zones on one side of a screenline are labled 1, and the others labeled 2. The resulting 2x2 matrix reveals how many trips of each matrix type cross the screenline. County to county flows are also defined here.\n\n\n\nSimilar to the CityX processor, this tool will assign trips between up to 4x4 district interactions to the highway network. An example application might be “What share of the trips on I-15 in South Davis go between North Davis/Weber and SL County? How many to the CBD? How many to South Davis itself?” The results are pre-mapped to a .vpr file, and can be easily tabled as well."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-district-analysis.html#demographic-summaries",
    "href": "v3x/v320/whats-new/v32-district-analysis.html#demographic-summaries",
    "title": "WFTDM Documentation",
    "section": "“Demographic Summaries”",
    "text": "“Demographic Summaries”\nThis script aggregates up to 5 demographics files by a specified district definition. Typically three would be compared: The WFRC/MAG 2001 base year and 2030 forecast plotted along side the current run (2012, or a custom 2030, etc). The results are summarized as both a table and a .dbf that can be joined to a district shape file with an accompanying ArcView project. This is a powerful means of quickly computing pop/emp totals within the districts, and comparing the demographics of the current run against the WFRC/MAG 2001 observed and 2030 forecast demographics."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-hway-analysis.html",
    "href": "v3x/v320/whats-new/v32-hway-analysis.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "An “HOV Usage” script was first produced as part of the Inter-Regional Corridors study several years ago. Its purpose was to offer insight as to whether an HOV lane could be filled by a sufficient number of shared-ride trips within the peak hour that had motive to use the lane (time savings). The logic in the script was updated, and the output was further stratified. In addition, the managed-capacity of HOV lanes was better accounted for within distribution and assignment.\nThe script still does not offer any insight regarding how many new carpools might be formed as a direct result of an HOV proposal. Rather, it focuses only on those trips that are shared-ride for some other reason, but are nonetheless eligible to use the HOV lane. New carpoolers is an important element in determining if an HOV proposal can actually increase the person-trip through-put.\n\n\n\nThe model now includes a method to map the travel times from all zones to or from a “focus zone”. For example, you can select a CBD zone and get a .dbf listing of the free-flow time, AM peak time, or PM peak time from all zones in the network to that zone. In this case the AM time would be most relevant, and the free-flow time is a good benchmark of comparison. You can change the focus zone to a suburban area and learn how long it takes “to get home” in the PM peak from the CBD, or from anywhere else you might happen to be in the region.\nA comparison feature allows you to take the difference between two alternative scenarios and map the change in travel times from one to the other. ArcView projects are predefined to make mapping simple."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-hway-analysis.html#highway-analysis-tools",
    "href": "v3x/v320/whats-new/v32-hway-analysis.html#highway-analysis-tools",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "An “HOV Usage” script was first produced as part of the Inter-Regional Corridors study several years ago. Its purpose was to offer insight as to whether an HOV lane could be filled by a sufficient number of shared-ride trips within the peak hour that had motive to use the lane (time savings). The logic in the script was updated, and the output was further stratified. In addition, the managed-capacity of HOV lanes was better accounted for within distribution and assignment.\nThe script still does not offer any insight regarding how many new carpools might be formed as a direct result of an HOV proposal. Rather, it focuses only on those trips that are shared-ride for some other reason, but are nonetheless eligible to use the HOV lane. New carpoolers is an important element in determining if an HOV proposal can actually increase the person-trip through-put.\n\n\n\nThe model now includes a method to map the travel times from all zones to or from a “focus zone”. For example, you can select a CBD zone and get a .dbf listing of the free-flow time, AM peak time, or PM peak time from all zones in the network to that zone. In this case the AM time would be most relevant, and the free-flow time is a good benchmark of comparison. You can change the focus zone to a suburban area and learn how long it takes “to get home” in the PM peak from the CBD, or from anywhere else you might happen to be in the region.\nA comparison feature allows you to take the difference between two alternative scenarios and map the change in travel times from one to the other. ArcView projects are predefined to make mapping simple."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-input-prep.html",
    "href": "v3x/v320/whats-new/v32-input-prep.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Projections were adjusted to account for recent developments such as the 2007 BYU extension in SL CBD. A spreadsheet error in 3.1 demographic projections was discovered that resulted in a 3-5% loss in total households for both the base year and forecasts, but the total population and jobs were correct. We were concerned that there might be a measurable affect to projections, but the affects of this error were not significant."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-input-prep.html#input-preparation",
    "href": "v3x/v320/whats-new/v32-input-prep.html#input-preparation",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Projections were adjusted to account for recent developments such as the 2007 BYU extension in SL CBD. A spreadsheet error in 3.1 demographic projections was discovered that resulted in a 3-5% loss in total households for both the base year and forecasts, but the total population and jobs were correct. We were concerned that there might be a measurable affect to projections, but the affects of this error were not significant."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-intro.html",
    "href": "v3x/v320/whats-new/v32-intro.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process since the previous Version 3.11. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-intro.html#introduction",
    "href": "v3x/v320/whats-new/v32-intro.html#introduction",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process since the previous Version 3.11. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-mode-choice.html",
    "href": "v3x/v320/whats-new/v32-mode-choice.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Researching the details for Commuter Rail forecasting revealed the 3.1 model had an inordinately high share of Home-Based College trips on transit. There were several contributing problems. First, the Nov. 2002 on-board survey incorrectly categorized many trips. 15% of HBC trips were made by people over 30 years old. We believe most of these were likely work trips attracted to a college; they were thus reclassified. Another 10% were attracted to small colleges that we do not account for (cosmetology colleges, etc.). These were reclassified as HBO. New target values were computed from the changes.\nIn addition, the total number of HBC trips was low. Since the total light-rail trips to the U of U was known and calibrated to (by means of the light-rail alternative specific constant), but the total trips to the U of U was low, the result was an overly high share of HBC transit trips relative to auto trips. Daily HBC productions per student was raised from 0.7 to 1.0 to help correct this.\nCollege distribution is based on the zipcode of the student’s reported address. However, many students report their parent’s address for mailings. Where the address is reasonably close to the college, the student probably lives at home; but where the address exceeds 30, 40, and even 50 miles; it becomes less likely that they actually live there, or that they make frequent trips to the college. In the case of the U of U, 1.5% of the HBC trips supposedly came from Weber County, which ranges from 35-50 miles away. To counter this, HBC productions were distributed on a distance gradient with 1.5 HBC productions/day for student addresses within 1 mile of campus, changing linearly to 0.1 HBC productions/day for student addresses exceeding 40 miles. Future year distributions also have an adjustment for high-growth zones that are within range of the college.\n\n\n\nThe Non-home-based purpose was also unusually high in the 2002 on-board survey. Again, suspect surveys may be to blame. NHB trips exceeding 10 miles were excluded from the survey. NHB trips that involved driving were excluded unless the CBD was a trip-end.\n\n\n\nVersion 3.1 included a grid of walk access support links that were manually input for the SL CBD. This grid made it possible for many “transit trips” to walk along the grid without actually taking transit. The result was an under-estimate of the number of CBD circulation trips taken by transit. The manual links were removed, and improved logic was added to the auto-generation of these support links.\nThe on-board survey was also assigned to the transit network at FTA’s recommendation to reveal surveyed trips that could not be assigned to the correct path type. The result lead to increasing the park-n-ride travel sheds, adding new PNR lots, and adjusting the path favoring weights.\n\n\n\nWe have wrestled for a means of defining a Bus Rapid-Transit line for modeling purposes. BRT is a broad category that could range from little more than a bus with limited stops all the way up to a light-rail-like alignment with full stations. There is no observed “BRT mode” from which to select an alternative specific constant, so we developed a checklist to help reveal the most appropriate modeling definition. Basically, if the proposal appears to be very light-rail-like, we are recommending it be coded as a slower-than-normal LRT (mode 7). If it shares more traits with a bus, a faster-than-normal bus (mode 4) seems appropriate. If it is a hybrid, model it both ways and assume ridership in the middle. A “how-to” memo defines the presently supported method.\n\n\n\nBefore BRT was proposed in South Davis, we assumed a simple increase in the frequency of existing South Davis buses to obtain a future network. After BRT was adopted in the LRP, we neglected to review the whole system for redundancy. We now have only the BRT, and Commuter Rail (CRT) serving SL CBD from South Davis, with supporting feeder routes. Before we had all of these and a host of high-frequency local buses, which was inordinately high service relative to the rest of the region. BRT is defined at 15,15 headways and CRT is 20,60. This should provide a good base from which to compare and develop alternatives for the South Davis transit study."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-mode-choice.html#mode-choice",
    "href": "v3x/v320/whats-new/v32-mode-choice.html#mode-choice",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Researching the details for Commuter Rail forecasting revealed the 3.1 model had an inordinately high share of Home-Based College trips on transit. There were several contributing problems. First, the Nov. 2002 on-board survey incorrectly categorized many trips. 15% of HBC trips were made by people over 30 years old. We believe most of these were likely work trips attracted to a college; they were thus reclassified. Another 10% were attracted to small colleges that we do not account for (cosmetology colleges, etc.). These were reclassified as HBO. New target values were computed from the changes.\nIn addition, the total number of HBC trips was low. Since the total light-rail trips to the U of U was known and calibrated to (by means of the light-rail alternative specific constant), but the total trips to the U of U was low, the result was an overly high share of HBC transit trips relative to auto trips. Daily HBC productions per student was raised from 0.7 to 1.0 to help correct this.\nCollege distribution is based on the zipcode of the student’s reported address. However, many students report their parent’s address for mailings. Where the address is reasonably close to the college, the student probably lives at home; but where the address exceeds 30, 40, and even 50 miles; it becomes less likely that they actually live there, or that they make frequent trips to the college. In the case of the U of U, 1.5% of the HBC trips supposedly came from Weber County, which ranges from 35-50 miles away. To counter this, HBC productions were distributed on a distance gradient with 1.5 HBC productions/day for student addresses within 1 mile of campus, changing linearly to 0.1 HBC productions/day for student addresses exceeding 40 miles. Future year distributions also have an adjustment for high-growth zones that are within range of the college.\n\n\n\nThe Non-home-based purpose was also unusually high in the 2002 on-board survey. Again, suspect surveys may be to blame. NHB trips exceeding 10 miles were excluded from the survey. NHB trips that involved driving were excluded unless the CBD was a trip-end.\n\n\n\nVersion 3.1 included a grid of walk access support links that were manually input for the SL CBD. This grid made it possible for many “transit trips” to walk along the grid without actually taking transit. The result was an under-estimate of the number of CBD circulation trips taken by transit. The manual links were removed, and improved logic was added to the auto-generation of these support links.\nThe on-board survey was also assigned to the transit network at FTA’s recommendation to reveal surveyed trips that could not be assigned to the correct path type. The result lead to increasing the park-n-ride travel sheds, adding new PNR lots, and adjusting the path favoring weights.\n\n\n\nWe have wrestled for a means of defining a Bus Rapid-Transit line for modeling purposes. BRT is a broad category that could range from little more than a bus with limited stops all the way up to a light-rail-like alignment with full stations. There is no observed “BRT mode” from which to select an alternative specific constant, so we developed a checklist to help reveal the most appropriate modeling definition. Basically, if the proposal appears to be very light-rail-like, we are recommending it be coded as a slower-than-normal LRT (mode 7). If it shares more traits with a bus, a faster-than-normal bus (mode 4) seems appropriate. If it is a hybrid, model it both ways and assume ridership in the middle. A “how-to” memo defines the presently supported method.\n\n\n\nBefore BRT was proposed in South Davis, we assumed a simple increase in the frequency of existing South Davis buses to obtain a future network. After BRT was adopted in the LRP, we neglected to review the whole system for redundancy. We now have only the BRT, and Commuter Rail (CRT) serving SL CBD from South Davis, with supporting feeder routes. Before we had all of these and a host of high-frequency local buses, which was inordinately high service relative to the rest of the region. BRT is defined at 15,15 headways and CRT is 20,60. This should provide a good base from which to compare and develop alternatives for the South Davis transit study."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-necessary.html",
    "href": "v3x/v320/whats-new/v32-necessary.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Frequent model upgrades can be painful for projects presently in some stage of demand analysis. It always raises questions such as “Would the changes significantly affect the absolute forecasts for or relative differences between my alternatives?” Our intent here is to explain what we did, why we did it when we did, and offer some insight to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set as a necessary part of allowing on-going projects to progress through analysis without being accused at every turn of not having “the latest and greatest model”. We also desire to provide new endeavors with solid footing by addressing their specific needs within their time-frame. Further, we are sometimes required to implement changes or provide analytical features to advance transit or multi-modal projects. Thus we try to make small, incremental improvements to data sets and analysis available on an as-needed basis (quarterly to semi-annually), and we’ve traditionally introduced more significant work on an annual to bi-annual basis provide stability, but also to help us remain at state-of-the-practice (not to mention it’s too difficult to do the work more frequently than that anyway)."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-necessary.html#why-was-version-3.2-necessary-how-long-will-it-last",
    "href": "v3x/v320/whats-new/v32-necessary.html#why-was-version-3.2-necessary-how-long-will-it-last",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Frequent model upgrades can be painful for projects presently in some stage of demand analysis. It always raises questions such as “Would the changes significantly affect the absolute forecasts for or relative differences between my alternatives?” Our intent here is to explain what we did, why we did it when we did, and offer some insight to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set as a necessary part of allowing on-going projects to progress through analysis without being accused at every turn of not having “the latest and greatest model”. We also desire to provide new endeavors with solid footing by addressing their specific needs within their time-frame. Further, we are sometimes required to implement changes or provide analytical features to advance transit or multi-modal projects. Thus we try to make small, incremental improvements to data sets and analysis available on an as-needed basis (quarterly to semi-annually), and we’ve traditionally introduced more significant work on an annual to bi-annual basis provide stability, but also to help us remain at state-of-the-practice (not to mention it’s too difficult to do the work more frequently than that anyway)."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-necessary.html#why-was-3.2-necessary",
    "href": "v3x/v320/whats-new/v32-necessary.html#why-was-3.2-necessary",
    "title": "WFTDM Documentation",
    "section": "Why was 3.2 necessary?",
    "text": "Why was 3.2 necessary?\nThe Mountain View Corridor Phase 1 screening was scheduled to begin in February 2004. We had a number of new “post-process” utilities we wanted to make available for that project. We had identified a number of relatively minor issues that we were saving to roll into a Version 4.0 model for late spring/early summer. Our intent was to make 3.2 available as just the post-processor improvements, but other on-going projects had reason to square their footing, so we did an interim calibration with the minor improvements noted below as a step toward the 4.0 model."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-necessary.html#how-long-will-3.2-last",
    "href": "v3x/v320/whats-new/v32-necessary.html#how-long-will-3.2-last",
    "title": "WFTDM Documentation",
    "section": "How long will 3.2 last?",
    "text": "How long will 3.2 last?\nFTA has noted a series of model improvements that need to be addressed before they can support a Full-Funding Grant Agreement for the Ogden-SLC Commuter Rail line. UTA hopes to submit paperwork for the agreement very soon, and their schedule requires FTA’s list of improvements be implemented by mid-spring, then a month for scenario development and troubleshooting. We plan to make these improvements available to other projects outside Commuter Rail once the improvements are demonstrated to function correctly."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-necessary.html#what-will-4.0-include",
    "href": "v3x/v320/whats-new/v32-necessary.html#what-will-4.0-include",
    "title": "WFTDM Documentation",
    "section": "What will 4.0 include?",
    "text": "What will 4.0 include?\nThe scope of work that will result in a 4.0 model is still being hashed out. Likely elements include modeling the peak and off-peak periods for transit independently, as opposed to the present daily model. The Mode-Choice variable coefficients will be re-estimated using local surveys (as opposed to the “synthetic” model parameters that are presently borrowed from other areas). Something will be done to better distribute zero-car households. At a minimum this would be expressly distributing this market with a gravity model, but we’re hoping to find a way to abandon the HBW gravity model altogether in favor of a destination-choice model. This may be too much to handle within the time-frame. We’ll know more about this in the coming weeks."
  },
  {
    "objectID": "v3x/v320/whats-new/v32-terms.html",
    "href": "v3x/v320/whats-new/v32-terms.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Trip purposes\n\nHBW: Home-based work trip\nHBC: Home-based college trip\nHBO: Home-based other trip\nNHB: Non home-based trip\nSkims: Network links in a path are “skimmed” to determine total travel time.\nLogit: A mathematical approach for expressing the factors involved in an individual’s choice between two alternatives. One result may be the total number of individuals who choose automobiles vs. the total who choose transit, when considering the travel times and other competitive features of each.\nRMSE: Root Mean Square Error"
  },
  {
    "objectID": "v3x/v320/whats-new/v32-terms.html#terms-and-abbreviations",
    "href": "v3x/v320/whats-new/v32-terms.html#terms-and-abbreviations",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Trip purposes\n\nHBW: Home-based work trip\nHBC: Home-based college trip\nHBO: Home-based other trip\nNHB: Non home-based trip\nSkims: Network links in a path are “skimmed” to determine total travel time.\nLogit: A mathematical approach for expressing the factors involved in an individual’s choice between two alternatives. One result may be the total number of individuals who choose automobiles vs. the total who choose transit, when considering the travel times and other competitive features of each.\nRMSE: Root Mean Square Error"
  },
  {
    "objectID": "v4x/v400/downloads.html",
    "href": "v4x/v400/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 4.0.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v4.0 Whats New"
  },
  {
    "objectID": "v4x/v400/index.html",
    "href": "v4x/v400/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 4.0.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v4x/v400/whats-new/v40-overview.html",
    "href": "v4x/v400/whats-new/v40-overview.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The 4.0 model will begin “beta testing” in about 2 weeks (May 20-ish) in preparation for the commuter rail new starts submittal that will follow about 1-1.5 months after that. FTA required that we implement a series of improvements before they will entertain a new starts submittal."
  },
  {
    "objectID": "v4x/v400/whats-new/v40-overview.html#scedule",
    "href": "v4x/v400/whats-new/v40-overview.html#scedule",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The 4.0 model will begin “beta testing” in about 2 weeks (May 20-ish) in preparation for the commuter rail new starts submittal that will follow about 1-1.5 months after that. FTA required that we implement a series of improvements before they will entertain a new starts submittal."
  },
  {
    "objectID": "v4x/v400/whats-new/v40-overview.html#what-should-it-be-used-for",
    "href": "v4x/v400/whats-new/v40-overview.html#what-should-it-be-used-for",
    "title": "WFTDM Documentation",
    "section": "What should it be used for?",
    "text": "What should it be used for?\nThis “beta version” may also include a few other improvements that tend to affect highway forecasts more than transit forecasts, but which will not have been thoroughly tested, so we are recommending that anyone investigating highway proposals stick with the 3.2 model for at least a few more months after July, then make a decision as to when or if to use the 4.0 model for on-going work. We expect relative nature of results expected from 4.0 to be very similar to those from 3.2. The 4.0 model is also not expected to change the magnitude of results significantly. The only projects likely to benefit from the beta version are Commuter Rail, West-side light rail, South Davis BRT, and Provo/Orem BRT."
  },
  {
    "objectID": "v4x/v400/whats-new/v40-overview.html#features-implemented-at-request-of-benefit-to-fta",
    "href": "v4x/v400/whats-new/v40-overview.html#features-implemented-at-request-of-benefit-to-fta",
    "title": "WFTDM Documentation",
    "section": "Features implemented at request of / benefit to FTA",
    "text": "Features implemented at request of / benefit to FTA\n\nMC model: Re-estimation of the Mode Choice model using local data rather than the previous synthetically derived estimation.\nPeriod modeling: Specific modeling of peak and off-peak periods rather than the previous daily model.\nHome based college, Non-home based: A number of deficiencies in the prediction of HBC/NHB trips were identified as a result of FTA inquiries into the 3.1 model. Most were corrected in the 3.2 model, but a few additional steps are taken in the 4.0 model.\nZero-car distribution: Specific distribution of zero-car households along more probable paths (typically paths easily served by transit).\nNew Park-n-Ride method: Though not requested or identified by FTA as a deficiency, we overhauled the algorithm for drive access to transit. Previously, the model inadvertently allowed people to drive quite long distances to take short transit trips (i.e. Many would skip a close PNR lot in favor of a far lot because they could minimize their travel time. However, this defeats the purpose of taking transit). The new method is directly linked to PNR lots noted on the highway network, and better ensures that the trip will select the most logical access point. Further, a drive/transit in-vehicle ratio in the MC model is used to hinder the probability of selecting a path with a high ratio. The affect is more on where you board the system rather than whether you board the system."
  },
  {
    "objectID": "v4x/v400/whats-new/v40-overview.html#other-coming-features",
    "href": "v4x/v400/whats-new/v40-overview.html#other-coming-features",
    "title": "WFTDM Documentation",
    "section": "Other coming features",
    "text": "Other coming features\n\nHighway path choice: In 3.2, the attractiveness of a particular path between I-J was based 40% on time savings and 60% on distance savings. In the new method, longer distance trips will be based 100% on time savings, and shorter trips will have some fraction of both time and distance. We believe this better reflects the true nature of trips; namely that shorter trips are more inclined to just go straight between their origin and destination, while on longer trips one is far more in tune with choosing only the path that saves the most time. The shares and settings will be determined as part of calibration.\nDestination Choice Logit model: This has been delayed, but may make it back in during the months following July."
  },
  {
    "objectID": "v4x/v420/downloads.html",
    "href": "v4x/v420/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 4.2.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v4.2 Whats New"
  },
  {
    "objectID": "v4x/v420/index.html",
    "href": "v4x/v420/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 4.2.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-improvements.html#hov-and-hot-lane-modeling-april-2005",
    "href": "v4x/v420/whats-new/v42-improvements.html#hov-and-hot-lane-modeling-april-2005",
    "title": "WFTDM Documentation",
    "section": "HOV and HOT lane modeling (April, 2005)",
    "text": "HOV and HOT lane modeling (April, 2005)\nScoping for the I-15 EIS in Utah County determined that modeling HOV and HOT (toll lanes) is an important element of their study. They would like to work with a model that has these elements in early 2005. PB Consult is assisting us in developing and implementing these Mode Choice features. This improvement will not measurably affect results in any ongoing study, but ongoing studies may be interested in utilizing this feature."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-improvements.html#long-term",
    "href": "v4x/v420/whats-new/v42-improvements.html#long-term",
    "title": "WFTDM Documentation",
    "section": "Long Term",
    "text": "Long Term\n\nHBW destination choice\nWe’ve been working with PB Consult to develop a Home-Based Work destination choice model. It will likely undergo testing and possibly be implemented by early next summer.\n\n\nUrbanSim\nAndy Li is making great progress is being made on testing and implementing UrbanSim. We hope to use it to assist in the development and analysis of the next long-range plan (due in 2006).\n\n\nHome Interview Survey\nThere is continued debate about what exactly is needed in this arena. The committee involved in this is wrestling with how to scope for this, and design a survey or several surveys that will get us the most valuable information available for the money.\n\n\nReplace TRNBUILD with PUBLIC TRANSPORT\nThe transit travel times and assignment utilize the Citilab’s TrnBuild module, which is a carry over from the Minutp platform. Citilabs ceased development on TrnBuild after acquiring the Public Transport (PT) module from a European firm that specialized in transit route choice and graphical display of results. As we learn more about PT, we will replace TrnBuild. We are unsure as to how much this will improve our accuracy of modeling transit, but it will certainly allow us access to better graphics and analytical methods, which alone should highlight opportunities for improvement.\n\n\n\nFigure 1: Regional calibration summary between version 3.2 and version 4.2.\n\n\n\n\n\nFigure 2: Calibration average speeds weighted by number of segments."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-intro.html",
    "href": "v4x/v420/whats-new/v42-intro.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process since the previous Version 3.2. Version 4.0 and 4.1 were short-use stepping stones to 4.2, and will be discussed. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-intro.html#introduction",
    "href": "v4x/v420/whats-new/v42-intro.html#introduction",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process since the previous Version 3.2. Version 4.0 and 4.1 were short-use stepping stones to 4.2, and will be discussed. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-necessary.html",
    "href": "v4x/v420/whats-new/v42-necessary.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "UTA’s Commuter Rail project had a number of specific Mode Choice improvements identified by FTA as necessary for them to be comfortable with the forecasts. Their requirements led to a complete overhaul of the MC model, which is now estimated on local data, better calibrated, considerably better treatment of walk/drive access to transit, better Home-based college representations, and peak/off-peak modeling. While important to transit forecasting, this change has a relatively minor effect on roadway volumes. The new MC model was used for New Starts submittals, and constituted 4.0. Shortly thereafter, we separated BRT as a specific mode (BRT was simply “slower LRT” in 4.0, but is now a discrete choice with alternative specific constant equal to ½ that of LRT in 4.1). This “4.1” was given to MAG to help them get going on their BYU-UVSC BRT study."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-necessary.html#what-were-4.0-and-4.1-and-why-were-they-necessary",
    "href": "v4x/v420/whats-new/v42-necessary.html#what-were-4.0-and-4.1-and-why-were-they-necessary",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "UTA’s Commuter Rail project had a number of specific Mode Choice improvements identified by FTA as necessary for them to be comfortable with the forecasts. Their requirements led to a complete overhaul of the MC model, which is now estimated on local data, better calibrated, considerably better treatment of walk/drive access to transit, better Home-based college representations, and peak/off-peak modeling. While important to transit forecasting, this change has a relatively minor effect on roadway volumes. The new MC model was used for New Starts submittals, and constituted 4.0. Shortly thereafter, we separated BRT as a specific mode (BRT was simply “slower LRT” in 4.0, but is now a discrete choice with alternative specific constant equal to ½ that of LRT in 4.1). This “4.1” was given to MAG to help them get going on their BYU-UVSC BRT study."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-new-features.html",
    "href": "v4x/v420/whats-new/v42-new-features.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Mode choice can now be bypassed for applications where a standard or fixed transit set is assumed across scenarios (typical of highway only analysis). This feature cuts run times from about 5 hours down to 1.5-2.5 hours. Ratios of mode choice are recorded during a full MC run, and then moved to an off-model directory for use with the bypass option. Switching to bypass mode will cause the model to use the ratios to obtain the MC results rather than full MC run. This reproduces MC results almost exactly. If you make a highway change that would change the trip distribution, the ratios respond accordingly (i.e. if you had 1000 trips before between I-J, and 100 were transit, and now your highway change creates 2000 trips, then 200 transit trips will now exist.)\n\n\n\nCityX is now working again, assigning by the long-trip/short-trip method, and is MUCH easier to use. (FYI: CityX’s main function is to identify which vehicles have at least one trip end in the city, and which ones are only passing through, by link). Before, it required listing out by hand the zones that made up your city or study area - kind of a tough exercise. Now, you just use a link attribute to define the area. Make a polygon around the area, set “inside = 1”, then reference the field in the script instructions, and in seconds you’ll get a visual display of who’s who on the roads in your study area. The mode choice shares report also required listing P zone and A zone by hand. Now you can easily use link attributes (by creating a polygon or using a district ID) to obtain mode choice shares for any imaginable production/attraction pairing.\n\n\n\nCube/Voyager now allows you to record the highway assignment process to a “path file”, which you can load in Cube, select any link, and get a display of where all the trips using that link came from. The process is tricky and can result in files over 25 Gigabytes each! Development around this feature is a work in progress, but can be utilized to certain levels now. Call Mike if you’re interested.\n\n\n\nTransit trip tables can now be assigned to the highway network, showing hypothetically the roadway person-trips that would have occurred in the absence of transit. An accompanying VMT report shows the VMT averted by transit. The approach is simplistic and doesn’t account for all the issues, but should give “ball-park figures”. It is also useful for obtaining a transit screenline.\n\n\n\nThough FTA accepted the MC results from the 4.0 model, they remained skeptical of the high share of college trips using transit (2030 results at the U of U had almost 50% of all trips made by transit). Our research since 4.2 was first released suggests that the on-board survey implied there were more college transit trips than other data suggest. Distribution to some colleges was also refined. LRT/BRT lines serving colleges will show fewer boardings at the colleges than earlier versions.\n\n\n\nAssumptions on where people and jobs will be located, and how many, are one of the most fundamental inputs in modeling. This input has not been changed for over three years. GOPB recently updated their county level estimates of 2030. The estimate for Utah County is up by more than 100,000 residents, so we felt compelled to try to reflect what this would do to demand in that county. Thus a new DRAFT allocation of GOPB forecasts is available with this model, but should be used cautiously (because it is still undergoing review for bugs, and has not been seen or approved by the cities like the previous forecasts have been)."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-new-features.html#features-added-between-aug-30-and-jan-21-2005.",
    "href": "v4x/v420/whats-new/v42-new-features.html#features-added-between-aug-30-and-jan-21-2005.",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Mode choice can now be bypassed for applications where a standard or fixed transit set is assumed across scenarios (typical of highway only analysis). This feature cuts run times from about 5 hours down to 1.5-2.5 hours. Ratios of mode choice are recorded during a full MC run, and then moved to an off-model directory for use with the bypass option. Switching to bypass mode will cause the model to use the ratios to obtain the MC results rather than full MC run. This reproduces MC results almost exactly. If you make a highway change that would change the trip distribution, the ratios respond accordingly (i.e. if you had 1000 trips before between I-J, and 100 were transit, and now your highway change creates 2000 trips, then 200 transit trips will now exist.)\n\n\n\nCityX is now working again, assigning by the long-trip/short-trip method, and is MUCH easier to use. (FYI: CityX’s main function is to identify which vehicles have at least one trip end in the city, and which ones are only passing through, by link). Before, it required listing out by hand the zones that made up your city or study area - kind of a tough exercise. Now, you just use a link attribute to define the area. Make a polygon around the area, set “inside = 1”, then reference the field in the script instructions, and in seconds you’ll get a visual display of who’s who on the roads in your study area. The mode choice shares report also required listing P zone and A zone by hand. Now you can easily use link attributes (by creating a polygon or using a district ID) to obtain mode choice shares for any imaginable production/attraction pairing.\n\n\n\nCube/Voyager now allows you to record the highway assignment process to a “path file”, which you can load in Cube, select any link, and get a display of where all the trips using that link came from. The process is tricky and can result in files over 25 Gigabytes each! Development around this feature is a work in progress, but can be utilized to certain levels now. Call Mike if you’re interested.\n\n\n\nTransit trip tables can now be assigned to the highway network, showing hypothetically the roadway person-trips that would have occurred in the absence of transit. An accompanying VMT report shows the VMT averted by transit. The approach is simplistic and doesn’t account for all the issues, but should give “ball-park figures”. It is also useful for obtaining a transit screenline.\n\n\n\nThough FTA accepted the MC results from the 4.0 model, they remained skeptical of the high share of college trips using transit (2030 results at the U of U had almost 50% of all trips made by transit). Our research since 4.2 was first released suggests that the on-board survey implied there were more college transit trips than other data suggest. Distribution to some colleges was also refined. LRT/BRT lines serving colleges will show fewer boardings at the colleges than earlier versions.\n\n\n\nAssumptions on where people and jobs will be located, and how many, are one of the most fundamental inputs in modeling. This input has not been changed for over three years. GOPB recently updated their county level estimates of 2030. The estimate for Utah County is up by more than 100,000 residents, so we felt compelled to try to reflect what this would do to demand in that county. Thus a new DRAFT allocation of GOPB forecasts is available with this model, but should be used cautiously (because it is still undergoing review for bugs, and has not been seen or approved by the cities like the previous forecasts have been)."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-terms.html",
    "href": "v4x/v420/whats-new/v42-terms.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Trip purposes\n\nHBW: Home-based work trip\nHBC: Home-based college trip\nHBO: Home-based other trip\nNHB: Non home-based trip\nSkims: Network links in a path are “skimmed” to determine total travel time\nLogit: A mathematical approach for expressing the factors involved in an individual’s choice between two alternatives. One result may be the total number of individuals who choose automobiles vs. the total who choose transit, when considering the travel times and other competitive features of each.\nRMSE: Root Mean Square Error"
  },
  {
    "objectID": "v4x/v420/whats-new/v42-terms.html#terms-and-abbreviations",
    "href": "v4x/v420/whats-new/v42-terms.html#terms-and-abbreviations",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Trip purposes\n\nHBW: Home-based work trip\nHBC: Home-based college trip\nHBO: Home-based other trip\nNHB: Non home-based trip\nSkims: Network links in a path are “skimmed” to determine total travel time\nLogit: A mathematical approach for expressing the factors involved in an individual’s choice between two alternatives. One result may be the total number of individuals who choose automobiles vs. the total who choose transit, when considering the travel times and other competitive features of each.\nRMSE: Root Mean Square Error"
  },
  {
    "objectID": "v4x/v420/whats-new/v42-when.html",
    "href": "v4x/v420/whats-new/v42-when.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Frequent model upgrades can be painful for projects presently in some stage of demand analysis. It always raises questions such as “Would the changes significantly affect the absolute forecasts or relative differences between my alternatives?” Our intent in “What’s New” documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set as a necessary part of allowing on-going projects to progress through analysis without being accused at every turn of not having “the latest and greatest model”. However, we also desire to provide upcoming projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide analytical features to advance transit or multi-modal projects. Thus small, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of.\nWe’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability. When significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-when.html#trade-offs-narrative-when-to-use-model-improvements",
    "href": "v4x/v420/whats-new/v42-when.html#trade-offs-narrative-when-to-use-model-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Frequent model upgrades can be painful for projects presently in some stage of demand analysis. It always raises questions such as “Would the changes significantly affect the absolute forecasts or relative differences between my alternatives?” Our intent in “What’s New” documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set as a necessary part of allowing on-going projects to progress through analysis without being accused at every turn of not having “the latest and greatest model”. However, we also desire to provide upcoming projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide analytical features to advance transit or multi-modal projects. Thus small, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of.\nWe’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability. When significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-wn.html",
    "href": "v4x/v420/whats-new/v42-wn.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The highway route choice methodology (assignment) was upgraded to assign long trips differently than short trips. Previous versions required all drivers to select a path to their destination by a combination of shortest distance and shortest time. To obtain calibration, path preference was weighted toward shortest distance. Such a setting can make the model insensitive to how certain trips would react to faster-but-longer opportunities. Other cities that have experienced issues like this have separated short trips from long trips and assigned long trips primarily by shortest time.\nShort neighborhood-type trips tend to select the direct path between their origin and destination, though many will select an alternate if the preferred path is overly delayed. Many people on longer commute-type trips tend to study their options more and select a path likely to save them the most time, almost without regard to out-of-direction elements in the path.\nIn 4.2, trip lengths over 10 miles are considered long trips, and path choice is made by shortest time only. Shorter trip paths are weighted 65% on shortest distance, 35% on shortest time. Global calibration statistics are generally improved over 3.2, and a number of localized, network “hot-spots” are also improved. Since the path choice methodology is significantly different, volume projections on any given link may also be a fair amount different. A number of “dial settings” were changed to obtain calibration. Included are resetting geographic link penalties, functional type free-flow speeds, and volume-delay curves."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-wn.html#short-trip-vs.-long-trip-improved-path-choice-methodology.",
    "href": "v4x/v420/whats-new/v42-wn.html#short-trip-vs.-long-trip-improved-path-choice-methodology.",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The highway route choice methodology (assignment) was upgraded to assign long trips differently than short trips. Previous versions required all drivers to select a path to their destination by a combination of shortest distance and shortest time. To obtain calibration, path preference was weighted toward shortest distance. Such a setting can make the model insensitive to how certain trips would react to faster-but-longer opportunities. Other cities that have experienced issues like this have separated short trips from long trips and assigned long trips primarily by shortest time.\nShort neighborhood-type trips tend to select the direct path between their origin and destination, though many will select an alternate if the preferred path is overly delayed. Many people on longer commute-type trips tend to study their options more and select a path likely to save them the most time, almost without regard to out-of-direction elements in the path.\nIn 4.2, trip lengths over 10 miles are considered long trips, and path choice is made by shortest time only. Shorter trip paths are weighted 65% on shortest distance, 35% on shortest time. Global calibration statistics are generally improved over 3.2, and a number of localized, network “hot-spots” are also improved. Since the path choice methodology is significantly different, volume projections on any given link may also be a fair amount different. A number of “dial settings” were changed to obtain calibration. Included are resetting geographic link penalties, functional type free-flow speeds, and volume-delay curves."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-wn.html#specific-trip-table-for-the-cabellas-sporting-goods-retailer-in-lehi.",
    "href": "v4x/v420/whats-new/v42-wn.html#specific-trip-table-for-the-cabellas-sporting-goods-retailer-in-lehi.",
    "title": "WFTDM Documentation",
    "section": "Specific trip-table for the Cabella’s sporting goods retailer in Lehi.",
    "text": "Specific trip-table for the Cabella’s sporting goods retailer in Lehi.\nThere has been some concern regarding the impacts of Cabella’s being constructed in Lehi. It is said to be large enough and unique enough to draw trips from all over the region and even high numbers from outside the region. The regular gravity model will not model this well, considering it simply another retailer and sending trips to it primarily from within northern Utah County and southern SL County. In 4.2, its trip generation magnitude and distribution is created in an off-model spreadsheet, and the resulting trip table is fed into the model. This ensures that trips will be drawn from across the region, including Weber County and all major external stations. Thus it will have a more significant effect on roads even in these far-away places that it otherwise would have had."
  },
  {
    "objectID": "v4x/v420/whats-new/v42-wn.html#drive-to-transit-access-location-improved-a-4.0-feature",
    "href": "v4x/v420/whats-new/v42-wn.html#drive-to-transit-access-location-improved-a-4.0-feature",
    "title": "WFTDM Documentation",
    "section": "Drive to transit access location improved (a 4.0 feature)",
    "text": "Drive to transit access location improved (a 4.0 feature)\nIn 3.2, all PNR lots to be used in all years were coded as “higher draw” (15 minute) or “lower draw” (12 minute) ASCII files. Any zone within the max travel time was given access. We discovered this construction had numerous flaws. First, many trips in the survey drove more than 15 minutes to reach light rail (particularly from Utah Co). Next, a given zone may be within 12 minutes of as many as 8 light rail PNR lots, and the skim builder was set so as to encourage them to drive to the furthest most lot in order to minimize the time on transit. This was because when building rail-favored paths, we inadvertently avoided penalizing the drive portion of the path. Since the objective is to select a path that minimizes the weighted times, and since driving 5 miles is typically faster than riding 5-miles in the train, the path builder effectively told drivers to stay on the road as long as you can, defeating the reasons people drive to transit. This was not so much a problem with the number of trips that would access the mode as it was with selecting illogical locations to access the mode. The 4.0 model now weights the drive portion of mode-favoring, encouraging drivers to select the nearest lot.\nThus we found a 12-15 minute travel shed is too much and too little at the same time (some zones access far more PNR lots than they logically would select, and zones that would drive many miles to reach end-of-line stations don’t have the option). This manually supplied ASCII file method also requires accounting for future light-rail PNR lots even in the base year. These lots are not used by the MC model for LRT trips. They can be used for a bus trip, which is fine, but it makes the book-keeping difficult.\nVersion 4.0 abandons the manual method in favor of a network-based algorithm with the following steps:\n\nID lots on network: Modeler identifies all potential PNR lots as node attributes on the master network by a modal hierarchy: A code 80 means that in runs where commuter rail stops at that node, drive access to commuter rail should be available. Drive access is then also available to all lesser modes if they happen to stop at that node. See the table below for codes.\nConfirm that lot coincides with eligible routes for scenario: Initial paths for the scenario network are built, and all transit stops are identified by node and mode. The result is a list of nodes where yes, the node was identified as an existing/potential PNR lot for that mode; and yes, that mode actually stops at that node.\nWrite PNR access code for most logical access point: The nearest confirmed lots to a given zone are identified, and a TP+/Voyager format PNR record is recorded for that path. For commuter rail, only the nearest 2 lots are recorded. For light rail, BRT, and express bus, it’s the nearest 3.\n\nThe results are much improved over the 3.2 method. Note that for light rail in SL County, even the western most zones can access the Sandy Trax line (not observable in 3.2), and only at lots along the same latitude. (See Figure 1).\n\n\n\nFigure 1: Improved light rail transit access."
  },
  {
    "objectID": "v4x/v430/downloads.html",
    "href": "v4x/v430/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 4.3.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v4.3 Whats New"
  },
  {
    "objectID": "v4x/v430/index.html",
    "href": "v4x/v430/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 4.3.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-improvements.html",
    "href": "v4x/v430/whats-new/v43-improvements.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG are satisfied that we have a solid, state-of-the-practice modeling system with many elements of best practice and advanced practice. We see our needs shifting away from continuing on toward the cutting edge of the industry, and focusing our efforts instead on validating and documenting the system, and utilizing the tools as they are to assist development of the Regional Transportation Plan, and support project development. Thus significant model development will move to the back burner, but tools and process improvements that improve the utility of the models for applications will likely continue as needed."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-improvements.html#what-when-and-why-of-next-likely-improvements",
    "href": "v4x/v430/whats-new/v43-improvements.html#what-when-and-why-of-next-likely-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG are satisfied that we have a solid, state-of-the-practice modeling system with many elements of best practice and advanced practice. We see our needs shifting away from continuing on toward the cutting edge of the industry, and focusing our efforts instead on validating and documenting the system, and utilizing the tools as they are to assist development of the Regional Transportation Plan, and support project development. Thus significant model development will move to the back burner, but tools and process improvements that improve the utility of the models for applications will likely continue as needed."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-improvements.html#long-term",
    "href": "v4x/v430/whats-new/v43-improvements.html#long-term",
    "title": "WFTDM Documentation",
    "section": "Long Term",
    "text": "Long Term\n\nHBW destination choice\nWe’ve been working with PB Consult to develop a Home-Based Work destination choice model. We had hoped it could be implemented by summer 2005, but it’s schedule now is uncertain.\n\n\nUrbanSim\nUrbanSim is being utilized for the Wasatch Choices 2040 visioning process. Its performance during this effort will manifest whether it should be further utilized to aid the development of socioeconomic projections used in the RTP (due in 2006).\n\n\nHome Interview Survey\nThere is continued debate about what exactly is needed in this arena. The committee involved in this is wrestling with how to scope for this, and design a survey or several surveys that will get us the most valuable information available for the money.\n\n\nReplace TRNBUILD with PUBLIC TRANSPORT\nThe transit travel times and assignment utilize the Citilab’s TrnBuild module, which is a carry over from the Minutp platform. Citilabs ceased development on TrnBuild after acquiring the Public Transport (PT) module from a European firm that specialized in transit route choice and graphical display of results. As we learn more about PT, we will replace TrnBuild. We are unsure as to how much this will improve our accuracy of modeling transit, but it will certainly allow us access to better graphics and different analytical methods, which alone should highlight opportunities for improve"
  },
  {
    "objectID": "v4x/v430/whats-new/v43-intro.html",
    "href": "v4x/v430/whats-new/v43-intro.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process now available for testing. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org)."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-intro.html#introduction",
    "href": "v4x/v430/whats-new/v43-intro.html#introduction",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process now available for testing. The document is not intended to be comprehensive, that is it would not allow someone to build the travel modeling process from scratch, but it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org)."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-when.html",
    "href": "v4x/v430/whats-new/v43-when.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Frequent model upgrades can be painful for projects presently in some stage of demand analysis. It always raises questions such as “Would the changes significantly affect the absolute forecasts or relative differences between my alternatives?” Our intent in “What’s New” documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set as a necessary part of allowing on-going projects to progress through analysis without being accused at every turn of not having “the latest and greatest model”. However, we also desire to provide upcoming projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide analytical features to advance transit or multi-modal projects. Thus small, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of. Further, when new features are available for testing, the model is labeled “beta” to allow a phase-in period in which users can test it and work out the bugs. Once the community of users is satisfied with the new version, the beta tag will be dropped.\nWe’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability. When significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-when.html#trade-offs-narrative-when-to-use-model-improvements",
    "href": "v4x/v430/whats-new/v43-when.html#trade-offs-narrative-when-to-use-model-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Frequent model upgrades can be painful for projects presently in some stage of demand analysis. It always raises questions such as “Would the changes significantly affect the absolute forecasts or relative differences between my alternatives?” Our intent in “What’s New” documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set as a necessary part of allowing on-going projects to progress through analysis without being accused at every turn of not having “the latest and greatest model”. However, we also desire to provide upcoming projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide analytical features to advance transit or multi-modal projects. Thus small, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of. Further, when new features are available for testing, the model is labeled “beta” to allow a phase-in period in which users can test it and work out the bugs. Once the community of users is satisfied with the new version, the beta tag will be dropped.\nWe’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability. When significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-wn.html",
    "href": "v4x/v430/whats-new/v43-wn.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The Mode Choice model was modified to allow drivers to choose whether to use HOV or toll lanes. The Logit structure historically has stopped after identifying drive alone, shared ride 2 person, and 3+ persons. Now it dips further to assess who in each of these categories would be willing to pay a toll if available, and who would be motivated to use HOV lanes – and even form new car pools as a result of HOV lanes. Once mode choice has identified these persons, these “managed lane trip tables” are assigned to specifically identified managed lane links on the highway network. Thus when comparing build/no-build, the MC model can determine the new shared-ride or toll linked trips created by the managed lanes (i.e. how many vehicle trips were eliminated by the lanes, or revenue generated by the lanes). Network assignment then shows the levels of demand and capture rate of HOV eligible vehicles at points along the system.\nThere are several nuances that complicate the implementation of these features to be aware of (detailed elsewhere). 1) The existing HOV lane is relatively new and it will be difficult to assess its true usage until congestion again becomes significant. Hence calibrating to today’s usage levels may be less important than assessing the lanes usage and capture rates under significant congestion and relative to experience in other cities. 2) This implementation tends toward what one might expect of barrier separated lanes more than the “easy on-easy off” painted lanes that we have now. In other words, with painted separation, someone who uses the lane may not actually enter the lane until the point they first encounter slow downs – and they may exit once speeds are back to normal. Here, trips tagged to use the lane at any point will enter the lane at their first opportunity, and exit at the last possible moment. Thus the number of users is similar, but the length of use may be quite different. “If you’re going to use it at all, then use it for as long as possible” is how this implementation works. We expect that this is a more realistic definition when long segments of the adjoining general lanes are congested (as opposed to today where only short sections are congested)."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-wn.html#managed-lanes-hov-toll-lanes",
    "href": "v4x/v430/whats-new/v43-wn.html#managed-lanes-hov-toll-lanes",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The Mode Choice model was modified to allow drivers to choose whether to use HOV or toll lanes. The Logit structure historically has stopped after identifying drive alone, shared ride 2 person, and 3+ persons. Now it dips further to assess who in each of these categories would be willing to pay a toll if available, and who would be motivated to use HOV lanes – and even form new car pools as a result of HOV lanes. Once mode choice has identified these persons, these “managed lane trip tables” are assigned to specifically identified managed lane links on the highway network. Thus when comparing build/no-build, the MC model can determine the new shared-ride or toll linked trips created by the managed lanes (i.e. how many vehicle trips were eliminated by the lanes, or revenue generated by the lanes). Network assignment then shows the levels of demand and capture rate of HOV eligible vehicles at points along the system.\nThere are several nuances that complicate the implementation of these features to be aware of (detailed elsewhere). 1) The existing HOV lane is relatively new and it will be difficult to assess its true usage until congestion again becomes significant. Hence calibrating to today’s usage levels may be less important than assessing the lanes usage and capture rates under significant congestion and relative to experience in other cities. 2) This implementation tends toward what one might expect of barrier separated lanes more than the “easy on-easy off” painted lanes that we have now. In other words, with painted separation, someone who uses the lane may not actually enter the lane until the point they first encounter slow downs – and they may exit once speeds are back to normal. Here, trips tagged to use the lane at any point will enter the lane at their first opportunity, and exit at the last possible moment. Thus the number of users is similar, but the length of use may be quite different. “If you’re going to use it at all, then use it for as long as possible” is how this implementation works. We expect that this is a more realistic definition when long segments of the adjoining general lanes are congested (as opposed to today where only short sections are congested)."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-wn.html#distribution-improvements",
    "href": "v4x/v430/whats-new/v43-wn.html#distribution-improvements",
    "title": "WFTDM Documentation",
    "section": "Distribution improvements",
    "text": "Distribution improvements\nAn unexpected phenomenon relating to friction factor curves was observed and corrected. We tested adding one minute to terminal times and expected to see trip lengths reduce somewhat (the feedback loop logically would encourage shorter distance trips if the time to take those trips is greater). However, trips actually went further. The investigation revealed that friction factor curves needed updating and slightly different implementation.\nTo make a long story short, 4.3 beta has newly calibrated friction factor curves, as well as different curves for different conditions (curves specific to free flow speeds as well as congested speeds). Non-work purposes were also “doubly constrained”. At the advice of peers and observation of results, these are now more singly constrained. The combination of distribution improvements also resulted in a model that calibrates without the aid of link penalties that have traditionally been applied at geographic choke points."
  },
  {
    "objectID": "v4x/v430/whats-new/v43-wn.html#draft-demographic-distribution-of-gopbs-latest-county-forecasts",
    "href": "v4x/v430/whats-new/v43-wn.html#draft-demographic-distribution-of-gopbs-latest-county-forecasts",
    "title": "WFTDM Documentation",
    "section": "Draft demographic distribution of GOPB’s latest county forecasts",
    "text": "Draft demographic distribution of GOPB’s latest county forecasts\nA draft distribution of GOPB’s latest county level forecasts was available in January (see discussion in 4.2 What’s new). We discovered in March that MAG’s processing of the employment totals resulted in more jobs in Utah County than GOPB intended. This has been corrected in a “March DRAFT”. Again, these numbers have not been reviewed by cities, and they may never be, since it is possible we will utilize UrbanSim to allocate the GOPB forecasts for our Regional Transportation Plan."
  },
  {
    "objectID": "v5x/v500/downloads.html",
    "href": "v5x/v500/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 5.0.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v5.0 Whats New \n\n\n\nUsers Guide\n\n v5.0 Users Guide"
  },
  {
    "objectID": "v5x/v500/index.html",
    "href": "v5x/v500/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 5.0.0. The documentation includes:\n\nWhat’s New Document\nUsers Guide\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-improvements.html",
    "href": "v5x/v500/whats-new/v5-improvements.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG are satisfied that we have a solid, state-of-the-practice modeling system with many elements of best practice and advanced practice. We see our needs now as focusing our efforts instead on validating and documenting the system, and utilizing the tools as they are to assist development of the Regional Transportation Plan, and support project development. Thus significant model development will move to the back burner, but tools and process improvements that improve the utility of the models for applications will likely continue as needed."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-improvements.html#what-when-and-why-of-next-likely-improvements",
    "href": "v5x/v500/whats-new/v5-improvements.html#what-when-and-why-of-next-likely-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG are satisfied that we have a solid, state-of-the-practice modeling system with many elements of best practice and advanced practice. We see our needs now as focusing our efforts instead on validating and documenting the system, and utilizing the tools as they are to assist development of the Regional Transportation Plan, and support project development. Thus significant model development will move to the back burner, but tools and process improvements that improve the utility of the models for applications will likely continue as needed."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-improvements.html#short-term-ideally-prior-to-final-conformity",
    "href": "v5x/v500/whats-new/v5-improvements.html#short-term-ideally-prior-to-final-conformity",
    "title": "WFTDM Documentation",
    "section": "Short-Term (ideally prior to final conformity)",
    "text": "Short-Term (ideally prior to final conformity)\n\nUse v5.0 beta and get comfortable with model calibration and forecasts; refine as necessary\nV5.0 beta is being used presently for the Mountain View Corridor study and will most likely be used for the I-15 Corridor study in Utah County. These efforts have and will contribute greatly to our knowledge of the modeling system and have and will result in minor refinements to model parameters as needed. As is the case with all complicated EISs, model testing and refinement is an important part of the process and in these cases every effort is being made to both make sensible tweaks and retain these improvements for further use.\nThe goal is to have a model version finalized prior to draft RTP conformity modeling and ASAP. The model that is finalized will be very similar to what is available today, with minor parameter tweaking as needed based on extensive forecast review. The model is certainly useful in its current state, with the caveat that new modeling components will produce different results."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-improvements.html#long-term-after-rtp-adoption",
    "href": "v5x/v500/whats-new/v5-improvements.html#long-term-after-rtp-adoption",
    "title": "WFTDM Documentation",
    "section": "Long-term (after RTP adoption)",
    "text": "Long-term (after RTP adoption)\n\nUrbanSim\nUrbanSim has been utilized for the Wasatch Choices 2040 visioning process and is being used as an input to WFRC’s long-range socio-economic forecasting process. Additional work in FY 06 will examine the reasonableness of the sensitivity of the modeling system to changes in the transportation system. Work also needs to be done to incorporate new 2004 base year data into the modeling system.\n\n\nSurvey Data\nFurther substantive travel model development will require additional, up-to-date data. There is continued debate about what exactly is needed in this arena. The agencies share a goal to come up with a long-term data collection plan during FY 06.\n\n\nReplace TRNBUILD with PUBLIC TRANSPORT\nThe transit travel times and assignment utilize the Citilab’s TrnBuild module, which is a carry over from the Minutp platform. Citilabs ceased development on TrnBuild after acquiring the Public Transport (PT) module from a European firm that specialized in transit route choice and graphical display of results. As we learn more about PT, we will replace TrnBuild. We are unsure as to how much this will improve our accuracy of modeling transit, but it will certainly allow us access to better graphics and different analytical methods, which alone should highlight opportunities for improvement."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-intro.html",
    "href": "v5x/v500/whats-new/v5-intro.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process now available for testing. The document is not intended to be comprehensive and it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-intro.html#introduction",
    "href": "v5x/v500/whats-new/v5-intro.html#introduction",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process now available for testing. The document is not intended to be comprehensive and it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-when.html",
    "href": "v5x/v500/whats-new/v5-when.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Our intent in “What’s New” documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set in allowing on-going projects to progress through analysis with “the latest and greatest model”. However, we also desire to provide upcoming or new projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide new analytical features to advance projects (e.g. commuter rail, MVC tolling study).\nSmall, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of. We’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability.\nWhen significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted. Further, when new features are available for testing, the model is labeled “beta” to allow a phase-in period in which users can test it and work out the bugs. Once the community of users is satisfied with the new version, the beta tag will be dropped."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-when.html#when-to-use-model-improvements",
    "href": "v5x/v500/whats-new/v5-when.html#when-to-use-model-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Our intent in “What’s New” documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set in allowing on-going projects to progress through analysis with “the latest and greatest model”. However, we also desire to provide upcoming or new projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide new analytical features to advance projects (e.g. commuter rail, MVC tolling study).\nSmall, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of. We’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability.\nWhen significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted. Further, when new features are available for testing, the model is labeled “beta” to allow a phase-in period in which users can test it and work out the bugs. Once the community of users is satisfied with the new version, the beta tag will be dropped."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-wn.html",
    "href": "v5x/v500/whats-new/v5-wn.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG’s regional travel demand models have been modified to enable the models to analyze High-Occupancy Vehicle (HOV), High-Occupancy Toll (HOT), and dedicated toll-way demand in the Wasatch Front region. The model system was enhanced to allow explicit representation of HOV and toll trips. This was done by extending the nested logit mode choice model to consider toll and HOV highway travel separately from general purpose lane highway travel, in the same way that the model differentiates between local, express, and rail transit modes.\nThis structure allows the mode choice model to explicitly trade-off the time and costs associated with each of the highway paths (HOV versus toll versus general purpose lane travel). The model is segmented by household income, reflecting different cost sensitivities by income group, time period (peak versus off-peak), and by trip purpose, reflecting that travelers tend to have a higher value of time when making work trips than trips for other purposes. The model captures trade-offs between highway and transit modes, while recognizing higher bus operating speeds due to the availability of HOV lanes. Trips for each mode are assigned to a network representation and analyzed to determine facility operating characteristics (volume, volume/capacity ratio, congested speed).\nThe model is flexible enough to test a fairly broad range of policies, including HOV lanes, HOT lanes (where HOVs pay no toll or a smaller toll), and toll-way lanes (where every user pays). The model can analyze a distance-based toll policy, and the toll rate can vary by time period. Daily toll revenue can be estimated by analyzing toll demand and average toll paid on each facility by time period. Different toll rates can be applied to HOT lanes or toll-way lanes, but all HOT lanes must have the same toll rate, and all toll-way lanes must have the same toll rate.\nThe managed lane model enhancements have not been calibrated to existing data in the WFRC/MAG region, due to no toll facilities existing in the region and limited data from the existing HOV lanes. Some HOV data were available from a study done by the Traffic Lab at the University of Utah and these data were used more to get the base year HOV forecast into a reasonable range. That said, prior to using the model to forecast HOV demand, it is recommended that the base year HOV forecast be reassessed for reasonableness using available data.\nMore detailed documentation on the nature of the changes and how to make use of the managed lanes’ analytical methods are available from WFRC or MAG."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-wn.html#managed-lanes-forecasting-hov-hot-toll-way-lanes",
    "href": "v5x/v500/whats-new/v5-wn.html#managed-lanes-forecasting-hov-hot-toll-way-lanes",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG’s regional travel demand models have been modified to enable the models to analyze High-Occupancy Vehicle (HOV), High-Occupancy Toll (HOT), and dedicated toll-way demand in the Wasatch Front region. The model system was enhanced to allow explicit representation of HOV and toll trips. This was done by extending the nested logit mode choice model to consider toll and HOV highway travel separately from general purpose lane highway travel, in the same way that the model differentiates between local, express, and rail transit modes.\nThis structure allows the mode choice model to explicitly trade-off the time and costs associated with each of the highway paths (HOV versus toll versus general purpose lane travel). The model is segmented by household income, reflecting different cost sensitivities by income group, time period (peak versus off-peak), and by trip purpose, reflecting that travelers tend to have a higher value of time when making work trips than trips for other purposes. The model captures trade-offs between highway and transit modes, while recognizing higher bus operating speeds due to the availability of HOV lanes. Trips for each mode are assigned to a network representation and analyzed to determine facility operating characteristics (volume, volume/capacity ratio, congested speed).\nThe model is flexible enough to test a fairly broad range of policies, including HOV lanes, HOT lanes (where HOVs pay no toll or a smaller toll), and toll-way lanes (where every user pays). The model can analyze a distance-based toll policy, and the toll rate can vary by time period. Daily toll revenue can be estimated by analyzing toll demand and average toll paid on each facility by time period. Different toll rates can be applied to HOT lanes or toll-way lanes, but all HOT lanes must have the same toll rate, and all toll-way lanes must have the same toll rate.\nThe managed lane model enhancements have not been calibrated to existing data in the WFRC/MAG region, due to no toll facilities existing in the region and limited data from the existing HOV lanes. Some HOV data were available from a study done by the Traffic Lab at the University of Utah and these data were used more to get the base year HOV forecast into a reasonable range. That said, prior to using the model to forecast HOV demand, it is recommended that the base year HOV forecast be reassessed for reasonableness using available data.\nMore detailed documentation on the nature of the changes and how to make use of the managed lanes’ analytical methods are available from WFRC or MAG."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-wn.html#trip-distribution-improvements",
    "href": "v5x/v500/whats-new/v5-wn.html#trip-distribution-improvements",
    "title": "WFTDM Documentation",
    "section": "Trip distribution improvements",
    "text": "Trip distribution improvements\nSeveral improvements have been made to the trip distribution models, including new HBW destination choice models and refinements to the gravity models for non-work purposes.\nThe introduction of a destination choice model complicates the model chain and significantly enhances model run-time. The destination choice models utilize mode choice model logsums, among other variables, to estimate work-trip distributions. Therefore to utilize the destination choice model, the mode choice model needs to be run first, whereas in order to run mode choice, we first need a congested network, which requires running distribution and assignment. The sequence of models is shown in Figure 1.\n\n\n\nFigure 1: New model chain.\n\n\nThe first trip distribution step is very similar to how trip distribution used to operate, utilizing the gravity model and iteratively running towards convergence with highway assignment. Gravity models are run for each trip purpose, including work. For non-work trip purposes the output of the distribution-assignment feedback loop is the final trip table. For home-based work, the destination choice model produces the final HBW trip table.\nThe gravity model has newly calibrated friction factor curves, as well as different curves for different conditions (curves specific to free flow speeds as well as congested speeds). Additionally, non-work purposes used to be “doubly constrained,” but at the advice of peers non-work purposes are no longer doubly-constrained.\nAs part of this effort, PB Consult has developed destination choice models for the Home Based Work (HBW) trip purpose. The destination choice model form has many advantages over the traditional gravity model. First, the destination choice models are disaggregate and based on behavioral choice theory, making them more theoretically sound than gravity models. Further, they are more flexible, capturing multiple variables into a utility equation. The models use the logsums calculated in mode choice as the measure of travel impedance. This makes the destination choice model consistent with and sensitive to all transportation modes in the mode choice model. If transit system improvement results in more trips between locations, for example, then these new trips will use the new transit improvement. This feature is fundamental in the evaluation of any proposed transit system extension.\nThe major impetus for the changes to trip distribution at this time came from the Mountain View Corridor study, where dedicated toll-ways are being considered. The previous trip distribution model was not sensitive to toll level-of-service, only general purpose auto travel time. The implications of this limitation would have been a modeling system that did not recognize toll-ways as influencing trip distribution, and moreover trip distribution would only have been a function of much slower general purpose travel times. The destination choice model effectively considers the ease of travel by all modes in estimating the work trip distribution. To appropriately sensitize the gravity models to more than simply general purpose auto travel time, composite impedances is now used in the gravity models that are a weighted average of general purpose and toll travel times.\nNotably, this combination of distribution improvements has resulted in a model that calibrates without the aid of link penalties that have traditionally been applied at geographic choke points. It does not matter whether there are penalties on the network; these penalties are controlled via a script (UpdateLinkPenalties.block).\nMore comprehensive documentation on the destination choice model is available from WFRC or MAG."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-wn.html#mode-choice-improvements",
    "href": "v5x/v500/whats-new/v5-wn.html#mode-choice-improvements",
    "title": "WFTDM Documentation",
    "section": "Mode choice improvements",
    "text": "Mode choice improvements\nThe modifications to trip distribution necessitated recalibrating the mode choice model constants to match observed trips by mode. In addition, the new managed lane forecasting process resulted in a new mode choice model nesting structure, as shown in Figure 2. In this structure, auto trips are first split in drive alone vs. shared ride trips, and then further classified as general purpose trips (i.e. no managed lanes), HOV trips (i.e. use an HOV lane) or toll trips (i.e. use either a HOT lane or a toll-way facility). This classification requires skimming different travel times and costs for these new managed lane modes. Trips estimated by the mode choice model to use managed lanes are then assigned to managed lanes during vehicle assignment.\nThrough extensive review and use of the model it became clear that the on-board survey done by UTA in Fall, 2002 had too many college trips on the light rail system. Utilizing a combination of data sources, including station-level boardings and a Fall, 2002 survey of University of Utah students, the number of college rail trips targeted by the model was significantly reduced. The primary reason for the survey data being too high was thought to be a misunderstanding among survey respondents, where “college” was selected as a trip purpose, even though the person may have been going to work at the college or going to the college for some other reason.\n\n\n\nFigure 2: New mode choice model nesting structure."
  },
  {
    "objectID": "v5x/v500/whats-new/v5-wn.html#vehicle-assignment-improvements",
    "href": "v5x/v500/whats-new/v5-wn.html#vehicle-assignment-improvements",
    "title": "WFTDM Documentation",
    "section": "Vehicle Assignment Improvements",
    "text": "Vehicle Assignment Improvements\nThere were two important modifications to the vehicle assignment routine. First, to accommodate managed lanes and utilize different cost functions for long versus short trips, a multi-class, multi-user assignment (MMA) algorithm is now used. This assignment algorithm is very flexible, allowing different assignment rules for different types of trips and/or facilities. For example, managed lane trips are the only trips allowed on managed lanes. In addition, long and short vehicle trips are assigned to shortest paths using different cost functions. Short trips, currently specified as trips under 10 miles, are assigned based on a function of time and distance, with the thinking being that the both time and distance are important when time savings are minimal. For trips over 10 miles, the shortest time path is used, so distance is not a factor.\nThe second significant change was to the way assignment is run; fixing the number of iterations the assignment routine runs rather than utilizing convergence criteria. To implement this the convergence criteria were set at an unachievable level and a variable was used that defines the maximum iterations. The maximum iterations vary by time period (20 in the AM, 10 in the Midday, 30 in the PM and 10 in the evening). These can be modified if appropriate to reduce run-time assuming calibration results are not adversely affected. The rationale for fixing the number of iterations is one of assignment stability. It has been clearly demonstrated that assignment results oscillate or flip-flop from one iteration to the next between alternating shortest paths. As convergence is more closely achieved, the oscillation is less apparent. This approach attempts to minimize differences between loaded networks due to oscillations by fixing the number of iterations, preventing different assignments from stopping at different iterations. This helps make networks changes outside a corridor of interest (away from where the change occurred) more logical and less significant. The current default max iterations are large enough that previous convergence criteria will be satisfied, but run-time will increase."
  },
  {
    "objectID": "v6x/v600/downloads.html",
    "href": "v6x/v600/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 6.0.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v6.0 Whats New \n\n\n\nModel Documentation\n\n v6 Model Documentation \n\n\n\nUsers Guide\n\n v6.0 Users Guide"
  },
  {
    "objectID": "v6x/v600/index.html",
    "href": "v6x/v600/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 6.0.0. The documentation includes:\n\nWhat’s New Document\nModel Documentation\nUsers Guide\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-improvements.html",
    "href": "v6x/v600/whats-new/v6-improvements.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG are satisfied that we have a solid, state-of-the-practice modeling system with many elements of best practice and advanced practice. We see our needs now as focusing our efforts instead on validating and documenting the system, and utilizing the tools as they are to assist development of the Regional Transportation Plan, and support project development. Thus significant model development will move to the back burner, but tools and process improvements that improve the utility of the models for applications will likely continue as needed.\nThe MPOs do not anticipate a new model version for a couple of years, but model development will continue along the following lines."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-improvements.html#what-when-and-why-of-next-likely-improvements",
    "href": "v6x/v600/whats-new/v6-improvements.html#what-when-and-why-of-next-likely-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "WFRC and MAG are satisfied that we have a solid, state-of-the-practice modeling system with many elements of best practice and advanced practice. We see our needs now as focusing our efforts instead on validating and documenting the system, and utilizing the tools as they are to assist development of the Regional Transportation Plan, and support project development. Thus significant model development will move to the back burner, but tools and process improvements that improve the utility of the models for applications will likely continue as needed.\nThe MPOs do not anticipate a new model version for a couple of years, but model development will continue along the following lines."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-improvements.html#short-term-starting-july-2007",
    "href": "v6x/v600/whats-new/v6-improvements.html#short-term-starting-july-2007",
    "title": "WFTDM Documentation",
    "section": "Short-Term (starting July 2007)",
    "text": "Short-Term (starting July 2007)\n\nEfficiency improvements\nThe model has undergone substantial improvements over the last several years, sometimes at the risk of usability or efficiency. With the completion of version 6 and the MPO LRPs, the time is right to turn our attention to scripting modifications that speed up the execution of the model, or that reduce file storage requirements, without changing the results.\n\n\nTAZ splits\nPrior to the 2010 Census, the MPOs will be asked to provide input into new Census geographies, including TAZs. This input is required during the summer of 2008, and ultimately will result in a revised TAZ structure and network. The model results will change in a minor way with more detail added to the network.\n\n\nUrbanSim testing\nUrbanSim has proven to be useful in the Wasatch Choices 2040 process and in development of long-range projections. Continued testing and refinement will be undertaken to improve and maintain the model system and to better understand it.\n\n\nPeak Period Data Gathering\nRecent observed peak period traffic counts and speeds will be compiled so that in the future the model can be calibrated more finely in the peak periods."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-intro.html",
    "href": "v6x/v600/whats-new/v6-intro.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process now available for use. The document is not intended to be comprehensive and it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages. Model Version 6 is similar in many ways to version 5, but enough time had passed and new model inputs were available, so a new model version number was warranted."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-intro.html#introduction",
    "href": "v6x/v600/whats-new/v6-intro.html#introduction",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "This document summarizes the important changes to the WFRC-MAG travel modeling process now available for use. The document is not intended to be comprehensive and it is targeted towards an audience familiar with travel modeling. If you have questions, please contact Chad Worthen (cworthen@wfrc.org).\nSee earlier “What’s new?” documents to understand other model elements that were worked on in earlier stages. Model Version 6 is similar in many ways to version 5, but enough time had passed and new model inputs were available, so a new model version number was warranted."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-when.html",
    "href": "v6x/v600/whats-new/v6-when.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Our intent in ‘What’s New’ documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set in allowing on-going projects to progress through analysis with “the latest and greatest model”. However, we also desire to provide upcoming or new projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide new analytical features to advance projects (e.g. commuter rail, MVC tolling study).\nSmall, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of. We’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability.\nWhen significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted. Further, when new features are available for testing, the model is labeled “beta” to allow a phase-in period in which users can test it and work out the bugs. Once the community of users is satisfied with the new version, the beta tag will be dropped."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-when.html#when-to-use-model-improvements",
    "href": "v6x/v600/whats-new/v6-when.html#when-to-use-model-improvements",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Our intent in ‘What’s New’ documents is to explain what we did, why we did it when we did, and offer some insight as to the magnitude of the changes to allow projects that have significant investments in a prior model version to determine whether the affects to their projects are “in the noise” or whether there is a compelling reason to utilize the improved model set.\nWe recognize the value of a stable, unchanging model set in allowing on-going projects to progress through analysis with “the latest and greatest model”. However, we also desire to provide upcoming or new projects with solid footing by addressing specific needs within their time-frame. Further, we are sometimes required to implement changes or provide new analytical features to advance projects (e.g. commuter rail, MVC tolling study).\nSmall, incremental improvements to data sets, analysis methods, or other details that have small or localized affects are available on an as-needed basis and should not be considered a new “model version” that an ongoing project need take much note of. We’ve traditionally introduced more significant work on an annual basis, which seems frequent enough to remain at state-of-the-practice and provide new projects with attractive features, but also provides a measure of stability.\nWhen significant improvements are made, ongoing projects may want to consider whether the affected elements may be relevant to their work, and consider some sensitivity testing. If testing suggests the improvements may influence the outcome, more detailed analysis may be warranted. Further, when new features are available for testing, the model is labeled “beta” to allow a phase-in period in which users can test it and work out the bugs. Once the community of users is satisfied with the new version, the beta tag will be dropped."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-wn.html",
    "href": "v6x/v600/whats-new/v6-wn.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "In parallel with revised GOPB county-level growth estimates, and the Wasatch Choices 2040 Visioning effort, the MPOs have developed a new set of population and employment projections for use in the model."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-wn.html#revised-long-range-population-and-employment-projections",
    "href": "v6x/v600/whats-new/v6-wn.html#revised-long-range-population-and-employment-projections",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "In parallel with revised GOPB county-level growth estimates, and the Wasatch Choices 2040 Visioning effort, the MPOs have developed a new set of population and employment projections for use in the model."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-wn.html#revised-networks",
    "href": "v6x/v600/whats-new/v6-wn.html#revised-networks",
    "title": "WFTDM Documentation",
    "section": "Revised Networks",
    "text": "Revised Networks\nThe MPOs are finishing up a new Long-Range Transportation Plan, and with this comes new future roadway and transit networks."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-wn.html#trip-distribution-improvements",
    "href": "v6x/v600/whats-new/v6-wn.html#trip-distribution-improvements",
    "title": "WFTDM Documentation",
    "section": "Trip Distribution Improvements",
    "text": "Trip Distribution Improvements\nThe modeled trip length frequencies have been calibrated to more closely match the trip length frequencies in the Census Journey-to-Work and National household Travel Survey datasets. A script was written that automates the calibration of new gravity model friction factors, based on input trip length distributions.\nA minor bug in the destination choice model was fixed so that both the singly-constrained and doubly-constrained distribution from the destination choice model would closely match the observed work trip length frequency in the base year. The version 5 destination choice model was calibrated only so that the doubly-constrained base year result matched the observed trip length frequency. While this may sound like the result that one wants to achieve, it was clear that the process of doubly-constraining P’s and A’s was increasing trip lengths in the base year significantly. Now the raw model forecast, prior to doubly-constraining the matrix to match trip generation productions and attractions, more closely matches the observed trip length frequency, as does the final doubly-constrained output."
  },
  {
    "objectID": "v6x/v600/whats-new/v6-wn.html#mode-choice-improvements",
    "href": "v6x/v600/whats-new/v6-wn.html#mode-choice-improvements",
    "title": "WFTDM Documentation",
    "section": "Mode Choice Improvements",
    "text": "Mode Choice Improvements\nA system-wide transit on-board survey was conducted in 2006, and these current data on transit riders has been incorporated in a recalibrated mode choice model. Due to large increases in rail ridership from 2002 to 2006, typically speaking, rail forecasts will be higher with version 6 than with older versions of the model. Along with that, the assumptions used for transit path skimming have been revised and fine-tuned based on observed transit paths from the survey."
  },
  {
    "objectID": "v6x/v610/downloads.html",
    "href": "v6x/v610/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 6.1.0 documentation is shown below by category.\n\nWhat’s New Document\n\n v6.1 Whats New"
  },
  {
    "objectID": "v6x/v610/index.html",
    "href": "v6x/v610/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 6.1.0. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v6x/v610/whats-new/1-overview.html",
    "href": "v6x/v610/whats-new/1-overview.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Review:\n\nDirectory Structure\nControl Center & General Parameters Files\nTAZ Shapefile & Equivalency File\nSE File Changes (No HH1-HH6, HHSize)\nHighway Network Link and Node Field Name Changes (street name, tazid seamless transfer)\nTransit Network Changes: Readlines.block, Sup, Walk Buffer, Coding Conventions (BRT n Rail Node Transfer)\nControl totals & base distribution for college, airport, Lagoon Trip Tables\n\nTo Do:\n\nWalk Buffer Methodology\nCollege, Airport, Lagoon Trip Table methods\nEmp30MinTransit & Walk Access Links Moved Up Front\nHH Disaggregation Script\nDrive Access Link Calculation\nCombine Script\nDihurnal Distribution (Peak Periods)\n\nSensitivity Tests:\n\nCRT & BRT 2005 model run\nPeak Period 2005 model run\nMode Choice Constants Calibration Model Runs\n\nData needs to be checked:\n\nTAZ Constraints = Devpble Area\nHand coded walk access links\nRail & Bus Link files\nCBD, PermPrk/TempPark fields\n2005 Employmnet\n(change PNR definition?)\nIXXI\nXX\nAirport, Lagoon CT & Base Year Dist; Geocode UofU & SLCC Redwood\n\nOther:\n\nDrive Access Link restricted by distance between stop & PNR?\nChange PNR Coding Methodology"
  },
  {
    "objectID": "v6x/v610/whats-new/1-overview.html#front-end",
    "href": "v6x/v610/whats-new/1-overview.html#front-end",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Review:\n\nDirectory Structure\nControl Center & General Parameters Files\nTAZ Shapefile & Equivalency File\nSE File Changes (No HH1-HH6, HHSize)\nHighway Network Link and Node Field Name Changes (street name, tazid seamless transfer)\nTransit Network Changes: Readlines.block, Sup, Walk Buffer, Coding Conventions (BRT n Rail Node Transfer)\nControl totals & base distribution for college, airport, Lagoon Trip Tables\n\nTo Do:\n\nWalk Buffer Methodology\nCollege, Airport, Lagoon Trip Table methods\nEmp30MinTransit & Walk Access Links Moved Up Front\nHH Disaggregation Script\nDrive Access Link Calculation\nCombine Script\nDihurnal Distribution (Peak Periods)\n\nSensitivity Tests:\n\nCRT & BRT 2005 model run\nPeak Period 2005 model run\nMode Choice Constants Calibration Model Runs\n\nData needs to be checked:\n\nTAZ Constraints = Devpble Area\nHand coded walk access links\nRail & Bus Link files\nCBD, PermPrk/TempPark fields\n2005 Employmnet\n(change PNR definition?)\nIXXI\nXX\nAirport, Lagoon CT & Base Year Dist; Geocode UofU & SLCC Redwood\n\nOther:\n\nDrive Access Link restricted by distance between stop & PNR?\nChange PNR Coding Methodology"
  },
  {
    "objectID": "v7x/v700/downloads.html",
    "href": "v7x/v700/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 7.0.0 documentation is shown below by category.\n\nModel Documentation\n\n v7 Model Documentation"
  },
  {
    "objectID": "v7x/v700/index.html",
    "href": "v7x/v700/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 7.0.0. The documentation includes:\n\nComplete Model Documentation\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v7x/v701/downloads.html",
    "href": "v7x/v701/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 7.0.2 documentation is shown below by category.\n\nWhat’s New Document\n\n v7.0.1 2012-05 Whats New"
  },
  {
    "objectID": "v7x/v701/index.html",
    "href": "v7x/v701/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 7.0.1. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v7x/v701/whats-new/1-hailmary.html",
    "href": "v7x/v701/whats-new/1-hailmary.html",
    "title": "Version 7.0.1",
    "section": "",
    "text": "Changes in this version of the model affect usability and performance but do not affect model results. Below is a description of the changes made in this model version.\n\n\nWith the release of 64 bit operating systems, such as in Windows 7, Cube software is installed in the program files x86 directory. This change broke the paths in the ‘HailMary.bat’ file to the Voyager executable. Rather than maintain two hailmary batch files (one for 32 bit operating systems and one for 64 bit systems), the model run launch point will now be done using a Cube script (HailMary.s).\nThe ‘HailMary.s’ launch point offers a few advantages:\n\nRunning the ‘ailMary.s’ script should work regardless of where Cube software is installed.\nError handling for the entire model stream is handled in Voyager. Previously, the ‘HailMary.bat’ included error handling between model scripts while Voyager handled errors inside the scripts. A text file indicating the step of the model is still generated as the model runs. These files are now found in the root directory which helps the user see the progress of the model in one location. If the model were to crash, this file also informs the user the script where the crash occurred. The model run print file (*.PRN) is also found in the root directory and contains information from the entire model run. This has the advantage of not having to hunt for this file in the scripts folder to identify model fatal errors and other information. However, this file can be large, which is a drawback. The aggregate runtime reported in the Voyager run window also represents the entire model runtime and not simply the runtime for an individual script.\nViewing and modifying the ‘HailMary.s’ script is easier and uses the same logic/rules the user is familiar with in running Voyager scripts. The user does not need to be familiar with DOS to manipulate scripts in the model run.\nThe model now calls the ‘0GeneralParameters.block’ and ‘1ControlCenter.block’ files only once at the beginning of the model run. If a user still would like to run individual scripts, the user will simply need to uncomment the READ statements at the beginning of the individual script to read in the general and scenario specific parameters. When finished, the user will then re-comment out these READ statements."
  },
  {
    "objectID": "v7x/v701/whats-new/1-hailmary.html#hailmary.s",
    "href": "v7x/v701/whats-new/1-hailmary.html#hailmary.s",
    "title": "Version 7.0.1",
    "section": "",
    "text": "With the release of 64 bit operating systems, such as in Windows 7, Cube software is installed in the program files x86 directory. This change broke the paths in the ‘HailMary.bat’ file to the Voyager executable. Rather than maintain two hailmary batch files (one for 32 bit operating systems and one for 64 bit systems), the model run launch point will now be done using a Cube script (HailMary.s).\nThe ‘HailMary.s’ launch point offers a few advantages:\n\nRunning the ‘ailMary.s’ script should work regardless of where Cube software is installed.\nError handling for the entire model stream is handled in Voyager. Previously, the ‘HailMary.bat’ included error handling between model scripts while Voyager handled errors inside the scripts. A text file indicating the step of the model is still generated as the model runs. These files are now found in the root directory which helps the user see the progress of the model in one location. If the model were to crash, this file also informs the user the script where the crash occurred. The model run print file (*.PRN) is also found in the root directory and contains information from the entire model run. This has the advantage of not having to hunt for this file in the scripts folder to identify model fatal errors and other information. However, this file can be large, which is a drawback. The aggregate runtime reported in the Voyager run window also represents the entire model runtime and not simply the runtime for an individual script.\nViewing and modifying the ‘HailMary.s’ script is easier and uses the same logic/rules the user is familiar with in running Voyager scripts. The user does not need to be familiar with DOS to manipulate scripts in the model run.\nThe model now calls the ‘0GeneralParameters.block’ and ‘1ControlCenter.block’ files only once at the beginning of the model run. If a user still would like to run individual scripts, the user will simply need to uncomment the READ statements at the beginning of the individual script to read in the general and scenario specific parameters. When finished, the user will then re-comment out these READ statements."
  },
  {
    "objectID": "v7x/v701/whats-new/2-etime.html",
    "href": "v7x/v701/whats-new/2-etime.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The ‘ElapsedTime.exe’ file no longer worked with Windows 7. The elapsed time code was removed from the model and replaced with a new method for monitoring model step runtimes. Code was added inside the scripts to print a text file at the beginning of various model steps. The model runtime can then be inferred by looking at the text file time stamps. Just one file is created at the beginning of the Input Processing, Auto Ownership and Trip Generation modeling steps. Beginning with Distribution, a text file is create for each script in the modeling step, with the exception of Mode Choice where scripts 2-3 do not generate a time stamp text file because the model runs fairly quickly through these scripts. The time stamp files are found in the ’_ElapsedTime’ folder in the root directory."
  },
  {
    "objectID": "v7x/v701/whats-new/2-etime.html#elapsed-time",
    "href": "v7x/v701/whats-new/2-etime.html#elapsed-time",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The ‘ElapsedTime.exe’ file no longer worked with Windows 7. The elapsed time code was removed from the model and replaced with a new method for monitoring model step runtimes. Code was added inside the scripts to print a text file at the beginning of various model steps. The model runtime can then be inferred by looking at the text file time stamps. Just one file is created at the beginning of the Input Processing, Auto Ownership and Trip Generation modeling steps. Beginning with Distribution, a text file is create for each script in the modeling step, with the exception of Mode Choice where scripts 2-3 do not generate a time stamp text file because the model runs fairly quickly through these scripts. The time stamp files are found in the ’_ElapsedTime’ folder in the root directory."
  },
  {
    "objectID": "v7x/v701/whats-new/3-notification.html",
    "href": "v7x/v701/whats-new/3-notification.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The ‘HailMary.s’ script will now send the user and email alert when the model finishes or if the model crashes. To receive emails alerts, the user needs to specify the SMTPSERVER, USERNAME, PASSWORD, FROM and TO sections in the SENDMAIL command (note there are two places in ‘HailMary.s’ that would need to be changed). For a user not familiar with defining email parameters, most of this information may be obtained from looking at the email settings in an email enabled smart phone or by contacting the agency’s IT department.\n\n\n\n\n\n\nNote\n\n\n\n\n\nSENDMAIL SMTPSERVER = 'webmail.rsginc.com',\n\n    USERNAME = 'i-rsg\\chad',\n\n    PASSWORD = '**XYyRODsGKVEGOpPVlHOPDVVsPElStCOuLIMDIqBatCQTU**',\n\n    FROM     = 'chad.worthen@rsginc.com',\n\n    TO       = 'chad.worthen@rsginc.com',\n\n    Subject  = 'Model Finished',\n\n    Message  = 'Congratulations!'\n\n\n\nThe user may also use the Cube Base text editor to encrypt the user’s PASSWORD.\n\nOpen any text file in Cube Base.\nIn the ‘Insert’ menu option or ribbon command, select ‘Password for email’.\nA dialog box opens which allows the user to enter a password (make sure ‘Mask Password’ is checked). The encrypted text will be entered into the text document in Cube.\n\n\n\n\nFigure 1: Password dialog box.\n\n\n\nCopy the encrypted password text and paste into the PASSWORD variable (text between the quote marks) in ‘HailMary.s’.\n\nAccording to Cube help, the user can also send mail as a text message to a cell phone account that supports text messaging. Examples of cell phone provider messaging e-mail addresses are listed below (check with cell phone service provider to verify the appropriate address):\n\nPhone#@tmomail.net\nPhone#@ messaging.sprintpcs.com\nPhone#@ vtext.com\nPhone#@ txt.att.net\n\nFor instance, a text message address might be added to the TO command by typing the following text:\n\n\n\n\n\n\nNote\n\n\n\n\n\nTO       = 'chad.worthen@rsginc.com', '5106635200@messaging.sprintpcs.com',\n\n\n\nTo turn email alerts off set the ‘SendEmailAlerts’ variable to 0 in ‘1ControlCenter.txt’."
  },
  {
    "objectID": "v7x/v701/whats-new/3-notification.html#model-notification-play-sound-send-mailtext",
    "href": "v7x/v701/whats-new/3-notification.html#model-notification-play-sound-send-mailtext",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The ‘HailMary.s’ script will now send the user and email alert when the model finishes or if the model crashes. To receive emails alerts, the user needs to specify the SMTPSERVER, USERNAME, PASSWORD, FROM and TO sections in the SENDMAIL command (note there are two places in ‘HailMary.s’ that would need to be changed). For a user not familiar with defining email parameters, most of this information may be obtained from looking at the email settings in an email enabled smart phone or by contacting the agency’s IT department.\n\n\n\n\n\n\nNote\n\n\n\n\n\nSENDMAIL SMTPSERVER = 'webmail.rsginc.com',\n\n    USERNAME = 'i-rsg\\chad',\n\n    PASSWORD = '**XYyRODsGKVEGOpPVlHOPDVVsPElStCOuLIMDIqBatCQTU**',\n\n    FROM     = 'chad.worthen@rsginc.com',\n\n    TO       = 'chad.worthen@rsginc.com',\n\n    Subject  = 'Model Finished',\n\n    Message  = 'Congratulations!'\n\n\n\nThe user may also use the Cube Base text editor to encrypt the user’s PASSWORD.\n\nOpen any text file in Cube Base.\nIn the ‘Insert’ menu option or ribbon command, select ‘Password for email’.\nA dialog box opens which allows the user to enter a password (make sure ‘Mask Password’ is checked). The encrypted text will be entered into the text document in Cube.\n\n\n\n\nFigure 1: Password dialog box.\n\n\n\nCopy the encrypted password text and paste into the PASSWORD variable (text between the quote marks) in ‘HailMary.s’.\n\nAccording to Cube help, the user can also send mail as a text message to a cell phone account that supports text messaging. Examples of cell phone provider messaging e-mail addresses are listed below (check with cell phone service provider to verify the appropriate address):\n\nPhone#@tmomail.net\nPhone#@ messaging.sprintpcs.com\nPhone#@ vtext.com\nPhone#@ txt.att.net\n\nFor instance, a text message address might be added to the TO command by typing the following text:\n\n\n\n\n\n\nNote\n\n\n\n\n\nTO       = 'chad.worthen@rsginc.com', '5106635200@messaging.sprintpcs.com',\n\n\n\nTo turn email alerts off set the ‘SendEmailAlerts’ variable to 0 in ‘1ControlCenter.txt’."
  },
  {
    "objectID": "v7x/v701/whats-new/4-inputoutput.html",
    "href": "v7x/v701/whats-new/4-inputoutput.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The file path names in the model are now encapsulated in quote marks. This allows the path to include special characters, such as spaces, dashes and andpersands without crashing the model. This allows the user greater flexibility in file and folder name construction as well as greater freedom in placing the model root directory."
  },
  {
    "objectID": "v7x/v701/whats-new/4-inputoutput.html#inputoutput-file-path-names-in-quotes",
    "href": "v7x/v701/whats-new/4-inputoutput.html#inputoutput-file-path-names-in-quotes",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The file path names in the model are now encapsulated in quote marks. This allows the path to include special characters, such as spaces, dashes and andpersands without crashing the model. This allows the user greater flexibility in file and folder name construction as well as greater freedom in placing the model root directory."
  },
  {
    "objectID": "v7x/v701/whats-new/5-module.html",
    "href": "v7x/v701/whats-new/5-module.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Previous versions of the model continued to use the following legacy TP+ module calls: HWYNET, HWYLOAD and TRIPDIST. These have been updated to the following Voyager module calls: NETWORK, HIGHWAY and DISTRIBUTION. This should allow the model to take advantage of module updates as Citilabs is maintaining the Voyager modules but has not guaranteed to update the legacy TP+ modules. The only remaining TP+ module in the WF model is the TRNBUILD module which should be replaced in V71 of the model."
  },
  {
    "objectID": "v7x/v701/whats-new/5-module.html#update-to-voyager-module-references",
    "href": "v7x/v701/whats-new/5-module.html#update-to-voyager-module-references",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Previous versions of the model continued to use the following legacy TP+ module calls: HWYNET, HWYLOAD and TRIPDIST. These have been updated to the following Voyager module calls: NETWORK, HIGHWAY and DISTRIBUTION. This should allow the model to take advantage of module updates as Citilabs is maintaining the Voyager modules but has not guaranteed to update the legacy TP+ modules. The only remaining TP+ module in the WF model is the TRNBUILD module which should be replaced in V71 of the model."
  },
  {
    "objectID": "v7x/v701/whats-new/6-general.html",
    "href": "v7x/v701/whats-new/6-general.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "A bug was fixed that was causing the model to freeze in the ‘1NetProcessor.s’ script. The bug only affected land use reporting and did not affect model results.\nThere was an inconsistency in how the hand-coded drive and walk support links were being called in the model. In the ‘4TranRouteTest_0Xfer_Emp30.s’ script, the support links were being read in a ‘Sup’ folder in the scenario transit line directory. All other references to hand coded access links were using the ‘Sup’ folder in the general inputs transit folder. Both locations had copies of the same hand-coded access link data. The ‘4TranRouteTest_0Xfer_Emp30.s’ script now references the same support link directory as the rest of the model. The duplicate ‘Sup’ folder in the line folder can be deleted. Scenario specific hand-coded support links will be included in a later version of the WF model.\n\n\n\nThe ‘runselectlink’ variable was added as a toggle to turn on select link analysis in Final Assignment. The corresponding application of the toggle variable is found in ‘4AssignHwy_ManagedLanes.s’.\nThe post processing sub folders were removed as tokens. These folder tokens were not being used and were labeled incorrectly. The sub folders are referenced with a static path name after the @ParenDir@@PostProcDir@ tokens in the post processing scripts called by ‘HailMary.s’"
  },
  {
    "objectID": "v7x/v701/whats-new/6-general.html#general-updates",
    "href": "v7x/v701/whats-new/6-general.html#general-updates",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "A bug was fixed that was causing the model to freeze in the ‘1NetProcessor.s’ script. The bug only affected land use reporting and did not affect model results.\nThere was an inconsistency in how the hand-coded drive and walk support links were being called in the model. In the ‘4TranRouteTest_0Xfer_Emp30.s’ script, the support links were being read in a ‘Sup’ folder in the scenario transit line directory. All other references to hand coded access links were using the ‘Sup’ folder in the general inputs transit folder. Both locations had copies of the same hand-coded access link data. The ‘4TranRouteTest_0Xfer_Emp30.s’ script now references the same support link directory as the rest of the model. The duplicate ‘Sup’ folder in the line folder can be deleted. Scenario specific hand-coded support links will be included in a later version of the WF model.\n\n\n\nThe ‘runselectlink’ variable was added as a toggle to turn on select link analysis in Final Assignment. The corresponding application of the toggle variable is found in ‘4AssignHwy_ManagedLanes.s’.\nThe post processing sub folders were removed as tokens. These folder tokens were not being used and were labeled incorrectly. The sub folders are referenced with a static path name after the @ParenDir@@PostProcDir@ tokens in the post processing scripts called by ‘HailMary.s’"
  },
  {
    "objectID": "v7x/v702/downloads.html",
    "href": "v7x/v702/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 7.0.2 documentation is shown below by category.\n\nWhat’s New Document\n\n v7.0.2a 2012-06 Whats New \n v7.0.2 2012-06 Whats New"
  },
  {
    "objectID": "v7x/v702/index.html",
    "href": "v7x/v702/index.html",
    "title": "Downloads",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 7.0.2. The documentation includes:\n\nWhat’s New Document\n\nFor access to this version of the TDM please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v7x/v702/whats-new/1-201206-update.html",
    "href": "v7x/v702/whats-new/1-201206-update.html",
    "title": "Version 7.0.2a - 2012-06 Update",
    "section": "",
    "text": "Changes in this version of the model affect model run time as explained below. Model results remain unchanged.\n\n\nCube Cluster was added to improve model run times. Cluster allows model processes to be distributed over multiple computer processors, thus dividing the amount of work done on any one processor and reducing run time. Depending on the number of processing nodes over which the model will be distributed, the run time can be greatly reduced.\n\n\nNot all parts of the model are able to use Cluster. Figure 1 illustrates which scripts (shown in green) have Cluster coded into the model.\n\n\n\nFigure 1: Cube scripts with cluster coded into the model.\n\n\nBecause some parts of the model are not distributed over multiple processors, there is a minimum time the model will take to run and at which point adding more processors does not significantly improve model run times. A test of v7.0.2a on a computer with 32 processors showed the following model run time improvements when adding subsequent processing nodes:\n\n\n\nThe following controls were added to the ‘1ControlCenter.block’ file to allow the user the ability to turn on/off Cluster and to set the Cluster parameters (note, Citilabs charges an additional fee for Cluster, so the model was made to run with or without Cluster):\n\n\n\nFigure 2: Controls added to the ‘1ControlCenter.block’ file.\n\n\nTo turn on Cube Cluster, set the ‘UseCubeCluster’ variable to 1. If the variable is set to any other number the Cluster code in the model is ignored. The default is set to not run Cluster.\nThe ‘CoresAvailable’ variable identifies the number of extra processing nodes over which the model processing will be distributed. Typically this is set to the number of processors, or processing cores, available in a given machine. If the user wishes to not use all the available processors available in a computer, then this variable would be set to the number of processing cores the user wants Cluster to use. The user must also change the second index in the ‘ClusterNodeID 2-4’ statement (in this example the index is 4), to be the number of cores specified in the ‘CoresAvailable’ variable. If only 1 processing node is to be used, then Cluster should be turned off.\nThe ‘If’ statement is the last control and directs Cube to either turn Cluster on/off. If Cluster is to be turned on, then the ‘Cluster Node Management‘ window is initiated which sets number of Voyager processing nodes in wait mode. A control was also added to the ’HailMary.s’ script which closes these additional Voyager processing node windows when the model has completed running.\n\n\n\n\nTo be able to better track Cluster results script by script, an elapsed time text file is printed for each script in the model. The code that prints the elapsed time text file was updated was also updated so time stamps are printed in a similar fashion in each script."
  },
  {
    "objectID": "v7x/v702/whats-new/1-201206-update.html#cube-cluster",
    "href": "v7x/v702/whats-new/1-201206-update.html#cube-cluster",
    "title": "Version 7.0.2a - 2012-06 Update",
    "section": "",
    "text": "Cube Cluster was added to improve model run times. Cluster allows model processes to be distributed over multiple computer processors, thus dividing the amount of work done on any one processor and reducing run time. Depending on the number of processing nodes over which the model will be distributed, the run time can be greatly reduced.\n\n\nNot all parts of the model are able to use Cluster. Figure 1 illustrates which scripts (shown in green) have Cluster coded into the model.\n\n\n\nFigure 1: Cube scripts with cluster coded into the model.\n\n\nBecause some parts of the model are not distributed over multiple processors, there is a minimum time the model will take to run and at which point adding more processors does not significantly improve model run times. A test of v7.0.2a on a computer with 32 processors showed the following model run time improvements when adding subsequent processing nodes:\n\n\n\nThe following controls were added to the ‘1ControlCenter.block’ file to allow the user the ability to turn on/off Cluster and to set the Cluster parameters (note, Citilabs charges an additional fee for Cluster, so the model was made to run with or without Cluster):\n\n\n\nFigure 2: Controls added to the ‘1ControlCenter.block’ file.\n\n\nTo turn on Cube Cluster, set the ‘UseCubeCluster’ variable to 1. If the variable is set to any other number the Cluster code in the model is ignored. The default is set to not run Cluster.\nThe ‘CoresAvailable’ variable identifies the number of extra processing nodes over which the model processing will be distributed. Typically this is set to the number of processors, or processing cores, available in a given machine. If the user wishes to not use all the available processors available in a computer, then this variable would be set to the number of processing cores the user wants Cluster to use. The user must also change the second index in the ‘ClusterNodeID 2-4’ statement (in this example the index is 4), to be the number of cores specified in the ‘CoresAvailable’ variable. If only 1 processing node is to be used, then Cluster should be turned off.\nThe ‘If’ statement is the last control and directs Cube to either turn Cluster on/off. If Cluster is to be turned on, then the ‘Cluster Node Management‘ window is initiated which sets number of Voyager processing nodes in wait mode. A control was also added to the ’HailMary.s’ script which closes these additional Voyager processing node windows when the model has completed running."
  },
  {
    "objectID": "v7x/v702/whats-new/1-201206-update.html#elapsed-time-scripts",
    "href": "v7x/v702/whats-new/1-201206-update.html#elapsed-time-scripts",
    "title": "Version 7.0.2a - 2012-06 Update",
    "section": "",
    "text": "To be able to better track Cluster results script by script, an elapsed time text file is printed for each script in the model. The code that prints the elapsed time text file was updated was also updated so time stamps are printed in a similar fashion in each script."
  },
  {
    "objectID": "v7x/v702/whats-new/2-modes.html",
    "href": "v7x/v702/whats-new/2-modes.html",
    "title": "Version 7.0.2",
    "section": "",
    "text": "Changes in this version of the model primarily affect the modeling of modes 5 and 9, which have been modified to reflect BRT-Light (e.g. BRT I) and BRT-Heavy (e.g. BRT III), respectively."
  },
  {
    "objectID": "v7x/v702/whats-new/2-modes.html#modes-5-and-9",
    "href": "v7x/v702/whats-new/2-modes.html#modes-5-and-9",
    "title": "Version 7.0.2",
    "section": "Modes 5 and 9",
    "text": "Modes 5 and 9\nFor the UTA Network Study there was a desire by the study team to better differentiate between classes of BRT using the travel model. The decision was made to revise the model so that mode 5 would represent a lower class of BRT, similar to BRT I, which is generally characterized by improved passenger stations, off-board fare payment, and transit signal priority. Mode 9 was modified to represent a higher class of BRT, similar to BRT III, which includes all of the features of the lower class of BRT, but also includes substantial route segments with exclusive bus lanes.\n\nBRT Speeds\nThe biggest difference from prior model versions is how the speed of BRT routes is coded. Previously, the model assumed that BRT would operate at 80% of the vehicle speed. Now it is up to the user to specify the desired operating speed. If the user neglects to specify the speed of the BRT route it will operate at the same speed as the local bus (approximately 60% of the vehicle speed, depending on the facility type of the road).\nThe user specifies the speed of the BRT route in the transit line file and should typically be via using the ‘TF’ function (see figure). The ‘TF’ function is a time factor that adjusts the transit travel time to the nodes following the ‘TF.’ A time factor less than 1.0 will increase the transit speed, while a factor greater than 1.0 will decrease the speed. As a general rule, it is recommended that the following time factors be used for modes 5 and 9.\n\n\n\nFigure 1: TF function for adjusting BRT speed.\n\n\n\n\n\n\nTable 1: Time Factors for Mode 5 and Mode 9\n\n\nMode\nTime Factor\n\n\n\n\nBRT Light (Mode 5)\n0.85\n\n\nBRT Heavy (Mode 9)\n0.75\n\n\n\n\n\n\nThese factors will result in BRT-Light speeds that are approximately 70% of the vehicle speed and BRT-Heavy speeds that are approximately 80% of the vehicle speed.\nThis approach to BRT speeds allows maximum flexibility in setting the speeds, which can vary by segment. For example, if a route is coded as BRT Heavy because it is expected to be predominantly exclusive bus lanes, but with short segment of shared lanes with no other improvements, it is possible to vary the speeds by segment by coding the exclusive lane segments with a ‘TF’ of 0.75 and the shared lane segment with a 1.0.\nThe user may also use the ‘SPEED’ control in the line file to set the speed for the exclusive lane segments. ‘SPEED’ sets the link speed to a fixed value allowing the BRT line to run independent of adjacent roadway congestion. When the exclusive lane segment ends, a ‘TF’ control can be used to reset the BRT speed to once again be subject to roadway congestion.\n\n\nMode Specific Constants\nThe mode specific constant refers to the general attractiveness of each mode. Rail modes have the highest values while local bus has the lowest. Previously modes 5 and 9 had a constant that was halfway between local bus and light rail. These constants were modified so that mode 5 now has a constant of 33% of the difference between local bus and light rail and mode 9 has a constant of 67% of the difference."
  },
  {
    "objectID": "v7x/v702/whats-new/3-accesslinks.html",
    "href": "v7x/v702/whats-new/3-accesslinks.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The model was modified so that new hand coded walk and drive access links can be added to transit scenarios. This was done by separating the walk and drive access links that remain unchanged regardless of transit from those that are specific to a given scenario. General walk and drive access link files were placed in the ’_Inputs\\4_Transit\\_General Hand-Coded Support Links’ directory. Scenario specific walk and drive access links can be added to the ‘scenario_hand_coded_walk_links.sup’ and ‘scenario_hand_coded_drive_links.sup’ files found in the scenario line folders."
  },
  {
    "objectID": "v7x/v702/whats-new/3-accesslinks.html#hand-coded-access-links",
    "href": "v7x/v702/whats-new/3-accesslinks.html#hand-coded-access-links",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "The model was modified so that new hand coded walk and drive access links can be added to transit scenarios. This was done by separating the walk and drive access links that remain unchanged regardless of transit from those that are specific to a given scenario. General walk and drive access link files were placed in the ’_Inputs\\4_Transit\\_General Hand-Coded Support Links’ directory. Scenario specific walk and drive access links can be added to the ‘scenario_hand_coded_walk_links.sup’ and ‘scenario_hand_coded_drive_links.sup’ files found in the scenario line folders."
  },
  {
    "objectID": "v7x/v702/whats-new/4-other.html",
    "href": "v7x/v702/whats-new/4-other.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Two other minor modifications were made to the model. The ‘1DemographicsAnalysis.s’ script was modified to improve the reporting of the city-level demographics. The ‘1NetProcessor.s’ script was modified so that the name and values of the various districts are added to the network rather than the generic ‘DISTLRG,’ ‘DISTMED,’ and ‘DISTSML’ labels."
  },
  {
    "objectID": "v7x/v702/whats-new/4-other.html#other-minor-modifications",
    "href": "v7x/v702/whats-new/4-other.html#other-minor-modifications",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Two other minor modifications were made to the model. The ‘1DemographicsAnalysis.s’ script was modified to improve the reporting of the city-level demographics. The ‘1NetProcessor.s’ script was modified so that the name and values of the various districts are added to the network rather than the generic ‘DISTLRG,’ ‘DISTMED,’ and ‘DISTSML’ labels."
  },
  {
    "objectID": "v8x/v810/downloads.html",
    "href": "v8x/v810/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 8.1.0 documentation is shown below by category.\n\nCalibration & Validation Report\n\n v8.1 Calib Valid"
  },
  {
    "objectID": "v8x/v810/index.html",
    "href": "v8x/v810/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 8.1.0. The documentation includes:\n\nCalibration & Validation Report\n\nFor access to this version of the TDM visit ."
  },
  {
    "objectID": "v8x/v830/downloads.html",
    "href": "v8x/v830/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 8.3.0 documentation is shown below by category.\n\nInputs\n\n v8.3 2019-06-18 Inputs"
  },
  {
    "objectID": "v8x/v830/index.html",
    "href": "v8x/v830/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 8.3.0. The documentation includes:\n\nInputs Document\n\nFor access to this version of the TDM visit ."
  },
  {
    "objectID": "v8x/v831/downloads.html",
    "href": "v8x/v831/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 8.3.1 documentation is shown below by category.\n\nWhat’s New Document\n\n v8.3.1 2020-08-17 Whats New \n v8.3.1 2020-05-08 Whats New \n\n\n\nInputs\n\n v8.3.1 2020-05-08 Inputs \n\n\n\nCalibration & Validation Report\n\n v8.3.1 2020-10-23 Calib Valid"
  },
  {
    "objectID": "v8x/v831/index.html",
    "href": "v8x/v831/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 8.3.1. The documentation includes:\n\nWhat’s New Document\nInputs Document\nCalibration & Validation Report\n\nFor access to this version of the TDM visit ."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/1-inputdata.html",
    "href": "v8x/v831/whats-new/2020-05-08/1-inputdata.html",
    "title": "Input Data",
    "section": "",
    "text": "A very minor change was made to the socioeconomic data in Utah County. A few households had been located in the Utah Lake TAZ. These were removed and relocated into nearby TAZ. This change would have very little affect to model results.\n\n\n\nThe highway network was updated in the MAG and WFRC areas to reflect the first round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. The changes to the input highway network are significant, particularly in Utah County, and would most likely affect the travel model’s output. Projects in and around areas of high change may want to do sensitivity tests to better understand the impact that these input network changes may have had on project-level decisions. Figure 1 shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.\n\n\n\nFigure 1: Added lanes between version 8.3 and 8.3.1."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/1-inputdata.html#socioeconomic-data",
    "href": "v8x/v831/whats-new/2020-05-08/1-inputdata.html#socioeconomic-data",
    "title": "Input Data",
    "section": "",
    "text": "A very minor change was made to the socioeconomic data in Utah County. A few households had been located in the Utah Lake TAZ. These were removed and relocated into nearby TAZ. This change would have very little affect to model results."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/1-inputdata.html#plan-amendment",
    "href": "v8x/v831/whats-new/2020-05-08/1-inputdata.html#plan-amendment",
    "title": "Input Data",
    "section": "",
    "text": "The highway network was updated in the MAG and WFRC areas to reflect the first round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. The changes to the input highway network are significant, particularly in Utah County, and would most likely affect the travel model’s output. Projects in and around areas of high change may want to do sensitivity tests to better understand the impact that these input network changes may have had on project-level decisions. Figure 1 shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.\n\n\n\nFigure 1: Added lanes between version 8.3 and 8.3.1."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/2-cube-update.html",
    "href": "v8x/v831/whats-new/2020-05-08/2-cube-update.html",
    "title": "Update For CUBE 6.4.5",
    "section": "",
    "text": "Update For CUBE 6.4.5\nCube 6.4.5 required that all ZDATI input files be placed before any MATI input files. This requirement was not in previous versions of Cube. The scripts were update to comply with this new requirement so the travel model will run on Cube 6.4.5 without crashing. That said, it is possible that future versions of Cube will address this issue.\nIn addition, Cube 6.4.5 was improved to allow for faster assignment processing in. According to Cube’s 6.4.5 release notes:\n\n\n\n\n\n\nNote\n\n\n\n\n\n“New option F2 for PATHLOAD DEC keyword. Improves run time performance in path building.\nNew keyword MUTITHREAD to distribute Adjust phase across multiple processing cores. Includes sub keyword MEMORY, which is a Boolean option to set the temp files in memory or disk, when using MULTITHREAD. Only applies to COMBINE=EQUI.”\n\n\n\nThe command ‘DEC=F2’ was put into the PATHLOAD control statement and ‘MULTITHREAD=@CoresAvailable@, MEMORY=T’ in the assignment ‘block’ files to improve model runtime. These changes, however, resulted in only minor runtime improvements. These improvements were left in the model scripts but were commented out so users of Cube prior to the 6.4.5 release can still use the model. For those wishing to use this enhancement and have Cube 6.4.5, they will need to uncomment these items.\nThe following files were updated as part of the Cube 6.4.5 work:\n\nDistribution\n\n1_Distribution.s\n4pd_mainbody_distribution.block\n3_SumToDistricts_GRAVITY.s\n\nMode Choice\n\n03_Skim_auto.s\n06_HBW_logsums.s\n07_HBW_dest_choice.s\n11_Mc_HBW_HBO.s,12_Mc_NHB_HBC.s\n14_AsnTran.s\n18_SumToDistricts_FinalTripTables.s\n\nFinal Assignment\n\n4pd_mainbody_managedlanes.block\n4pd_mainbody_managedlanes_SelectLink.block"
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/3-segsum.html",
    "href": "v8x/v831/whats-new/2020-05-08/3-segsum.html",
    "title": "Segment Summary",
    "section": "",
    "text": "Segment Summary\nSeveral changes were made to the model’s inputs and code to allow for segment level processing of the model results.\nIn the ‘1_Inputs\\6_Segment’ folder, an updated master segment shapefile has been provided. This shapefile contains the segment geography used to summarize and report model data. The shapefile also contains historic UDOT observed volumes (AADT), medium and heavy truck factors, day-of-week and average weekday and weekend factors, and monthly and seasonal factors. Each segment in the segment shapefile has a unique SEGID which has been stamped onto appropriate links on the master highway network. Given the complex geometry in certain areas in the highway network, such as those found near freeway system-to-system interchanges, a polygon shapefile located in the ‘Stamping_Polygons’ folder was created to aid in the SEGID transfer from the segment shapefile onto the highway network links. Note in many cases not all model links in a segment currently receive a SEGID; rather, a sufficient number of links have been identified to represent the segment for data averaging.\nThe ‘1_Inputs\\6_Segment’ folder also contains a polygon shapefile located in the ‘SeasFac_Geog’ folder that contains geographic information that can be spatially joined onto the model highway links so that seasonal factors can be calculated for every link. This data is used by the air quality TDM2MOVES script located in the ‘2_ModelScripts\\7_PostProcessing\\1_TDM_2_MOVES\\1_TDM_2_MOVES - v1’ folder.\nA segment post processing script, ‘06_SegmentSummary.s’ located in the ‘2_ModelScripts\\5_AssignHwy’ folder, has been added to the model’s ’_HailMary.s’ batch script. This script summarizes the final assigned highway network data for the segments in the segment shapefile based on the SEGID on the highway network links. The script produces two summary reports, ‘v83_SE15_Net15_Summary_SEGID.dbf’ and ‘v83_SE15_Net15_Summary_SEGID_Detailed.dbf’ found in the output scenario’s ‘5_AssignHwy\\4_Summaries’ folder. The two files are identical except that the ‘Detailed’ report includes data summaries for all functional groups separately in addition to the total for all functional groups. The reports are generated automatically with every model run. The reports provide data summaries for each direction (direction 1=positive or eastbound/northbound direction, direction 2=negative or westbound/southbound direction) and for the total of both directions and include the following information:\n\nIdentifying fields:\n\nSEGID, functional group, SUBAREAID, county FIPS, and area type\n\nFields for each direction & total:\n\nNumber of Links\nOneway Distance\nNumber of Lanes\nFunctional Type Number and corresponding functional group\nAverage 1-hour, 1-lane capacity\nAverage volume by period (AM, MD, PM, EV & DY) and average daily truck volume (LT, MD, HV)\nAverage speed by period (free flow, AM, MD, PM, EV, DY)"
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/4-assign.html",
    "href": "v8x/v831/whats-new/2020-05-08/4-assign.html",
    "title": "Assignment Output Folder",
    "section": "",
    "text": "Assignment Output Folder\nSubfolders were added to the final assignment folder, ‘5_AssignHwy’, in the scenario output folder to keep assignment output more organized. The new folders are shown in Figure 1.\n\n\n\nFigure 1: New assignment folder structure.\n\n\nThe ‘0_ConvergeReports’ folder contain the highway assignment convergence reports. These reports were previously written to the assignment temp folder. The ‘1_ODTables’ contain the output of the ‘01_Convert_PA_to_OD.s’ script. The binary ‘.NET’, loaded network files are found in ‘2a_Networks’ and their shapefile equivalents are found in ‘2b_Shapefiles’. The network and matrix output from select link analyses are found in ‘3_SelectLink’. Segment summaries from the new segment processing script are found in ‘4_Summaries’. The period skims produced form the final loaded network travel times are found in ‘5_FinalNetSkims’."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/5-ato.html",
    "href": "v8x/v831/whats-new/2020-05-08/5-ato.html",
    "title": "Access to Opportunity",
    "section": "",
    "text": "Access to Opportunity\nAccess to opportunities, also referred to as accessibility or ATO, is a way to measure how well people can connect to jobs, or vice versa. ATO metrics quantify how well the current and future transportation system work with land use. Both shorter travel times and an increased presence of employment and other opportunities result in higher accessibility scores.\nA script to calculate ATO metrics, ‘1_Access_to_Opportunity.s’ located in the ‘2_ModelScripts\\7_PostProcessing’ folder, has been added to the model’s ’_HailMary.s’ batch script and runs automatically with every model run. The script sums the number of jobs and households that are within a typical commute travel shed (in minutes) by auto and transit. The typical commute travel shed is defined using a distance decay curve estimated from the 2012 household travel survey. Metrics that combine the jobs and households are also calculated.\nResults from the ATO script are output into ‘7_PostProcessing\\Access_to_Opportunity_@DemographicYear@.dbf’. Results can be joined with the TAZ shapefile to visualize the data, such as Figure 1\n\n\n\nFigure 1: Example report from the WFRC website displaying results at the TAZ level."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/6-misc.html",
    "href": "v8x/v831/whats-new/2020-05-08/6-misc.html",
    "title": "Miscellaneous Changes",
    "section": "",
    "text": "Miscellaneous Changes\nA small bug was fixed in the ‘1_TripTable.s’ script in the ‘2_ModelScripts\\0_InputProcessing\\d_TripTable’ folder. The control totals for the Salt Lake International Airport and Lagoon zones were being assigned to the other location’s output. This fix will cause a localized change to the volumes near the airport and Lagoon.\nA small bug fix was made to the ‘1_NetProcessor.s’ script in the ‘2_ModelScripts\\0_InputProcessing\\ c_NetworkProcessing’ folder. When socioeconomic data is loaded on to the TAZ centroids, home-based job employment had supplanted the construction job variable. This fix only affects labeling of socioeconomic data on the highway network in Cube and does not affect any travel model results.\nTIME fields on the network were edited to have four decimal places of precision instead of two (added to improve speed calculations). Subfolder structure was removed for ‘0_DeleteTempFiles.s’ script in ‘2_ModelScripts\\7_PostProcessing’ folder and corresponding edits were made in the ’_HailMary.s’ batch script.\n’_HailMary.s’ was updated to include more detail in the email functions. The ‘Compare2Assignments.s’ script in the ‘2_ModelScripts\\7_PostProcessing\\2_Compare2Nets’ folder was updated to include SEGID, correct field names for free flow speed, and add Area Type comparison. The associated DEFAULT.VPR file was also cleaned up. A script to compare two master networks, ‘Compare_MasterNet.s’, was also added to the ‘2_ModelScripts\\7_PostProcessing\\2_Compare2Nets’ folder."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-08-17/1-20200817-update.html",
    "href": "v8x/v831/whats-new/2020-08-17/1-20200817-update.html",
    "title": "Updated Networks – Aug 17, 2020",
    "section": "",
    "text": "Updated Networks – Aug 17, 2020\nThe ‘WF TDM v8.3.1 - 2020-05-08’ model version included most but not all of the highway and transit network changes that were part of MAG’s RTP amendment. Because the networks reflect the “official” MAG amended plan, the travel model was reissued with a new date stamp. However, since there were no changes to the model itself or the other modeling inputs, the version number of the travel model remained the same.\nFigure 1 shows where lanes were added (green) or were taken away (orange) between ‘WF TDM v8.3.1 - 2020-05-08’ and ‘WF TDM v8.3.1 - 2020-08-17’ highway networks. Express bus routes were also removed from the MAG line files in the 2030, 2040 & 2050 Funded & Needed Transit folders .\n\n\n\nFigure 1: Added lanes between v8.3.1 2020-05-08 and v8.3.1 2020-08-17"
  },
  {
    "objectID": "v8x/v832/downloads.html",
    "href": "v8x/v832/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The downloads for the Version 8.3.2 documentation is shown below by category.\n\nWhat’s New Document\n\n v8.3.2 2022-02-04 Whats New \n v8.3.2 2021-11-10 Whats New \n\n\n\nInputs\n\n v8.3.2 2022-02-04 Inputs \n\n\n\nCalibration & Validation Report\n\n v8.3.2 2022-02-04 Calib Valid \n v8.3.2 2021-10-17 Calib Valid"
  },
  {
    "objectID": "v8x/v832/index.html",
    "href": "v8x/v832/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 8.3.2. The documentation includes:\n\nWhat’s New Document\nInputs Document\nCalibration & Validation Report\n\nFor access to this version of the TDM visit https://github.com/WFRCAnalytics/WF-TDM-v8.3.2."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/1-genparams.html",
    "href": "v8x/v832/whats-new/2021-11-10/1-genparams.html",
    "title": "General Parameters",
    "section": "",
    "text": "General Parameters\nFor highway calibration purposes, KFACs were defined for the following county-to-county trips:\n\nKFAC for Utah County to/from Salt Lake County trips is set to 0.85.\nKFAC for Davis County to/from Salt Lake County trips is set to 0.95.\n\nFor transit calibration purposes, the BRT Mode 5 multiplier was set to 0.40. The Mode 9 multiplier was removed, since BRT Mode 9 was calibrated independently of LRT for v8.3.2."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/10-modelresults.html",
    "href": "v8x/v832/whats-new/2021-11-10/10-modelresults.html",
    "title": "Model Results - Comparison with v8.3.1",
    "section": "",
    "text": "Model Results - Comparison with v8.3.1\nFigure 1 shows a comparison of daily roadway volume in the v8.3.2 model compared to the v8.3.1 model. Roadway links in red demonstrate an increase in traffic and green show a decrease in traffic between the new and the old model. The thicker the line and darker the color, the greater the magnitude of change. At the region level, the changes show that v.8.3.2 includes greater county-to-county flows as demonstrated in the 2019 base year with volume between Salt Lake County and both Davis and Utah Counties increasing while roadways such as I-80, I-215, and SR-201 showing decreasing traffic. This pattern is continued in the 2050 model with the intensity of change increasing on north/south freeways and arterials.\n\n\n\nFigure 1: Model Daily Volumes Comparison (v8.3.2 vs v8.3.1).\n\n\nComparison of the highway volume validations of the v8.3.2 and v8.3.1 models are shown in Figure 2. There are separate charts by facility type and by county, as well as vehicle type. Medium and heavy truck trip generations and trip-length-frequencies were adjusted in the calibration process to bring model truck volumes closer in line with observed. Overall, for all vehicles the v8.3.2 model is closer to observed with all facility types within 4% of observed. Utah County improves significantly to only 1% low while Box Elder, Weber, and Davis counties are a couple percent lower than v8.3.1. When looked at by facility type, medium and heavy trucks see major improvements with minor arterials and major collectors and are much closer to observed by significant margins, but overall are slightly lower than observed as compared to v8.3.1.\n\n\n\nFigure 2: Highway Volumes Validation (v8.3.2 and v8.3.1).\n\n\nFigure 3, Figure 4, and Figure 5 show a comparison between daily model volumes by vehicle type with observed traffic volumes. There are slight changes in the All Vehicles figures between v8.3.2 and v8.3.1. Greater improvements are seen in the Medium and Heavy Truck figures, especially in the Box Elder and the Mountain View Corridor areas.\n\n\n\nFigure 3: All Vehicles Daily Volumes Comparison (Model vs Observed).\n\n\n\n\n\nFigure 4: Medium Trucks Daily Volumes Comparison (Model vs Observed).\n\n\n\n\n\nFigure 5: Heavy Trucks Daily Volumes Comparison (Model vs Observed)\n\n\nTransit ridership between v8.3.1 and v8.3.1 were compared at the trips, boardings, and mode share levels. Figure 6 and Figure 7 show a comparison of daily transit ridership and boardings for both the v8.3.2 and the v8.3.1 models. The v8.3.1 and v8.3.2 model transit was calibrated to the UTA On-Board Survey for 2015 and 2019, respectively, so the ridership for each of those models falls right on the OBS target. The boardings for the model are estimated but are close to average annual boardings as reported by UTA. Boardings between 2015 and 2019 have been relatively flat. The increase to 2050 is based on increased transit attractiveness and more supportive land use as built into the model.\n\n\n\nFigure 6: Daily Transit Ridership - All Modes.\n\n\n\n\n\nFigure 7: Daily Boardings - All Modes.\n\n\nShare by transit mode is shown in Figure 8 and Figure 9 for v8.3.2 and v8.3.1, respectively. In v8.3.2, Core Bus routes (Mode 5) show a greater portion of trips in v8.3.2 than in v8.3.1. These additional trips come mostly from Light Rail, which actually sees a decrease in mode share in 2030. Commuter Rail shares remain relatively consistent, as well as BRT.\n\n\n\nFigure 8: Share by Transit Mode – v8.3.2.\n\n\n\n\n\nFigure 9: Share by Transit Mode – v8.3.1.\n\n\nEven though the transit ridership forecasts are lower by 23% in v8.3.2 compared to v8.3.1, the 2019 to 2050 ratios for each model are similar with 2.0 in v8.3.2 and 2.2 in v8.3.1.\n\n\n\nFigure 10: Comparison of 2019 and 2050 ratios.\n\n\nAs mentioned in a previous section, county-level adjustments were made in Davis and Utah counties to help better align station boardings in the model with observed. The comparison of the models with observed is shown in Figure 11. Due to these adjustments, there is a slight increase in Utah County boardings. However, Provo Station decreased slightly to just over half of what is observed. Davis County boardings proved to be more sensitive to the adjustment and a significant decrease is shown but still higher than observed boardings.\n\n\n\nFigure 11: 2019 Daily FrontRunner Boardings by Station Compared to Observed."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html",
    "title": "Input Data",
    "section": "",
    "text": "Speed factor changes were made to the following locations:\n\nUS-89 North Davis County SFAC_BASE adjusted to 0.82\nLegacy Pkwy South of Parrish SFAC_BASE and SFAC_FUT set to 0.95\nUniversity Avenue from 300 South to 700 N SFAC_BASE and SFAC_FUT set to 0.85\nFreedom Boulevard from 300 South to 500 N SFAC_BASE and SFAC_FUT set to 0.85\nProvo Center Street from 500 West to University Ave SFAC_BASE and SFAC_FUT set to 0.60\n\nCapacity factors changes were made to the following locations:\n\nProvo Center Street from 500 West to University Ave CFAC_BASE and CFAC_FUT set to 0.85\n\n\n\nThe highway network was updated in the MAG and WFRC areas to reflect the third round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. Figure 1 shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.\n\n\n\nFigure 1: Lane Change between 2019 and 2050 for Model v8.3.2 2022-02-04.\n\n\n\n\n\nThe speed of rail transit is coded onto rail-only links within the master highway network. Transit speed for LRT were updated to reflect 2019 operations. Most of the speed changes were less than 5 mph. Figure 2 shows where light rail speeds were changed.\n\n\n\nFigure 2: Change in Transit Speeds for LRT in Salt Lake County. Green: Increase in Speeds — Red: Decrease in Speeds.\n\n\ntbl-lrt-speed shows the resulting average speeds along entire light rail routes. The net effect of the update was generally lower speeds, with the TRAX-Blue line and the S-Line having the largest drops in speed with a drop of 8.2% and 14.5%, respectively.\n\n\nCode\nfrom IPython.display import Markdown\nfrom tabulate import tabulate\ntable = [[\"TRAX-Blue\" ,'24.4','22.4','-2.0','-8.2% '],\n         [\"TRAX-Green\",'19.2','18.6','-0.6','-3.1% '],\n         [\"TRAX-Red\"  ,'24.4','23.6','-0.8','-3.3% '],\n         [\"S-Line\"    ,'13.8','11.8','-2.0','-14.5%']]\nMarkdown(tabulate(\n  table, \n  headers=[\"Route\",\"Before Updates\", \"After Updates\", \"Difference\", \"% Difference\"]\n))\n\n\n\n\nTable 1: Average Travel Speed (MPH) by Route for LRT\n\n\nRoute\nBefore Updates\nAfter Updates\nDifference\n% Difference\n\n\n\n\nTRAX-Blue\n24.4\n22.4\n-2\n-8.2%\n\n\nTRAX-Green\n19.2\n18.6\n-0.6\n-3.1%\n\n\nTRAX-Red\n24.4\n23.6\n-0.8\n-3.3%\n\n\nS-Line\n13.8\n11.8\n-2\n-14.5%\n\n\n\n\n\n\nAdditional changes include the following:\n\nFrontRunner speeds were adjusted to match the 2019 schedule\nSeveral SEGID changes to match UDOT 2019 Segment shapefile\nCorrected I-15 SB to include lane drop north of Lehi 2100 North interchange and lane add south of interchange to match constructefacility\nUpdated GIS link & node shapefiles"
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#highway-network",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#highway-network",
    "title": "Input Data",
    "section": "",
    "text": "Speed factor changes were made to the following locations:\n\nUS-89 North Davis County SFAC_BASE adjusted to 0.82\nLegacy Pkwy South of Parrish SFAC_BASE and SFAC_FUT set to 0.95\nUniversity Avenue from 300 South to 700 N SFAC_BASE and SFAC_FUT set to 0.85\nFreedom Boulevard from 300 South to 500 N SFAC_BASE and SFAC_FUT set to 0.85\nProvo Center Street from 500 West to University Ave SFAC_BASE and SFAC_FUT set to 0.60\n\nCapacity factors changes were made to the following locations:\n\nProvo Center Street from 500 West to University Ave CFAC_BASE and CFAC_FUT set to 0.85\n\n\n\nThe highway network was updated in the MAG and WFRC areas to reflect the third round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. Figure 1 shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.\n\n\n\nFigure 1: Lane Change between 2019 and 2050 for Model v8.3.2 2022-02-04.\n\n\n\n\n\nThe speed of rail transit is coded onto rail-only links within the master highway network. Transit speed for LRT were updated to reflect 2019 operations. Most of the speed changes were less than 5 mph. Figure 2 shows where light rail speeds were changed.\n\n\n\nFigure 2: Change in Transit Speeds for LRT in Salt Lake County. Green: Increase in Speeds — Red: Decrease in Speeds.\n\n\ntbl-lrt-speed shows the resulting average speeds along entire light rail routes. The net effect of the update was generally lower speeds, with the TRAX-Blue line and the S-Line having the largest drops in speed with a drop of 8.2% and 14.5%, respectively.\n\n\nCode\nfrom IPython.display import Markdown\nfrom tabulate import tabulate\ntable = [[\"TRAX-Blue\" ,'24.4','22.4','-2.0','-8.2% '],\n         [\"TRAX-Green\",'19.2','18.6','-0.6','-3.1% '],\n         [\"TRAX-Red\"  ,'24.4','23.6','-0.8','-3.3% '],\n         [\"S-Line\"    ,'13.8','11.8','-2.0','-14.5%']]\nMarkdown(tabulate(\n  table, \n  headers=[\"Route\",\"Before Updates\", \"After Updates\", \"Difference\", \"% Difference\"]\n))\n\n\n\n\nTable 1: Average Travel Speed (MPH) by Route for LRT\n\n\nRoute\nBefore Updates\nAfter Updates\nDifference\n% Difference\n\n\n\n\nTRAX-Blue\n24.4\n22.4\n-2\n-8.2%\n\n\nTRAX-Green\n19.2\n18.6\n-0.6\n-3.1%\n\n\nTRAX-Red\n24.4\n23.6\n-0.8\n-3.3%\n\n\nS-Line\n13.8\n11.8\n-2\n-14.5%\n\n\n\n\n\n\nAdditional changes include the following:\n\nFrontRunner speeds were adjusted to match the 2019 schedule\nSeveral SEGID changes to match UDOT 2019 Segment shapefile\nCorrected I-15 SB to include lane drop north of Lehi 2100 North interchange and lane add south of interchange to match constructefacility\nUpdated GIS link & node shapefiles"
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#transit-network",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#transit-network",
    "title": "Input Data",
    "section": "Transit Network",
    "text": "Transit Network\n\nHand-Coded Walk-Access Links\nHand-coded walk-access links are an additional input for transit beyond the automatically generated walk-access links. Auto-generated walk-access links are created between zone centroids and transit stops within a certain distance as defined by area of the zone, as long as they do not cross barriers as defined by functional type. Hand-coded walk-access links are user-defined, supplemental walk access where an auto-generated link would not be created or where walk access is more attractive than the TAZ structure and auto-generated links would suggest.\nThe update process removed a majority of the general hand-coded walk access links, reducing the number from 234 to 31 links. Areas that retained or added hand-coded links include SLC International Airport, Hill Air Force Base, University of Utah, and Utah Valley University. Figure 3 shows hand-coded walk-access links before and after the updates.\n\n\n\nFigure 3: Hand-Coded Walk Access Links.\n\n\n\n\nPark-And-Ride\nPark-and-Ride lots are coded onto nodes within the master highway network and are defined by what transit mode they service. To be used by the travel model, park-and-ride nodes need to be coded at nodes that serve as rail or bus stops. Figure 4 (a) shows what changes were made to park-and-ride lots, which include 17 additional locations, 49 removed locations, and 14 locations that were modified by changing the mode they service. Most of the park-and-ride lots removals were due to redundancy on highway nodes adjacent to another park-and-ride lot at a rail node. The park-and-ride lots additions mostly included new lots along express bus routes. The resulting park-and-ride lot locations, including ones that were not edited, are shown in Figure 4 (b).\n\n\n\n\n\n\n\n(a) Park-And-Ride Lot Changes\n\n\n\n\n\n\n\n(b) Park-And-Ride Lots After Updates\n\n\n\n\nFigure 4: Park-And-Ride Lots. Red: Removed — Green: Added — Blue: Modified\n\n\n\n\nTransit Line Changes\nTransit line files were updated based on actual 2019 route configuration. Transit line files include route alignments, stop locations, and peak/off-peak headway designation. Additionally, 2024, 2030, 2040, 2050, 2030UF, 2040UF, 2050UF transit was updated to reflect 2019 input changes.\nA general edit that was made to all lines that connect directly to rail was the removal of bus stops on a roadway node directly adjacent to a stop at a rail node. Only the rail node stop remains. Due to the amount of lines affected by this change, they are not listed individually in the line details below. There were also a couple of highway network edits made in relation to transit line changes:\n\nAt the Blue Line end-of-line in Draper, the centroid connector for the rail station connection to the highway network moved offintersection of Pioneer Road / 1300 East intersection and connected directly to Pioneer Drive.\nA connection between 24th Street and Wall Avenue in Ogden was added to represent the existing connection on each side of theviaduct. The associated transit-only link was removed.\n\nThe line file changes are shown in the lists below, arranged by file and route name. Only lines that have changes, other than those listed above, are included.\nmag_brt_2019.lin\n\nBRT_ProOrm:\n\nstops removed:\n\n24779 - Geneva Road\n26400 - 900 E/Campus Ln\n26487 - 750 S/100 W\n\nStops moved:\n\n22881 to 26206 (from intersection of University Pkwy/900 E to the west)\n25972 to 23019 (moved further west to intersection of 400 E/700 N)\n23069 to 26203 (moved further north off of intersection of 200 N/Univ Ave)\n23066 to 26202 (moved further south off of intersection of 300 S/Univ Ave)\n26184 to 26192 (moved off University Ave and onto Town Centre Blvd)\n23160 to 24332 (moved west of intersection East Bay Blvd/1860 S)\n\nAlignment changed: Off of University Avenue between 920 S and Town Centre Drive and onto Town Centre Blvd\n\n\nmag_exp_2019.lin\n\nM807_NoCnty: Many stops removed. Realignment changed at each end of route. Reverse direction removed.\nM806_EglMtn: Headway changed from 30/0 to 45/0. Many stops removed. Realignment changed at Eagle Mtn end-of-line and to stay on freeway through American Fork. Reverse direction removed.\n\nmag_lcl_2019.lin\n\nM805_Santaquin: Headway 1/2 changed from 30/0 to 45/60. Stop added: 23552 (Santaquin end of line moved one node to west). Three stops removed in SF, only 25321 remains. Three stops removed in Provo: 26487, 26488, 23152.\nM809_AM-PG: Changed from two-way route to one-way route. Stops removed: 24769, 22358, 24162, 25729, 22389, 25727, 25513, 22514, 22390, 25726, 22392, 22394. Stops added: 24189, 22395.\nM821_Psn: Various stops removed.\nM822_Psn: Various stops removed.\nM831_WPr: Alignment changed around UVU. Various stops removed.\nM833_CntrPr: Various stops removals.\nM834_EstPr: Alignment changed at Univ Pkwy/2230 N. Various stops removed.\nM841_UVU: UVU main campus end-of-line moved one further node to 26601. Various stops removed.\nM850_StateStreet: Alignment Changed: Ashton Blvd & 2100 N, PG downtown, which required addition of reverse direction and change to one-way route due to one-way links. Various stops removals.\nM862_Orem: Alignment changed around UVU to use campus circulator roadway. Various stops removed.\nM864_Thanksgiving Point: Various stops removed.\nM871_SLtoUtahCnty: Northern end-of-line alignment changed to match updated highway network connection to Blue Line Draper Station.\n\nrail_2019.lin\n\nOGPNShuttle: Route removed, since service to Pleasant View discontinued in 2015.\n\nwfrc_og_lcl_2019.lin\n\nO601: Connection to Wall Avenue was removed from transit-only link and put on new highway network connection.\nO603: Southern end-of-line moved to McKay Dee Hospital.\nO606: Northern end-of-line moved from Harrison Blvd to Monroe Blvd.\nO608: Northern end-of-line moved from Harrison Blvd to Monroe Blvd.\nO628: Southern end-of-line extended to match southern circulation around Layton IHC.\nO630: Southern end-of-line moved from Weber State University to Ogden FrontRunner Station.\nO645: Northern end-of-line extended to US-89.\nOF618: Headway2 changed from 30 to 60.\nS470: Connection to Clearfield Station CRT added.\nS455: One stop removed in University of Utah area.\n\nwfrc_sl_exp_2019.lin\n\nS2X: Changed to two-way route. Two stops removed on 200 South near Gateway. Two stops added in University of Utah area.\nS307X: Headway 1 changed from 30 to 47.\nS313X: Alignment through Fort Union area changed.\nS354X: Extended north end-of-line to Red Line station.\nS451X: Reverse direction removed.\nS454: Stop added at Green Line airport stop. Some stops along Green Line and North Temple moved to rail stop locations.\nS456: Stop added at Farmington Station CRT. Some stops along Green Line and North Temple moved to rail stop locations.\nS471: Alignment through Bountiful modified.\nS473X: Extended southern end-of-line further to Research Park.\nS902: Headway changed from 15/0 to 60/90. Some stops added.\n\nwfrc_sl_lcl_2019.lin\n\nD461: Some stop in Woods Cross Station CRT area removed.\nS11: Eastern end-of-line shortened to stop at University of Utah Medical Center and not Red Line.\nS201: Southern end-of-line extended to South Jordan Station CRT.\nS217: Alignment changed near green line (N Temple), route removed from 2200 West.\nS218: S218 - changed ONEWAY=F to become two-way route\nS240: Alignment changed at Pieper Blvd.\nS41: West end-of-line extended one node down 5600 West.\nS463: Connection to Wood Cross Station CRT.\nS509: Alignment changed around SR-201.\nS519/520 - added ONEWAY=F to explicitly define two-way route\nS526: Headway changed from 40/40 to 60/0.\nS551: Headway 1 changed from 30 to 40. Some stops along Green Line and North Temple moved to rail stop locations.\nSF453: Eastern EOL brought to rail node 20053.\nSF514: Stop added at SoJo Station CRT.\nSF546: Connection added to Draper Town Center Station CRT.\nSF94: Eastern end-of-line extended one more node to east."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#segments-and-factors",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#segments-and-factors",
    "title": "Input Data",
    "section": "Segments and Factors",
    "text": "Segments and Factors\nThe Master Segments shapefile was updated with the following changes:\n\nDay-of-week, season, and month factors were updated using 2015-2019 data from UDOT Continuous Count Stations (CCS). To be consistent with the UDOT AADT process, any year of data without a full week of data from each month was excluded from the factor creation.\nCreated single grouping of CCS for all factors (previously weekday and month/season factors were based on separate groupings).\nChanged average weekday factor (FAC_WDAVG) to represent Tuesday through Thursday (previously Monday through Thursday).\nChanged average and max weekend factors (FAC_WEAVG, FAC_WEMAX) to represent Saturday and Sunday (previously Friday through Sunday)."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#other-changes",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#other-changes",
    "title": "Input Data",
    "section": "Other Changes",
    "text": "Other Changes\nThe following were additional changes made to the model:\n\nAn additional districting grouping (‘DISTSUPER’ and ‘DSUP_NAME’) was added to the TAZ shapefile using definitions from UDOT’s recent work on the long distance model.\nThe toll zone shapefile was also modified to correct a few instances where the HOT lane links were crossing into the opposing direction HOT zone.\nThe ‘1_Inputs\\0_GlobalData\\UbanizationMap’ folder name was changed to ‘1_Inputs\\0_GlobalData\\ArcMap_mxd. The’_Urbanization_ArcMap103.mxd’ file was saved as ArcMap version 10.3 and the ArcMap version was added to the filename\nThe TDM script ’_CreateOutputFolders.s’ in ‘3_CreateScenarios’ folder was modified to account for the changed folder and file names for the urbanization.mxd."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html",
    "href": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html",
    "title": "Input Processing",
    "section": "",
    "text": "A couple bugs were corrected in the input processing script:\n\nCorrected inbound/outbound designations for EB/WB links.\nRemoved FT=37-38 as a condition for populating link additional HOV capacity (AdHOVCap1H) values since related HOV fields are populated on GP links not HOV links. Also, corrected capacity lookup to be for FT=37 and not FT of link.\n\n\n\n\nThe walk buffer script was improved with a couple simple modifications to the routes and stops that are included in walk buffer creation: - Removed local bus route buffers along expressways and freeways (anything with FT&gt;=12). Only local bus routes along arterials or collectors are now included in route buffers. - Removed buffers that were calculated from local bus stops, which were redundant with local bus route buffers. - The remaining combined walk buffer areas are shown in green. The ’_WalkBuffer_ArcMap103.mxd’ file was updated to version 10.3 of ArcMap, and the scripts were modified to copy the walk buffer mxd to scenario folders.\n\n\n\nFigure 1: Walk Buffer Modifications."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#inboundoutbound-and-hov-capacity",
    "href": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#inboundoutbound-and-hov-capacity",
    "title": "Input Processing",
    "section": "",
    "text": "A couple bugs were corrected in the input processing script:\n\nCorrected inbound/outbound designations for EB/WB links.\nRemoved FT=37-38 as a condition for populating link additional HOV capacity (AdHOVCap1H) values since related HOV fields are populated on GP links not HOV links. Also, corrected capacity lookup to be for FT=37 and not FT of link."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#walk-buffer-modifications",
    "href": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#walk-buffer-modifications",
    "title": "Input Processing",
    "section": "",
    "text": "The walk buffer script was improved with a couple simple modifications to the routes and stops that are included in walk buffer creation: - Removed local bus route buffers along expressways and freeways (anything with FT&gt;=12). Only local bus routes along arterials or collectors are now included in route buffers. - Removed buffers that were calculated from local bus stops, which were redundant with local bus route buffers. - The remaining combined walk buffer areas are shown in green. The ’_WalkBuffer_ArcMap103.mxd’ file was updated to version 10.3 of ArcMap, and the scripts were modified to copy the walk buffer mxd to scenario folders.\n\n\n\nFigure 1: Walk Buffer Modifications."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/4-hhdisag.html",
    "href": "v8x/v832/whats-new/2021-11-10/4-hhdisag.html",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "Household Disaggregation and Auto Ownership\nSeveral changes were made to clean up and fix minor errors in the household disaggregation and auto ownership scripts:\n\nAdded Box Elder Vehicles to the totals calculated for the ‘VO_Tmp_CountyVehicleTotal.txt’ file in the ‘3_AutoOwnership.s’ file.\nCorrected VO_DebugUtility.csv header row in ‘3_AutoOwnership.s’ to keep it from repeating. Commented out debug csv creation.\nCorrected AVGINCOME in ‘Tmp_Marginal_Income_beforeIPF.dbf’.\nCommented out ‘test.csv’ creation in ‘2_ModelScripts\\1_HHDisag_AutoOwn\\1_LifeCycle.s’.\nCorrected CO_TAZID in ‘LifeCycle_Households_Population.dbf’ in ‘2_ModelScripts\\1_HHDisag_AutoOwn\\1_LifeCycle.s’.\nUpdated ‘Lookup - BYTAZAgePct - AllCo.csv’ and source materials (’_TAZ_AgePct_Lookup_Source - 2020-06-23.xlsb’) in ‘1_Inputs\\0_GlobalData\\1_HHDisag_AutoOwn’. This update reflects the updated source materials structure in the statewide spreadsheet and updated data for Summit/Wasatch counties and UDOT area. The Wasatch Front area data did not change."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/5-tripgen.html",
    "href": "v8x/v832/whats-new/2021-11-10/5-tripgen.html",
    "title": "Trip Generation",
    "section": "",
    "text": "Trip Generation\nSeveral changes were made in the trip generation scripts:\n\nAdded factors to reduce special generation attractiveness to Temple Square, SLC Library, and many colleges.\nAdded Large District calibration factors.\nAdjusted short-haul truck light/medium/heavy trip production rates.\nUpdated county-level adjustments to short-haul truck medium/heavy productions and attractions.\nTruck speed factors are now applied to all facility types, previously they applied only to freeway."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/6-distribution.html",
    "href": "v8x/v832/whats-new/2021-11-10/6-distribution.html",
    "title": "Distribution",
    "section": "",
    "text": "Distribution\nThe following changes were made in the distribution scripts:\n\nFriction factors, which were previously calibrated to the county level, were recalibrated at the large district level.\nTruck speed factors are now applied to all facility types, where previously they applied only to freeway."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/7-mc.html",
    "href": "v8x/v832/whats-new/2021-11-10/7-mc.html",
    "title": "Mode Choice",
    "section": "",
    "text": "Mode Choice\nMode choice was recalibrated to match target values from UTA 2019 On-Board Survey.\nThe following changes were made in the transit .FAC files in PT_Parameter Folder and associated voyager script in mode choice:\n\nDecreased WAITFACTOR to 2.0 (previously 3.0).\nChanged mode-specific weight applied to transit in-vehicle times and non-transit leg times (Relative mode factor to the skimmed specific mode) for express bus to 3.50.\nChanged the following to fine-tune boardings by mode (to increase for LCL, and decrease for other modes).\nAdded initial boarding penalty for local bus of 5 minutes.\nIncreased transit transfer boarding penalty to 12 minutes for all modes but walk to local which was set at 6 minutes (previously 10 minutes for all modes).\n\nAdditional changes were made to mode choice:\n\nCombined Mode Choice scripts 11 and 12 into ‘11_12_MC_HBW_HBO_NHB_HBC.s’ to allow simultaneous running on eight cores.\nBRT Mode 9 constants were calibrated independently of LRT. However, BRT Mode 5 continues to use a multiplier of the LRT constant and was increased to 0.40 from 0.33.\nAdjustments were made to FrontRunner to bring station boardings closer to observed. Davis County boardings were significantly higher than observed, while Utah County boardings were significantly lower. A +15 multiplier of initial in-vehicle time penalty was added to all stations in Davis County, while -15 multiplier of in-vehicle time was added to all stations in Utah County. This brought boardings closer to observed, but there is still significant difference in boardings that should be accounted for when using the model for any station-level forecasts. A comparison of station model and observed volumes is found in the final section of this document comparing v8.3.2 to v8.3.1."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/8-assign.html",
    "href": "v8x/v832/whats-new/2021-11-10/8-assign.html",
    "title": "Highway Assignment",
    "section": "",
    "text": "Highway Assignment\nThe fowllowing changes were made in highway assignment scripts:\n\nSegment summary processing script was updated to include truck volumes in detailed output.\nIn harmony with the changes in distribution, truck speed factors are now applied to all facility types, were previously they applied only to freeway.\n\nAccess-to-Opportunity (ATO) scripts were moved to the Assignment folder. The following edits were made to the ATO script:\n\nMade output field names more descriptive.\nChanged output format from dbf to csv.\nAdded Free Flow auto time and straight-line time (based on auto free flow) ATO calculations/output\nUpdated script to get the ATO weights from empirical HBW distance decay curve from Household Travel Survey as a look up table rather than calculate from a step function."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/9-pp.html",
    "href": "v8x/v832/whats-new/2021-11-10/9-pp.html",
    "title": "Post Processing",
    "section": "",
    "text": "Post Processing\nThe TDM2MOVES folder was removed."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/references.html",
    "href": "v8x/v832/whats-new/2021-11-10/references.html",
    "title": "References",
    "section": "",
    "text": "References"
  },
  {
    "objectID": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html",
    "href": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html",
    "title": "2022-02-04 Update",
    "section": "",
    "text": "This first part of this document contains a quick comparison between the 2022-02-04 version of the model and the 2021-11-10 version of the model.\n\n\nThe following changes were made the Distribution and Final Assignment scripts of the model\n\nChanged truck penalty from speed factor to a speed reduction penalty\n\nUpdated toll calculations:\nUpdate COST function\n\nUpdate TC function\nGeneral model cleanup\n\nAdditionally the Scenario Folder was updated with updated default ControlCenter.block files, a rolled date of model version, Fixed Cluster START & STARTHIDE typo, and added ‘blank folder setup’ folder.\n\n\n\nFigure 1 and Figure 2 contain a daily total volume comparison and a daily truck volume comparison. Daily total volumes are very similar between the two models. There is a slight shift of volume off of I-15 and onto parallel corridors. The largest volume shifts in 2050 are between I-215 and Bangerter Highway. Figure 1 shows one-way volumes.\n\n\n\nFigure 1: Daily Total Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10.\n\n\nDaily truck volumes show more differences with volumes dropping between the two models. The drop in volumes is less than a 1,500 trucks per day on freeways but is widespread throughout the region. Figure 2 shows one-way volumes.\n\n\n\nFigure 2: Daily Truck Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10."
  },
  {
    "objectID": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#changes",
    "href": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#changes",
    "title": "2022-02-04 Update",
    "section": "",
    "text": "The following changes were made the Distribution and Final Assignment scripts of the model\n\nChanged truck penalty from speed factor to a speed reduction penalty\n\nUpdated toll calculations:\nUpdate COST function\n\nUpdate TC function\nGeneral model cleanup\n\nAdditionally the Scenario Folder was updated with updated default ControlCenter.block files, a rolled date of model version, Fixed Cluster START & STARTHIDE typo, and added ‘blank folder setup’ folder."
  },
  {
    "objectID": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#model-results",
    "href": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#model-results",
    "title": "2022-02-04 Update",
    "section": "",
    "text": "Figure 1 and Figure 2 contain a daily total volume comparison and a daily truck volume comparison. Daily total volumes are very similar between the two models. There is a slight shift of volume off of I-15 and onto parallel corridors. The largest volume shifts in 2050 are between I-215 and Bangerter Highway. Figure 1 shows one-way volumes.\n\n\n\nFigure 1: Daily Total Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10.\n\n\nDaily truck volumes show more differences with volumes dropping between the two models. The drop in volumes is less than a 1,500 trucks per day on freeways but is widespread throughout the region. Figure 2 shows one-way volumes.\n\n\n\nFigure 2: Daily Truck Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10."
  },
  {
    "objectID": "v9x/v900/index.html",
    "href": "v9x/v900/index.html",
    "title": "Preface",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model Version 9.0. The documentation includes the following reports:\n\nWhat’s New Document\nModel Validation Report\nModel Process Report (still in development)\n\n\nFor access to this version of the TDM visit please contact the following persons:\n\nSuzie Swim (WFRC): sswim@wfrc.org\nMatt DeLora (MAG): mdelora@magutah.org"
  },
  {
    "objectID": "v9x/v900/model-process/1-hhdisag-autoown.html",
    "href": "v9x/v900/model-process/1-hhdisag-autoown.html",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "The Life Cycle model determines the how much of the TAZ population and households from the processed socioeconomic input file will be in one of three life cycle categories:\n\nLife Cycle 1 – households with no children and no seniors\nLife Cycle 2 – households with children and no seniors\nLife Cycle 3 – households with seniors (may have children)\n\nThe Life Cycle model does its calculations in three phases:\n\nDetermine the TAZ population that is in three age groups\nDetermine each age group population that is in the three life cycle categories\nDetermine the number of households in each life cycle category\n\n\n\nThe Life Cycle model first estimates how much of the TAZ population falls into one of three Age Group categories:\n\nAge Group 1 – 0 to 17 years old\nAge Group 2 – 18 to 64 years old\nAge Group 3 – 65+ years old\n\nThe initial share of the TAZ population in each Age Group is determined by multiplying the TAZ household population by the TAZ-level Age Group percentages in the Lookup - BYTAZAgePct - AllCo.csv file located in the \n1_Inputs\\\\0_GlobalData\\\\1_HHDisag_AutoOwn directory. These initial TAZ-level Age Group percentages were calculated from 2020 Census block and 2020 ACS block group data summarized at the TAZ level.\nThe Census data was also summarized at the medium district level. If the Census TAZ data had fewer than 50 people, the percentages from medium districts were used. The medium district distribution of 2020 Census Age Group percentages for the Wasatch Front can be seen in Figure 1. The share of population in each of the Age Groups varies significantly by geography. Urban areas tend to have the highest share of population 18-64 years old and the fewest children and seniors. Suburban and rural areas tend to have the highest share of children.\n\n\n\n\n                                                \nFigure 1: 2020 Census % Population by Age Group by Medium District.\n\n\n\nThe initial TAZ-based population by Age Group is then factored to reflect the year being modeled. This is done using the county population by Age Group forecasts found in ControlTotal_Age.csv located in 1_Inputs\\\\2_SEData\\\\_ControlTotals directory. The Age Group county-level percentages are calculated from county-level population projections from the Kem C. Gardner Policy Institute (GPI), 2020-2060 State and County Total Population by Sex and Single-Year of Age. The GPI projections show a trend in all counties in the Wasatch Front model space toward a more senior population and fewer children. Adult population in the age range of 18-64 also saw a slight increase in population share.\n\n\n\n\n                                                \nFigure 2: GPI County Population Projections by Age Group for Wasatch Front Counties.\n\n\n\n\n\n\nThe Life Cycle model uses parameters estimated from the 2012 Household Survey to convert population in Age Groups to population in a Life Cycle category. Unique parameters were estimated for each county and are found in Table 1.\n\n\n\n\n\n\n\n\n\nTable 1: Percent of Age Group Population in Life Cycle 2 by County\n\n\n\n\n\n\n\nCounty\n0-17 Population Age Group (LC2 Fac 0-17)\n18-64 Population Age Group (LC2 Fac 18-64)\n\n\n\n\nBox Elder\n0.993\n0.664\n\n\nWeber\n0.982\n0.606\n\n\nDavis\n0.974\n0.711\n\n\nSalt Lake\n0.961\n0.525\n\n\nUtah\n0.981\n0.659\n\n\n\n\n\n\n\n\nOnly factors for Life Cycle 2 were estimated. Life Cycle 1 has no children leaving the 0-17 population to be divided between Life Cycles 2 and 3. Life Cycle 3 has no adults age 18-64 leaving the 18-64 population to be divided between Life Cycles 1 and 2. All of 65+ population lies completely within Life Cycle 3. Table 2 contains the equations used to calculate Life Cycle population.\n\n\n\n\n\n\n\n\n\nTable 2: Equations to Calculate Age Group Population in Each Life Cycle Category\n\n\n\n\n\n\n\n\nAge Group\nLife Cycle 1\nLife Cycle 2\nLife Cycle 3\n\n\n\n\n0-17\n0\nLC2 Fac 0-17\n1 – (LC2 Fac 0-17)\n\n\n18-64\n1 – (LC2 Fac 18-64)\nLC2 Fac 18-64\n0\n\n\n65+\n0\n0\n1\n\n\n\n\n\n\n\n\nAlmost all of the child-aged population is contained within Life Cycle 2, ranging between 96.1% in Salt Lake County and 99.3% in Box Elder County. The remaining child population is in Life Cycle 3. The majority of the adult-not-a-senior population is contained in Life Cycle category 2, ranging between 52.5% in Salt Lake County and 71.1% in Davis County, with the remainder falling into Life Cycle 1.\n\n\n\nThe Life Cycle model calculates households by Life Cycle using the average household size for each Life Cycle category. Unique average household sizes were estimated for each county and Life Cycle from the 2012 Household Survey.\n\n\n\n\n\n\n\n\n\nTable 3: Average Household Size by Life Cycle and County\n\n\n\n\n\n\n\n\nCounty\nHousehold Size for Life Cycle 1\nHousehold Size for Life Cycle 2\nHousehold Size for Life Cycle 3\n\n\n\n\nBox Elder\n1.86\n4.21\n2.41\n\n\nWeber\n1.88\n4.53\n1.81\n\n\nDavis\n2.14\n4.68\n2.33\n\n\nSalt Lake\n1.86\n4.44\n1.81\n\n\nUtah\n2.11\n4.75\n2.21\n\n\n\n\n\n\n\n\nThe TAZ-level population by Life Cycle category are divided by the average household size factors to generate an estimate of the share of TAZ-level households in each Life Cycle category. The share of households in each Life Cycle category is then multiplied by the total households in the TAZ to get the adjusted number of households per Life Cycle category.\nA final check is made to avoid unrealistic household sizes for zones with smaller populations. The number of households for a given Life Cycle category are capped at the minimum and maximum household sizes found in Table 4.\n\n\n\n\n\n\n\n\n\nTable 4: Allowed Minimum and Maximum Average Household Size by Life Cycle\n\n\n\n\n\n\n\nLife Cycle Category\nMinimum Household Size\nMaximum Household Size\n\n\n\n\n1\n1\n4\n\n\n2\n2\n8\n\n\n3\n1\n4"
  },
  {
    "objectID": "v9x/v900/model-process/1-hhdisag-autoown.html#life-cycle",
    "href": "v9x/v900/model-process/1-hhdisag-autoown.html#life-cycle",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "The Life Cycle model determines the how much of the TAZ population and households from the processed socioeconomic input file will be in one of three life cycle categories:\n\nLife Cycle 1 – households with no children and no seniors\nLife Cycle 2 – households with children and no seniors\nLife Cycle 3 – households with seniors (may have children)\n\nThe Life Cycle model does its calculations in three phases:\n\nDetermine the TAZ population that is in three age groups\nDetermine each age group population that is in the three life cycle categories\nDetermine the number of households in each life cycle category\n\n\n\nThe Life Cycle model first estimates how much of the TAZ population falls into one of three Age Group categories:\n\nAge Group 1 – 0 to 17 years old\nAge Group 2 – 18 to 64 years old\nAge Group 3 – 65+ years old\n\nThe initial share of the TAZ population in each Age Group is determined by multiplying the TAZ household population by the TAZ-level Age Group percentages in the Lookup - BYTAZAgePct - AllCo.csv file located in the \n1_Inputs\\\\0_GlobalData\\\\1_HHDisag_AutoOwn directory. These initial TAZ-level Age Group percentages were calculated from 2020 Census block and 2020 ACS block group data summarized at the TAZ level.\nThe Census data was also summarized at the medium district level. If the Census TAZ data had fewer than 50 people, the percentages from medium districts were used. The medium district distribution of 2020 Census Age Group percentages for the Wasatch Front can be seen in Figure 1. The share of population in each of the Age Groups varies significantly by geography. Urban areas tend to have the highest share of population 18-64 years old and the fewest children and seniors. Suburban and rural areas tend to have the highest share of children.\n\n\n\n\n                                                \nFigure 1: 2020 Census % Population by Age Group by Medium District.\n\n\n\nThe initial TAZ-based population by Age Group is then factored to reflect the year being modeled. This is done using the county population by Age Group forecasts found in ControlTotal_Age.csv located in 1_Inputs\\\\2_SEData\\\\_ControlTotals directory. The Age Group county-level percentages are calculated from county-level population projections from the Kem C. Gardner Policy Institute (GPI), 2020-2060 State and County Total Population by Sex and Single-Year of Age. The GPI projections show a trend in all counties in the Wasatch Front model space toward a more senior population and fewer children. Adult population in the age range of 18-64 also saw a slight increase in population share.\n\n\n\n\n                                                \nFigure 2: GPI County Population Projections by Age Group for Wasatch Front Counties.\n\n\n\n\n\n\nThe Life Cycle model uses parameters estimated from the 2012 Household Survey to convert population in Age Groups to population in a Life Cycle category. Unique parameters were estimated for each county and are found in Table 1.\n\n\n\n\n\n\n\n\n\nTable 1: Percent of Age Group Population in Life Cycle 2 by County\n\n\n\n\n\n\n\nCounty\n0-17 Population Age Group (LC2 Fac 0-17)\n18-64 Population Age Group (LC2 Fac 18-64)\n\n\n\n\nBox Elder\n0.993\n0.664\n\n\nWeber\n0.982\n0.606\n\n\nDavis\n0.974\n0.711\n\n\nSalt Lake\n0.961\n0.525\n\n\nUtah\n0.981\n0.659\n\n\n\n\n\n\n\n\nOnly factors for Life Cycle 2 were estimated. Life Cycle 1 has no children leaving the 0-17 population to be divided between Life Cycles 2 and 3. Life Cycle 3 has no adults age 18-64 leaving the 18-64 population to be divided between Life Cycles 1 and 2. All of 65+ population lies completely within Life Cycle 3. Table 2 contains the equations used to calculate Life Cycle population.\n\n\n\n\n\n\n\n\n\nTable 2: Equations to Calculate Age Group Population in Each Life Cycle Category\n\n\n\n\n\n\n\n\nAge Group\nLife Cycle 1\nLife Cycle 2\nLife Cycle 3\n\n\n\n\n0-17\n0\nLC2 Fac 0-17\n1 – (LC2 Fac 0-17)\n\n\n18-64\n1 – (LC2 Fac 18-64)\nLC2 Fac 18-64\n0\n\n\n65+\n0\n0\n1\n\n\n\n\n\n\n\n\nAlmost all of the child-aged population is contained within Life Cycle 2, ranging between 96.1% in Salt Lake County and 99.3% in Box Elder County. The remaining child population is in Life Cycle 3. The majority of the adult-not-a-senior population is contained in Life Cycle category 2, ranging between 52.5% in Salt Lake County and 71.1% in Davis County, with the remainder falling into Life Cycle 1.\n\n\n\nThe Life Cycle model calculates households by Life Cycle using the average household size for each Life Cycle category. Unique average household sizes were estimated for each county and Life Cycle from the 2012 Household Survey.\n\n\n\n\n\n\n\n\n\nTable 3: Average Household Size by Life Cycle and County\n\n\n\n\n\n\n\n\nCounty\nHousehold Size for Life Cycle 1\nHousehold Size for Life Cycle 2\nHousehold Size for Life Cycle 3\n\n\n\n\nBox Elder\n1.86\n4.21\n2.41\n\n\nWeber\n1.88\n4.53\n1.81\n\n\nDavis\n2.14\n4.68\n2.33\n\n\nSalt Lake\n1.86\n4.44\n1.81\n\n\nUtah\n2.11\n4.75\n2.21\n\n\n\n\n\n\n\n\nThe TAZ-level population by Life Cycle category are divided by the average household size factors to generate an estimate of the share of TAZ-level households in each Life Cycle category. The share of households in each Life Cycle category is then multiplied by the total households in the TAZ to get the adjusted number of households per Life Cycle category.\nA final check is made to avoid unrealistic household sizes for zones with smaller populations. The number of households for a given Life Cycle category are capped at the minimum and maximum household sizes found in Table 4.\n\n\n\n\n\n\n\n\n\nTable 4: Allowed Minimum and Maximum Average Household Size by Life Cycle\n\n\n\n\n\n\n\nLife Cycle Category\nMinimum Household Size\nMaximum Household Size\n\n\n\n\n1\n1\n4\n\n\n2\n2\n8\n\n\n3\n1\n4"
  },
  {
    "objectID": "v9x/v900/model-process/1-hhdisag-autoown.html#household-disaggregation",
    "href": "v9x/v900/model-process/1-hhdisag-autoown.html#household-disaggregation",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Household Disaggregation",
    "text": "Household Disaggregation\nThe Household Disaggregation model classifies a TAZ’s households by:\n\nHousehold Size\nIncome\nNumber of Workers\n\nHousehold Disaggregation is done in three steps with each step adding another level of disaggregation: estimating the distribution of households by size group, further disaggregation by income group and income level, and further disaggregation by number of workers per household. This results in 96 groupings when using the four income groups or 48 groupings when using low/high income levels.\nFor disaggregation to household size groups, the following lookup files contain the distribution of households across the six household size groups according the average household size for the three life cycle categories: Lookup - HH Size_LC1.csv, Lookup - HH Size_LC2.csv, and Lookup - HH Size_LC3.csv. The distributions in these files are grouped by county. There is also a third lookup file that contains a regional distribution used for comparison purposes: Lookup - HH Size.csv. When computing income ratios, the regional median household income of $74,946 (2019 dollars) is used from the latest ACS.\nFurther disaggregation by income groups is done in multiple steps. First a target TAZ distribution by income is calculated using a county distribution found in Lookup - Income.csv. Then a Fratar/Furness balancing method is used to get the matrix distribution across income groups and household sizes. The matrix is initialized with the values found in Table 5, which is hard-coded into the 2_HHDisaggregation.s script with the source being the 2012 Household Survey. The balancing method is run through until convergence is reached at (0.0001) or a max of 15 iterations.\n\n\n\n\n\n\n\n\n\nTable 5: Initialization Seed Values for Household Size and income Group\n\n\n\n\n\n\n\n\n\nHousehold Size\nIncome Group 1 Seed\nIncome Group 2 Seed\nIncome Group 3 Seed\nIncome Gruop 4 Seed\n\n\n\n\n1\n0.591\n0.167\n0.21\n0.032\n\n\n2\n0.286\n0.155\n0.351\n0.208\n\n\n3\n0.253\n0.18\n0.351\n0.216\n\n\n4\n0.211\n0.151\n0.395\n0.243\n\n\n5\n0.154\n0.157\n0.46\n0.229\n\n\n6\n0.118\n0.122\n0.479\n0.281\n\n\n\n\n\n\n\n\nFinal disaggregation by worker is a simple distribution which is found in the Lookup – Worker.csv file. This file contains a distribution across the worker groups by each of the 24 combinations of the six household size groups and the four income groups. Households are then aggregated back to the two income levels (low/high).\n\nHousehold Size\nThe Household Disaggregation model estimates how many households are in six Household Size categories:\n\n1 person households\n2 person households\n3 person households\n4 person households\n5 person households\n6 or more person households\n\nThe model uses the TAZ’s average household size to look up the share of households in each of the six Household Size categories. This is done independently for each of the three Life Cycle categories estimated in the previous model step.\n???Is there newer data than the 2018 spreadsheet???\n2010 Census Block Group data was used to determine the initial relationship between average household size and the number of households in each size category. To increase sample size, all Block Groups in Utah were included. Draft curves were estimated from the data’s polynomial trendline as shown in Figure 3.\n\n\n\nFigure 3: 2010 Census Block Group Data - Household Size Share by Average Household Size.\n\n\nThe results from the equations derived from the Census data were adjusted to remove negative values and to smooth and scale the resulting curves. The sum of the individual curves at any given average household size is 1. Figure 4 shows the smoothed curves for household size share by average household size.\n\n\n\n\n                                                \nFigure 4: Household Size Share by Average Household Size – All Data\n\n\n\nThe 2012 Household Survey was used to estimate the share of households in each Household Size category by Life Cycle. The entire statewide database was used and aggregated to medium districts in order to obtain sufficient number of survey records in a group yet preserve a sufficient number of observations to estimate lookup curves by Life Cycle. The estimated Life Cycle curves were then used to weight the Household Size lookup curves derived from the Census data (termed “All Data” in Figure 5) to obtain Household Size lookup curves by Life Cycle.\n\n\n\nFigure 5: Comparison of Life Cycle and All Data Household Size Lookup Curves.\n\n\nThe Household Size lookup curves were then calibrated to county-level household size data from the 2010 Census as shown in Figure 6, Figure 7, and Figure 8. The county-level adjustments were done to tailor to the lookup curves to account for local variations.\n\n\n\nFigure 6: Comparison of Household Size Lookup Curves by County – Life Cycle 1.\n\n\n\n\n\nFigure 7: Comparison of Household Size Lookup Curves by County – Life Cycle 2.\n\n\n\n\n\nFigure 8: Comparison of Household Size Lookup Curves by County – Life Cycle 3.\n\n\n\n\nIncome\nThe Household Disaggregation model estimates what percentage of household size exist at each of the following income groups (income levels) in 2016 dollars:\n\n1: $0 to 35,000 (Low)\n2: $35,000 to 60,000 (High)\n3: $60,000 to 100,000 (High)\n4: $100,000 and above (High)\n\n2010 Census Block Group data was used to determine the initial relationship between income group and income ratio (ratio of the block group median income to the regional median income). To increase sample size, all Block Groups in Utah were included. Draft curves were estimated from the data’s polynomial trendline as shown in Figure 9.\n\n\n\nFigure 9: 2010 Census Block Group Data - Income Group Share by Income Ratio.\n\n\nThe results from the equations derived from the Census data were adjusted to remove negative values and to smooth and scale the resulting curves. The sum of the individual curves at any given income group is 1. Figure 10 shows the smoothed curves for income group share by income ratio.\n\n\n\nFigure 10: Income Group Share by Income Ratio – All Data.\n\n\nIn addition to calculating the income group share by income ratio, the percentage of household size by income group was also summarized using the 2010 Census Block Group Data. Figure 11 shows the breakdown of the household size income seed table values.\n\n\n\nFigure 11: Household Size by Income Group Seed Table.\n\n\n\n\nWorker\nThe Household Disaggregation model estimates what percentage of worker groups exist within each household size at each income group level. The worker groups are as follows:\n\nWorker Groups: 0, 1, 2, 3+ workers per household\n\n2010 Cesus Block Group data as well as the 2012 Household Travel Survey were used to estimate work groups into the percentages shown in Figure 12.\n???Was both HTS and BG data used???\n\n\n\nFigure 12: Worker Group by Household Size by Income Group (All Counties).\n\n\nAfter the initial summarization of the data, the worker group percentages were calibrated to the Wasatch Front area (See Figure 13). A worker group percentage lookup table was created to be used in the model.\n\n\n\nFigure 13: Calibrated Worker Group by Household Size by Income Group (Wasatch Front)."
  },
  {
    "objectID": "v9x/v900/model-process/1-hhdisag-autoown.html#auto-ownership",
    "href": "v9x/v900/model-process/1-hhdisag-autoown.html#auto-ownership",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Auto Ownership",
    "text": "Auto Ownership\nThe Auto Ownership model begins with the disaggregated households by TAZ and calculates how many vehicles each group owns. Households by vehicle ownership is grouped by 0, 1, 2, and 3+ vehicles. Auto ownership is based on utility functions for each combination of household size group, worker group, and income level (low/high). The utilities for each TAZ are then converted into probabilities. When the probabilities are multiplied by the associated number of households, then an auto ownership distribution by TAZ is created.\nThe utility functions for auto ownership contain a series of binary and linear variables. The binary variables are loop toggles that are set to 1 or 0 for household size groups, worker groups, and income levels. There are also two linear variables that are taken from TAZ attributes: population density of five nearest zones and employment within 30 minutes by transit. The coefficients for the utility function are shown in Table 6.\nThe code loops through the three groups to create utilities for each combination of binary variables for each TAZ. As can be seen in the table, for household size groups 5 and 6+, 3+ workers in a household, and high income, there are zero utility coefficients, which mean for combinations with these variables there is no utility. Additionally, the 3-vehicle utility is always set to 0 for every combination.\n\n\n\n\n\n\n\n\n\nTable 6: Coefficients for Vehicle Ownership Utility Functions\n\n\n\n\n\n\n\n\n\nVariable\n0-Vehicle Utility Function Coefficients\n1-Vehicle Utility Function Coefficients\n2-Vehicle\n3-Vehicle\n\n\n\n\nConstant\n-5.103\n-1.97\n0.15\n0\n\n\nHousehold Size of 1\n3.288\n2.953\n0.581\n0\n\n\nHousehold Size of 2\n0.277\n0.503\n0.42\n0\n\n\nHousehold Size of 3\n-0.277\n0.334\n-0.445\n0\n\n\nHousehold Size of 4\n0.039\n-0.952\n-0.809\n0\n\n\nHousehold Size of 5\n0\n0\n0\n0\n\n\nHousehold Size of 6+\n0\n0\n0\n0\n\n\n0 Worker in Household\n0.998\n0.514\n0\n0\n\n\n1 Workers in Household\n0\n0.552\n0.081\n0\n\n\n2 Workers in Household\n0\n0\n0.07\n0\n\n\n3+ Workers in Household\n0\n0\n0\n0\n\n\nLow Income (Group 1)\n2.733\n1.557\n0.538\n0\n\n\nHigh Income (Group 2-4)\n0\n0\n0\n0\n\n\nPopulation Density of 5 nearest Zones\n0.05159\n0.07346\n0.02366\n0\n\n\nEmployment within 30 minutes by transit\n1.99e-05\n8.342e-06\n0\n0\n\n\n\n\n\n\n\n\nUsing the utility values, probabilities for the vehicle ownership groups are calculated for each TAZ for each combination. The probability is the ratio of the exponential utility of each vehicle ownership group divided by the sum of the exponential utility of all three vehicle ownership groups for each combination. The vehicle ownership probabilities are multiplied by their associated household numbers as calculated in the household disaggregation script to get the number of households in each vehicle ownership group. Additionally, several aggregations are made to calculate total number of vehicles in different groupings. When calculating the number of vehicles in a 3+-vehicle group, the value of 3.5 number of vehicles per 3+ households is used."
  },
  {
    "objectID": "v9x/v900/model-process/2-tripgen.html",
    "href": "v9x/v900/model-process/2-tripgen.html",
    "title": "Trip Generation",
    "section": "",
    "text": "A trip is defined as the movement of a person between two locations for a given purpose. Each trip has two trip ends. Each trip end is associated within a TAZ. Trips are comprised of a both a production zone and an attraction zone. The production zone is where the trip was produced, typically a household for a home-based trip or a place of employment for a non-home-based trip. The attraction zone is the location that is attracting a trip, typically a place of employment or commercial activity. Productions and attractions are travel direction agnostic, meaning that a to-work trip and from-work trip would show as two productions in the home location TAZ and as two attractions in the work location TAZ.\nThe Trip Generation script calculates productions and attractions at the TAZ level. The trip ends are not paired in this step but remain distinctly separated, which is then used as input into the Trip Distribution model that pairs trip ends together. The script calculates productions and attractions per zone using trip generation rates and adjustments. All values produced by this script represent person trips, not vehicle trips. The trip generation rates are calculated from the household travel survey.\nRates are applied to individual TAZs based on the attributes of the TAZ as taken from the household disaggregation model, additional socioeconomic data, externals data, and special generator data (Temple Square, SLC Main Library, colleges, etc.). All rates in this script are expressed in terms of daily rates. Rates are averages and are only applicable at aggregate levels.\nThe goal of the script is to generate a set of productions and attractions for each TAZ for the following base trip purposes:\nAdditionally, the script estimates trip generation for the following for external trips:\nProductions and attractions are also generated for short-haul trucks based on people movement, goods movement, and services for the following truck types:\nGiven the various combinations of trip purposes and possible attributes, there are quite a few steps in the script. These steps can be grouped into the following three categories:\nFollowing a discussion of these three groups, there is a presentation of the validation results."
  },
  {
    "objectID": "v9x/v900/model-process/2-tripgen.html#estimate-productions",
    "href": "v9x/v900/model-process/2-tripgen.html#estimate-productions",
    "title": "Trip Generation",
    "section": "Estimate Productions",
    "text": "Estimate Productions\nProductions for each TAZ are estimated in the following steps:\n\nCalculate base productions\nCalculate internal-to-external productions and adjust base productions accordingly\nAdjust non-home-based trips to account for visitors\nCalculate productions for short haul truck trips\n\n\nBase Productions\nBase productions are generated based on TAZ household attributes including number of workers, household size, and life cycle. Work trips only utilize attributes based on number of workers. The other trip purposes use household size and life cycle. The associated production rates are shown in Table 1. As expected, the greater the number of workers or the larger the household size, the higher the rates for any given trip purpose. The highest trip rate is 10.703 for home-based other trips for households of size 6+ in life cycle 2.\nThe production rates are only estimated for combinations of TAZ variable and trip purpose that are valid. A household with no workers does not generate any work trips. Additionally, households in Life Cycle 1 would not generate any school trips by definition.\n\n\n\n\n\n\n\n\n\nTable 1: Production Rates by Trip Purpose.\n\n\n\n\n\n\n\n\n\n\n\nTAZ Variable\nHBW\nHBSch*\nHBShp\nHBOth\nNHBW\nNHBNW\n\n\n\n\nHouseholds with 0 Workers\n-\n-\n-\n-\n-\n-\n\n\nHouseholds with 1 Worker\n1.764\n-\n-\n-\n0.856\n-\n\n\nHouseholds with 2 Workers\n3.073\n-\n-\n-\n1.361\n-\n\n\nHouseholds with 3+ Workers\n4.698\n-\n-\n-\n1.781\n-\n\n\nHouseholds of Size 1 in Life Cycle 1\n-\n-\n0.443\n1.313\n-\n0.632\n\n\nHouseholds of Size 2 in Life Cycle 1\n-\n-\n0.706\n2.382\n-\n1.013\n\n\nHouseholds of Size 3 in Life Cycle 1\n-\n-\n0.757\n3.657\n-\n1.542\n\n\nHouseholds of Size 4 in Life Cycle 1\n-\n-\n1.088\n5.128\n-\n1.820\n\n\nHouseholds of Size 5 in Life Cycle 1\n-\n-\n1.548\n7.380\n-\n1.989\n\n\nHouseholds of Size 6+ in Life Cycle 1\n-\n-\n2.013\n9.643\n-\n2.159\n\n\nHouseholds of Size 1 in Life Cycle 2\n-\n-\n-\n-\n-\n-\n\n\nHouseholds of Size 2 in Life Cycle 2\n-\n0.530\n0.681\n2.508\n-\n1.499\n\n\nHouseholds of Size 3 in Life Cycle 2\n-\n0.675\n1.344\n4.437\n-\n1.738\n\n\nHouseholds of Size 4 in Life Cycle 2\n-\n1.117\n1.720\n6.115\n-\n2.618\n\n\nHouseholds of Size 5 in Life Cycle 2\n-\n2.473\n1.818\n8.310\n-\n3.282\n\n\nHouseholds of Size 6+ in Life Cycle 2\n-\n3.819\n1.916\n10.703\n-\n3.852\n\n\nHouseholds of Size 1 in Life Cycle 3\n-\n-\n0.561\n1.841\n-\n0.990\n\n\nHouseholds of Size 2 in Life Cycle 3\n-\n0.009\n1.149\n3.673\n-\n1.928\n\n\nHouseholds of Size 3 in Life Cycle 3\n-\n0.067\n1.272\n4.175\n-\n2.408\n\n\nHouseholds of Size 4 in Life Cycle 3\n-\n0.427\n1.404\n4.676\n-\n2.676\n\n\nHouseholds of Size 5 in Life Cycle 3\n-\n1.446\n1.683\n6.450\n-\n2.890\n\n\nHouseholds of Size 6+ in Life Cycle 3\n-\n2.865\n1.960\n8.958\n-\n2.997\n\n\n\n\n\n\n\n\nNote for Table 1: HBSch productions for each TAZ are divided into HBSch_Pr and HBSch_Sc based on their respective regional shares of total enrollment.\nTo calculate the total productions by trip purpose for each TAZ, the value of each variable is multiplied by the associated rate for that trip purpose and then summed over all the variables. Further division of Home-Based School trips into Primary and Secondary is done based on their respective regional shares of total enrollment. Productions for non-home-based trip purposes are further adjusted by the visitor adjustment factors in Table 2, which were taken from the 2012 Household Survey.\n\n\n\n\n\n\n\n\n\nTable 2: Visitor Adjustment Factors.\n\n\n\n\n\n\nTrip Purpose\nVisitor Adjustment Factor\n\n\n\n\nNHBW\n1.046\n\n\nNHBNW\n1.049\n\n\n\n\n\n\n\n\n\n\nExternal Trip Productions\nProductions for internal-to-external (IX) trips are estimated by the model since the production occurs within the model space. The IX productions are taken as a share from the base productions and reassigned to the IX category. Ultimately, IX trips are not separated by trip purpose. But for the estimation of IX trip productions, trips are separated into two general trip purposes: work and non-work trips. Work trips include HBW. Non-Work trips include all other purposes except for school trips, which are excluded from external trips.\nThe share of productions that are IX work/non-work trips is shown in Table 3. Typically shares of productions are in the 1% to 4% range for all counties except Box Elder, which ranges from 5% to 20% of all trip productions being IX trips.\n\n\n\n\n\n\n\n\n\nTable 3: Internal-to-External Shares (2012 HH Survey)\n\n\n\n\n\n\n\nCounty\nShare IX Work Productions\nShare IX Non-Work Productions\n\n\n\n\nBox Elder\n0.196\n0.052\n\n\nWeber\n0.035\n0.016\n\n\nDavis\n0.009\n0.011\n\n\nSalt Lake\n0.018\n0.015\n\n\nUtah\n0.017\n0.01\n\n\n\n\n\n\n\n\nAfter calculating the number of IX productions using the share values, these trips are removed from the base productions. Additionally, since IX productions are in vehicle-trips the final step in calculating IX productions is to multiply the person trips by vehicle occupancy rate of 1.54.\nWhen calculating productions for the opposing direction, external-to-internal (XI), the TAZ values come directly from the External_TripEnds.dbf file as generated in the Input Processing scripts.\n\n\nShort-Haul Trucks Productions\nShort-Haul truck productions are calculated as a function of ecommerce variables, residential variables, and employment variables that vary by truck type. The overall formula used to calculate truck productions is as follows,\nEquation 1: Short-Haul Truck Productions\n\nGood_p(TR) = Share_Ecom(TR)  (ResRate(TR) * TOTHH * Fac_ECom_HH(TR) + EmpRate(TR) * TOTEMP * Fac_ECom_Emp(TR)) + (1 - Share_ECom(TR)) * (ResRate(TR) * TOTHH)*\n\nwhere,\n\nTR represents truck type (light, medium, or heavy),\nShare_ECom represents the proportion of truck trips that apply to eCommerce factors (See Table 4),\nResRate represents the residential variable (See Table 4),\nEmpRate represents the employment variable (See Table 4),\nTOTHH represents the total number of households in a given TAZ,\nTOTEMP represents the total employment in a given TAZ,\nFac_ECom_HH represents the ecommerce factor applied to households (See Table 5),\nand FAC_ECom_Emp represents the ecommerce factor applied to employment (See Table 5).\n\n\n\n\n\n\n\n\n\n\nTable 4: Proportion of Truck Trips to apply E-Commerce Factors\n\n\n\n\n\n\n\n\nVariable\nLight Truck Factor\nMedium Truck Factor\nHeavy Truck\n\n\n\n\nShare_Ecom\n0.55\n0.8\n0.8\n\n\nResRate\n0.74745\n0.44427\n0.17481\n\n\nEmpRate\n0.25703\n0.1875\n0.11021\n\n\n\n\n\n\n\n\nThe Fac_ECom_HH variable corresponds to the values in the Households rows in Table 5. The Fac_ECom_Emp variable is computed as a function of the sum of the other variables in Table 5 multiplied by their corresponding employment types.\n\n\n\n\n\n\n\n\n\nTable 5: Employment Factors by Scenario and Truck Type\n\n\n\n\n\n\n\n\n\n\nScenario\nScenario Name\nGoods Movement Category\nLight Truck Factor\nMedium Truck Factor\nHeavy Truck Factor\n\n\n\n\n1\nBase\nIndustrial\n1\n1\n1\n\n\n1\nBase\nRetail\n1\n1\n1\n\n\n1\nBase\nOther\n1\n1\n1\n\n\n1\nBase\nHouseholds\n1\n1\n1\n\n\n2\nLow\nIndustrial\n1.15\n1.05\n1.1\n\n\n2\nLow\nRetail\n1.15\n1.05\n1\n\n\n2\nLow\nOther\n1.15\n1.05\n1\n\n\n2\nLow\nHouseholds\n1.25\n1.2\n1\n\n\n3\nMedium\nIndustrial\n1.2\n1.1\n1.15\n\n\n3\nMedium\nRetail\n1.2\n1.1\n1.05\n\n\n3\nMedium\nOther\n1.2\n1.1\n1\n\n\n3\nMedium\nHouseholds\n1.35\n1.25\n1\n\n\n4\nHigh\nIndustrial\n1.25\n1.15\n1.2\n\n\n4\nHigh\nRetail\n1.25\n1.15\n1.1\n\n\n4\nHigh\nOther\n1.25\n1.15\n1\n\n\n4\nHigh\nHouseholds\n1.45\n1.3\n1\n\n\n\n\n\n\n\n\nAn additional adjustment factor is used during the calibration process to further tune the model results for trucks to match observed truck traffic. These adjustments are made at the three main groupings for short-haul productions and are shown in Table 6. A factor of 1 means there is no adjustment.\n\n\n\n\n\n\n\n\n\nTable 6: General Short Haul Truck Production/Attraction Factors\n\n\n\n\n\n\n\n\nShort-Haul Truck Category\nLight Truck Factor\nMedium Truck Factor\nHeavy Truck Factor\n\n\n\n\nPeople\n1.8\n1.85\n1.65\n\n\nGoods\n1.8\n1.85\n1.65\n\n\nServices\n1.8\n1.85\n1.65"
  },
  {
    "objectID": "v9x/v900/model-process/2-tripgen.html#estimate-attractions",
    "href": "v9x/v900/model-process/2-tripgen.html#estimate-attractions",
    "title": "Trip Generation",
    "section": "Estimate Attractions",
    "text": "Estimate Attractions\nThe Trip Generation script estimates attractions for all trip purposes. Attractions are defined as the end of the trip that is serving as the attraction for a trip. For home-based trips (trips produced at a home location), attractions could include work locations, retail centers, restaurants, schools, colleges, etc. For non-home-based trips (trips produced at work or another locations), attractions could include delivery locations, restaurants, etc. The attractions for each TAZ are estimated in the following steps:\n\nCalculate base attractions.\nCalculate telecommuting attractions.\nCalculate external-to-internal attractions and adjust base productions accordingly.\nAdjust attractions based on CBD or area type.\nAdjust truck attraction based on county.\nCalculate attractions for short haul truck trips.\nCalculate attraction adjustments for special generators.\n\n\nBase Attractions\nAttractions are generated based on TAZ employment, enrollment, and household attributes. Whereas productions were mostly based on household attributes, attractions are primarily based on employment for most trip purposes with exceptions for HBSch that is based on enrollment and for HBOth, NHBW, and NHBNW with some household attractions. Attraction rates are shown in Table 7.\n\n\n\n\nTable 7: Attraction Rates by Trip Purpose.\n\n\n\n\n\n\n\n\n\n\n\n\n\nTAZ Variable Description\nTAZ Variable\nHBW\nHBSch_Pr\nHBSch_Sc\nHBShp\nHBOth\nNHBW\nNHBNW\n\n\n\n\nRetail Employment\nRETL\n0.957\n-\n-\n3.660\n-\n1.132\n3.419\n\n\nFood Employment\nFOOD\n1.017\n-\n-\n3.058\n-\n1.620\n3.264\n\n\nManufacturing Employment\nMANU\n1.136\n-\n-\n-\n0.019\n0.231\n0.037\n\n\nWholesale Employment\nWSLE\n1.136\n-\n-\n-\n0.126\n0.410\n0.103\n\n\nOffice Employment\nOFFI\n1.196\n-\n-\n-\n0.219\n0.178\n0.054\n\n\nGov./Ed. Employment\nGVED\n1.196\n-\n-\n-\n2.455\n0.250\n0.452\n\n\nHealth Employment\nHLTH\n1.136\n-\n-\n-\n1.135\n0.185\n0.446\n\n\nOther Employment\nOTHR\n1.136\n-\n-\n-\n0.902\n0.200\n0.242\n\n\nAgricultural Employment\nFM_AGRI\n1.136\n-\n-\n-\n-\n0.200\n-\n\n\nMining Employment\nFM_MING\n1.136\n-\n-\n-\n-\n0.200\n-\n\n\nConstruction Employment\nFM_CONS\n1.136\n-\n-\n-\n-\n0.200\n-\n\n\nTotal Households\nTOTHH\n-\n-\n-\n-\n2.553\n0.179\n0.589\n\n\nElementary Enrollment\nENROL_ELEM\n-\n1.000\n-\n-\n-\n-\n-\n\n\nMiddle School Enrollment\nENROL_MIDL\n-\n-\n1.000\n-\n-\n-\n-\n\n\nHigh School Enrollment\nENROL_HIGH\n-\n-\n1.000\n-\n-\n-\n-\n\n\n\n\n\n\n\n\nTelecommuting and Home-based Attractions\nTelecommuting and home-based jobs for each employment category are the calculated by applying the telecommuting rates taken from the model input files. Work-at-home jobs (HBJ) are added back into each employment category for the attraction calculations when calculating telecommuting. Telecommuting attractions are specified as either home-based work or non home-based work. Table 8 shows the rates applied to each job portion of the telecommutting function.\n\n\n\n\n\n\n\n\n\nTable 8: Telecommuting Rates applied to each Job portion of the Telecommuting Function\n\n\n\n\n\n\n\nJob Type\nFactor for HBW Telecommuting\nFactor for NHBW Telecommuting\n\n\n\n\nRETL\n0.957\n1.132\n\n\nFOOD\n1.017\n1.62\n\n\nMANU\n1.136\n0.231\n\n\nWSLE\n1.136\n0.41\n\n\nOFFI\n1.196\n0.178\n\n\nGVED\n1.196\n0.25\n\n\nHLTH\n1.136\n0.185\n\n\nOTHR\n1.136\n0.2\n\n\nAGRI\n1.136\n0.2\n\n\nMING\n1.136\n0.2\n\n\nCONS\n1.136\n0.2\n\n\n\n\n\n\n\n\nFor performing scenario testing, the 1ControlCenter.block file for the model scenario contains a telecommuting factor that serves as a multiplier to all employment-based telecommuting calculations. The default value for this factor is 1. A value less than 1 decreases the telecommuting share and a value greater than 1 increases the telecommuting share.\nAn additional adjustment factor is used during the calibration process to further tune the model results for telecommuting to match the base year target. This model uses a telecommuting calibration factor of 1.\n\n\nExternal Trip Attractions\nThe TAZ attractions for external-to-internal (XI) attractions is set to the number of total households (TOTHH) plus the total employment (TOTEMP). Since XI attractions are scaled to match productions, this means that XI attractions will be proportionally distributed by households plus employment amongst all TAZs.\nAdditional adjustment factors applied to XI attractions include county factors and a scaling factor. The county adjustment factors are shown in Table 9. The scaling factor used for the model is 0.010957.\n\n\n\n\n\n\n\n\n\nTable 9: IX Attraction County Adjustment Factors\n\n\n\n\n\n\nJob Type\nXI Adjustment Factor\n\n\n\n\nBox Elder\n8.5741\n\n\nWeber\n1.0061\n\n\nDavis\n0.5437\n\n\nSalt Lake\n0.9974\n\n\nUtah\n0.8972\n\n\n\n\n\n\n\n\nWhen calculating attractions for the opposing direction, internal-to-external (IX), the values come directly from the External_TripEnds.dbf file as generated in the Input Processing scripts.\n\n\nCBD and Area Type Adjustments\nSome trip purposed are further adjusted by select geographies. This allows for localized nuances to be applied when attraction rates may be atypical of regional rates. Two sets of adjustments are made. First, an adjustment of 0.5 is made to home-based shopping trips attracted to the CBD in Salt Lake County. Thus, shopping trips attracted to the CBD are half of what a non-CBD rate would be. Second, there are adjustments based on select area types for Davis and Salt Lake Counties. These adjustments are shown in Table 10. Attractions for urban area types are reduced 70% to 80% for select trip purposes. For CBD-like area types in Salt Lake County, there is an increase of 25% for home-based work trips showing a greater number of attractions compared as compared to similar areas in the rest of the region.\n\n\n\n\n\n\n\n\n\nTable 10: Adjustment Factors for Select Counties/Area Types\n\n\n\n\n\n\n\n\n\n\nCounty\nArea Type\nHBW\nHBShp\nHBOth\nNHBNW\n\n\n\n\nDavis\nUrban\n0.8\n-\n-\n-\n\n\nSalt Lake\nUrban\n-\n0.75\n0.7\n0.8\n\n\nSalt Lake\nCBD-Like\n1.25\n-\n-\n-\n\n\n\n\n\n\n\n\n\n\nCounty Truck Adjustments\nAn additional adjustment factor is used during the calibration process to further tune the model results for medium and heavy trucks to match observed truck traffic. These adjustments are made at the three main groupings for short-haul attractions. Light trucks were low in Box Elder, Weber, Davis, and Utah County and high in Salt Lake county. Medium trucks were low in Box Elder and Davis county and high in Weber, Salt Lake, and Utah county. Heavy trucks were low in Box Elder, Davis, and Utah county and high in Weber and Salt Lake County. The factors as shown in Table 11 were set to help offset these differences.\n\n\n\n\n\n\n\n\n\nTable 11: Area Specific Short Haul Truck Production/Attraction Factors\n\n\n\n\n\n\n\n\n\nShort-Haul Truck Category\nArea\nLight Truck Factor\nMedium Truck Factor\nHeavy Truck Factor\n\n\n\n\nPeople\nUrban Spaces\n1.03\n0.9\n0.9\n\n\nGoods\nUrban Spaces\n1.03\n0.9\n0.9\n\n\nServices\nUrban Spaces\n1.03\n0.9\n0.9\n\n\nPeople\nBox Elder\n1.5\n1.17\n1.12\n\n\nGoods\nBox Elder\n1.5\n1.17\n1.12\n\n\nServices\nBox Elder\n1.5\n1.17\n1.12\n\n\nPeople\nWeber\n1.22\n0.96\n0.96\n\n\nGoods\nWeber\n1.22\n0.96\n0.96\n\n\nServices\nWeber\n1.22\n0.96\n0.96\n\n\nPeople\nDavis\n1.14\n1.08\n1.1\n\n\nGoods\nDavis\n1.14\n1.08\n1.1\n\n\nServices\nDavis\n1.14\n1.08\n1.1\n\n\nPeople\nSalt Lake\n0.59\n0.62\n0.54\n\n\nGoods\nSalt Lake\n0.59\n0.62\n0.54\n\n\nServices\nSalt Lake\n0.59\n0.62\n0.54\n\n\nPeople\nUtah\n1.19\n0.95\n1.01\n\n\nGoods\nUtah\n1.19\n0.95\n1.01\n\n\nServices\nUtah\n1.19\n0.95\n1.01\n\n\n\n\n\n\n\n\n\n\nAdjustments for Special Generators\nThere are two groups of special generators that have adjustments for trip attractions. Temple Square and the SLC Library are in one group and colleges are in another.\n\nTemple Square and SLC Library\nTrip attractions for Temple Square and the SLC Library are generated using a base year daily visitation numbers and then increasing by an annual growth rate to estimate trip ends in the model year. The values used for estimation are shown in Table 12. Temple Square had an estimated five million visitors in 2013, which translates to roughly 13,700 visitors per day and 27,400 trip ends per day. The SLC library is the second most popular destination in Salt Lake with approximately four million visitors per year or roughly 11,000 visitors and 22,000 trip ends per day.\n\n\n\n\n\n\n\n\n\nTable 12: Adjustment Factors for Select Counties/Area Types\n\n\n\n\n\n\n\n\nSpecial Generator\nBase Year\nBase Year Daily Trip Ends\nAnnual Growth Rate\n\n\n\n\nTemple Square\n2013\n27400\n1.0%\n\n\nSLC Library\n2005\n22000\n1.0%\n\n\n\n\n\n\n\n\nAfter calculating model year attractions for the two special generators, the total attractions are then added to TAZ attractions proportionally amongst the trip purposes HBOth and NHBNW for the TAZ including Temple Square and HBOth, NHBW, and NHBNW for the TAZ including SLC Library.\n\n\nColleges\n???CHECK ENTIRE SECTION - we updated this but I forgot what we did\nThere are several locations with the TDM where trips to and from colleges are estimated. Home-based college (HBC) trips are separately generated and distributed as part of the Input Processing scripts and are found in TripTable.mtx. HBC trips are those of enrolled students traveling to and from campus. These trips bypass Trip Generation and Trip Distribution scripts. The attractions for other trip purposes to colleges are generated together with the other trips within the containing TAZ. Adjustments are then made to account for additional attractions to colleges for the three trip purposes of HBOth, NHBW, and NHBNW.\nHBOth, NHBW, and NHBNW trip adjustments are calculated through the following steps:\n\nCalculate the number of full-time-equivalent (FTE) students per campus by multiplying the enrollment control total for a college campus from TripTableControlTotal.csv by the FTE rate for the college campus from College_Factors.csv.\nCalculate the total attractions that should be generated based on the number of FTE students. This is done by multiplying the number of FTE students (step 1) by 2.4 vehicle attractions per student (based on all purposes from ITE, exact reference not included) multiplied by 1.7 person trips to vehicle trips (source not stated, is it the HHSurvey??).\nCalculate HBW trips associated with college campus in its containing TAZ with the following steps:\n\nMultiply FTE students (step 1) by the college employment factor (see Table 13) to get the estimated number of employees for a college campus.\nDivide the estimated number of employees for a college campus by the total employment (TOTEMP) for the containing TAZ to obtain a college employment ratio. The ratio is capped at 1.0.\nThe college employment ratio is then multiplied by the number of HBW trips to determine which portion of HBW are associated with the college.\n\nCalculate the number of non-HBC/HBW attractions to add to the TAZ by subtracting the college associated HBW trips (step 3) and HBC trips (TripTable.mtx) from the total attractions (step 2).\nDistribute the additional attractions (step 4) proportionally amongst HBOth, NHBW, and NHBNW.\n\n\n\n\n\n\n\n\n\n\nTable 13: College Employment Factors\n\n\n\n\n\n\nCollege\nCollege Employment Factor\n\n\n\n\nWeber State University\n0.25\n\n\nUtah Valley University\n0.25\n\n\nSalt Lake Community College\n0.29\n\n\nLDSBC\n0.33\n\n\nWestminster\n0.33\n\n\nUniversity of Utah\n0.71\n\n\nBrigham Young University\n0.71\n\n\nUnspecified\n0.48"
  },
  {
    "objectID": "v9x/v900/model-process/2-tripgen.html#balance-productions-and-attractions",
    "href": "v9x/v900/model-process/2-tripgen.html#balance-productions-and-attractions",
    "title": "Trip Generation",
    "section": "Balance Productions and Attractions",
    "text": "Balance Productions and Attractions\nThe final step of Trip Generation is to balance the productions and attractions. Balancing takes place by proportionally increasing or decreasing productions/attractions across the entire model space to match regional totals. For trips internal to the model space (non-externals) the attractions are balanced to match the productions. External trip productions and attractions are balanced in the WFRC/MAG model space. The IX productions are balanced to the IX attractions and the XI attractions are balanced to the XI productions.\n???Truck trips are already balanced since TAZ attractions were set equal TAZ productions.** –really????\nThere is also an important distinction to be understood regarding non-home-based trips. While non-home-based productions are based on household characteristics of a TAZ, the trips are not actually being produced in the home TAZ location. They are produced at another location, hence the term non-home-based. Non-home-based productions, thus, are only used to get total values that are then used to balance non-home-based attractions. After attractions are balanced to match productions, TAZ productions are set equal to TAZ attractions. So, non-home-based productions are used to get the quantity of trips, but attractions are used to get the distribution of trips."
  },
  {
    "objectID": "v9x/v900/model-process/3-distribute.html",
    "href": "v9x/v900/model-process/3-distribute.html",
    "title": "Trip Distribution",
    "section": "",
    "text": "Trip distribution is the pairing of origins and destinations to form complete trips. This is done separately within each trip type. For example, Home-based work (HBW) productions at residences are paired with HBW attractions at work places."
  },
  {
    "objectID": "v9x/v900/model-process/3-distribute.html#inputs",
    "href": "v9x/v900/model-process/3-distribute.html#inputs",
    "title": "Trip Distribution",
    "section": "Inputs",
    "text": "Inputs\nThe inputs to trip distribution include the productions and attractions from trip generation and an impedance matrix. The travel impedance for HBW, HBO and NHB trips is a generalized cost that is a function of time, distance (auto operating cost) and toll cost (if applicable). The impedance used for external trips and commercial trips is travel time."
  },
  {
    "objectID": "v9x/v900/model-process/3-distribute.html#gravity-model",
    "href": "v9x/v900/model-process/3-distribute.html#gravity-model",
    "title": "Trip Distribution",
    "section": "Gravity Model",
    "text": "Gravity Model\nThe trip distribution within a trip type is done using a gravity model. The theory behind the Gravity Model is that trip-end locations that are closer together will exhibit a stronger attraction than those that are farther apart. Although this is true, since longer trips have a larger travel radius there are more destinations within that radius as well (similar to a body of large mass having a greater gravitational pull). Ultimately, the Gravity Model causes the distribution of trip lengths to include a greater number of shorter trips and fewer longer trips than if the trips were to be distributed randomly.\nThe functional form of the Gravity Model is shown in Equation 1. Trip distribution implements a doubly-contrained gravel model, meaning This that an iterative process is used that alternatively balances productions by evaluating the first equation and then balances to attractions by evaluating the second equation. The iterative process is complete when either the convergence criterion is met, or the maximum number of iterations is reached.\nEquation 3: Doubly- Constrained Gravity Model Equations\n\n\nGravity Model Calibration\n???Update???\nwhat script? A Voyager script has been written that iteratively calibrates gravity model friction factors until an observed impedance distribution is matched by the model. The inputs to the calibration script are trip impedance distributions (by trip purpose), trip generation output and modeled travel times and costs between all TAZ pairs. The initial calibration of the friction factors is based on observed trip lengths from the trip diary survey. The gravity model parameters were then adjusted after replication to correspond to 2000 Census Journey to Work data and NHTS data.\nThe friction factors for IXXI and commercial trips were transferred from v8.3.2 of the model."
  },
  {
    "objectID": "v9x/v900/model-process/4-modechoice.html",
    "href": "v9x/v900/model-process/4-modechoice.html",
    "title": "Mode Choice",
    "section": "",
    "text": "The mode choice constants within the model used to estimate mode shares are shown below:\n\n\n\n\n\n\n\nCode\n// label: fig-mc-consts\n// fig-cap: Mode Choice Constants\n// echo: false\nInputs.table(transpose(constants))"
  },
  {
    "objectID": "v9x/v900/model-process/4-modechoice.html#mode-choice-constants",
    "href": "v9x/v900/model-process/4-modechoice.html#mode-choice-constants",
    "title": "Mode Choice",
    "section": "",
    "text": "The mode choice constants within the model used to estimate mode shares are shown below:\n\n\n\n\n\n\n\nCode\n// label: fig-mc-consts\n// fig-cap: Mode Choice Constants\n// echo: false\nInputs.table(transpose(constants))"
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "The validation of the Life Cycle model includes the comparison of model output to observed data for the following categories:\n\nPopulation by Age Group and County\nPopulation by Life Cycle\nHouseholds by Life Cycle\n\nFor Population by Age Group and County model results are compared to observed data as represented by the Kem C. Gardner Policy Institute (GPI) control totals. Population by Life Cycle and Households by Life Cycle are compared to the Utah Household Travel Survey.\nLife Cycle comparisons are summarized by the following three life cycle categories:\n\nLife Cycle 1 – households with no children and no seniors\nLife Cycle 2 – households with children and no seniors\nLife Cycle 3 – households with seniors (may have children)"
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html#life-cycle",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html#life-cycle",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "The validation of the Life Cycle model includes the comparison of model output to observed data for the following categories:\n\nPopulation by Age Group and County\nPopulation by Life Cycle\nHouseholds by Life Cycle\n\nFor Population by Age Group and County model results are compared to observed data as represented by the Kem C. Gardner Policy Institute (GPI) control totals. Population by Life Cycle and Households by Life Cycle are compared to the Utah Household Travel Survey.\nLife Cycle comparisons are summarized by the following three life cycle categories:\n\nLife Cycle 1 – households with no children and no seniors\nLife Cycle 2 – households with children and no seniors\nLife Cycle 3 – households with seniors (may have children)"
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html#population-by-age-group-and-county",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html#population-by-age-group-and-county",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Population by Age Group and County",
    "text": "Population by Age Group and County\nThe 2020 model base year population by county and Age Group was compared to the 2020 GPI county-level population by Age Group, shown in the following charts. The model’s estimate of the population in each Age Group mirrors the GPI county-level projections.\n\n\n\n\n                                                \nFigure 1: 2020 Model vs. 2020 GPI – % Population by Age Group and County."
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html#population-by-life-cycle",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html#population-by-life-cycle",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Population by Life Cycle",
    "text": "Population by Life Cycle\nThe shares of the modeled 2019 base year population by Life Cycle were compared to the 2012 Household Survey at the county level. The model’s estimate of population by Life Cycle category seemed reasonable at this level of geography with all modeled comparison points falling within 4% of the observed data.\n\n\n\n\n                                                \nFigure 2: 2019 Model vs. 2012 Household Survey – % Population by Life Cycle and County."
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html#households-by-life-cycle",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html#households-by-life-cycle",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Households by Life Cycle",
    "text": "Households by Life Cycle\nThe shares of the modeled 2019 base year households by Life Cycle were compared to the 2012 Household Survey at the county level. The model’s estimate of households by Life Cycle category seemed reasonable at this level of geography with all modeled comparison points falling within 1.5% of the observed data.\n\n\n\n\n                                                \nFigure 3: 2019 Model vs. 2012 Household Survey – % Households by Life Cycle and County."
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html#household-disaggregation",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html#household-disaggregation",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Household Disaggregation",
    "text": "Household Disaggregation\nThe Household Disaggregation was validated to the following measures:\n\nHousehold Size\nIncome\nNumber of Workers\n\n\nHousehold Size\nThe shares of the modeled 2015 base year households by Household Size category were validated to 2010 Census and 2016 ACS data at the county level. The model’s estimate of households by each of the six Household Size category matches within about 2% of the observed data for all counties.\n???Update to use 2019 Model???&gt;&gt;\n\n\n\n\n                                                \nFigure 4: 2015 Model vs. 2010 Census & 2016 ACS – % Households by Household Size\n\n\n\n\n\nIncome\n???UPDATE – maybe from validation in this location: A:\\1 - TDM\\2 - Estimate Param\\1 - HHDisag_AutoOwn???\n\nIncome Gruops (Income Levels) in 2016 dollars:\n\n1: $0 to 35,000 (Low)\n2: $35,000 to 60,000 (High)\n3: $60,000 to 100,000 (High)\n4: $100,000 and above (High)\n\n\n\n\nWorker\n\nWorker Groups: 0, 1, 2, 3+ workers per household\n\n???UPDATE – maybe from validation in this location: A:\\1 - TDM\\2 - Estimate Param\\1 - HHDisag_AutoOwn???"
  },
  {
    "objectID": "v9x/v900/validation/1-hhdisag-autoown.html#auto-ownership",
    "href": "v9x/v900/validation/1-hhdisag-autoown.html#auto-ownership",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "Auto Ownership",
    "text": "Auto Ownership\n???Which validation charts should I add???"
  },
  {
    "objectID": "v9x/v900/validation/2-tripgen.html",
    "href": "v9x/v900/validation/2-tripgen.html",
    "title": "Trip Generation",
    "section": "",
    "text": "Trip Generation validation was considered for both production ratios and relative shares."
  },
  {
    "objectID": "v9x/v900/validation/2-tripgen.html#ratios",
    "href": "v9x/v900/validation/2-tripgen.html#ratios",
    "title": "Trip Generation",
    "section": "Ratios",
    "text": "Ratios\nValidation for production ratios looked at three sets of measures: productions-to-household ratios (Figure 1), total trips (Figure 2), and trip balance ratios (Figure 3). The sources of the data include the Utah Household Travel Survey from 2012 (2012 HTS), the base year model (BY 2019 Model), and the National Household Travel Survey from 2017 with data from the Mountain Census Division (2017 NHTS - Mountain).\nThe model shows an average 4.01 trips per person which is slightly higher than the 2017 NHTS - Mountain average of 3.54. The model also shows an average 12.4 trips per household which is higher than the 2017 NHTS - Mountain average of 9.1. Utah, including the Wasatch Front, has a significantly higher average household size of 3.09 persons per household when compared to the Mountain Census Division average of 2.58, which accounts for the differences when compared to the 2017 NHTS - Mountain averages.\n\n\n\n\n                                                \nFigure 1: Productions to Households Ratios – Total Trip Ends (II + IX).\n\n\n\n\n\n\n\n                                                \nFigure 2: Total Trip Validation\n\n\n\n\n\n\n\n                                                \nFigure 3: Trip Balance Ratios"
  },
  {
    "objectID": "v9x/v900/validation/2-tripgen.html#relative-shares",
    "href": "v9x/v900/validation/2-tripgen.html#relative-shares",
    "title": "Trip Generation",
    "section": "Relative Shares",
    "text": "Relative Shares\nValidation for production relative shares considered the reasonableness of relative shares as shown in Table 1. The relative share between HBW, HBO and NHB trips looks reasonable with HBW at about 14% of the total and the highest share going to HBO. Commercial vehicles account for about 22% of the total trips generated by the model. This is within the expected range for an urban area like the Wasatch Front. IX and XI trips account for around 2% of the total trip generation. This also appears to be reasonable.\n\n\n\n\n\n\n\n\n\nTable 1: Relative Shares of Trip Productions\n\n\nPurpose\nProduction\nShare\n\n\n\n\nHBW\n1,758,104\n14.1%\n\n\nHBO\n5,317,476\n42.5%\n\n\n     HBShp\n908,733\n7.3%\n\n\n     HBOth\n3,719,191\n29.7%\n\n\n     HBScK6\n365,084\n2.9%\n\n\n     HBsc712\n324,468\n2.6%\n\n\nNHB\n2,405,720\n19.2%\n\n\n     NHBW\n812,855\n6.5%\n\n\n     NHBNW\n1,592,865\n12.7%\n\n\nTotal Person\n9,481,300\n75.8%\n\n\nTotal External\n172,855\n1.4%\n\n\n     IX\n78,057\n0.6%\n\n\n     XI\n94,798\n0.8%\n\n\nTotal Truck\n2,802,234\n22.4%\n\n\n     LT\n1,553,653\n12.4%\n\n\n     MD\n884,558\n7.1%\n\n\n     HV\n364,023\n2.9%\n\n\nTotal IX Truck\n21,750\n0.2%\n\n\n     IX MD\n10,716\n0.1%\n\n\n     IX HV\n11,034\n0.1%\n\n\nTotal XI Truck\n30,741\n0.2%\n\n\n     XI MD\n14,372\n0.1%\n\n\n     XI HV\n16,369\n0.1%\n\n\nTelecommute Share of HBW\n69,175\n0.6%\n\n\nTelecommute Share of NHBW\n19,552\n0.2%\n\n\nTOTAL\n12,508,880\n100.0%"
  },
  {
    "objectID": "v9x/v900/validation/3-distribute.html",
    "href": "v9x/v900/validation/3-distribute.html",
    "title": "Trip Distribution",
    "section": "",
    "text": "Modeled average trip lengths for the base year were compared to the 2012 Household Travel Survey. The model was validated for for distance, time, and generalized cost using the following measures:"
  },
  {
    "objectID": "v9x/v900/validation/3-distribute.html#average-trip-lengths",
    "href": "v9x/v900/validation/3-distribute.html#average-trip-lengths",
    "title": "Trip Distribution",
    "section": "Average Trip Lengths",
    "text": "Average Trip Lengths\nThe following figure shows the average trip lengths the modeled and observed time, distance, and generalized cost.\n\n\n\n\n\n\n\nCode\nviewof varSelect = Inputs.select(new Map([['Generalized Cost','GenCost'], ['Distance', 'Distance'], ['Time', 'Time']]), {value: 'Variable', label: \"Variable\"})\n\nviewof purpSelect  = Inputs.select(new Map([['Internal Trip Purposes', 'MainPurposes'], ['External Trip Purposes', 'Externals']]), {value: 'PurpType', label: \"Purpose Set\"});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ndataLT = transpose(dataStats)\nfiltered_data = dataLT.filter(function(dataL) {\n    return varSelect == dataL.Variable &&\n           purpSelect == dataL.PurpType;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport {GroupedBarChart} from \"@d3/grouped-bar-chart\"\nimport {Legend, Swatches} from \"@d3/color-legend\"\nimport {howto, altplot} from \"@d3/example-components\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPlotTable\n\n\n\n\nCode\n//https://observablehq.com/@d3/grouped-bar-chart\nkey = Legend(chart.scales.color, {title: \"Data Source\"})\n\n\n\n\n\n\n\n\n\nCode\nchart = GroupedBarChart(filtered_data, {\n    x: d =&gt; d.Purpose,\n    y: d =&gt; d.AVG_TRIP_LEN,\n    z: d =&gt; d.DataSource,\n    yLabel: \"Average Trip Length\",\n    //yDomain: [0,1],\n    zDomain: ['Model','Observed'],\n    width,\n    height: 500,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\nFigure 1: Average Trip Length between model and observed.\n\n\n\n\n\n\n\nCode\nInputs.table(filtered_data)"
  },
  {
    "objectID": "v9x/v900/validation/3-distribute.html#trip-length-frequencies",
    "href": "v9x/v900/validation/3-distribute.html#trip-length-frequencies",
    "title": "Trip Distribution",
    "section": "Trip Length Frequencies",
    "text": "Trip Length Frequencies\nModeled trip lengths for the base year were compared to the 2012 Household Travel Survey. The following figures shows the modeled and observed time and distance average trip lengths and trip length frequencies.\n\n\nCode\noptionsTripPurp = \n[\n    ['Home-Based Work'                   , 'HBW'    ],\n    ['Home-Based Shopping'               , 'HBShp'  ],\n    ['Home-Based Other'                  , 'HBOth'  ],\n    ['Home-Based School - Primary'       , 'HBSchPr'],\n    ['Home-Based School - Secondary'     , 'HBSchSc'],\n    ['Non-Home-Based Work'               , 'NHBW'   ],\n    ['Non-Home-Based Non-Work'           , 'NHBNW'  ],\n    ['Light Trucks'                      , 'LT'     ],\n    ['Medium Trucks'                     , 'MD'     ],\n    ['Heavy Trucks'                      , 'HV'     ],\n    ['Internal-to-External'              , 'IX'     ],\n    ['External-to-Internal'              , 'XI'     ],\n    ['Internal-to-External Light Trucks' , 'IX_LT'  ],\n    ['Internal-to-External Medium Trucks', 'IX_MD'  ],\n    ['Internal-to-External Heavy Trucks' , 'IX_HV'  ],\n    ['External-to-Internal Light Trucks' , 'XI_LT'  ],\n    ['External-to-Internal Medium Trucks', 'XI_MD'  ],\n    ['External-to-Internal Heavy Trucks' , 'XI_HV'  ]\n]\n\nviewof vTripPurp = Inputs.select(new Map(optionsTripPurp), {value: 'HBW', label: \"Trip Purpose:\"})\n\nviewof vTlfType = Inputs.select(new Map([['Distance','Dist'],['Time','Time'],['Generalized Cost','GC']]), {value: 'Dist', label: \"Variable:\"})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nfreqT = transpose(freq)\n\nfreqT_filtered_Obs = freqT.filter(function(freqData) {\n    return vTripPurp == freqData.TRIPPURP &&\n    vTlfType == freqData.TLFTYPE &&\n    'freqObs' == freqData.freqSource;\n})\n\nfreqT_filtered_Mod = freqT.filter(function(freqData) {\n    return vTripPurp == freqData.TRIPPURP &&\n    vTlfType == freqData.TLFTYPE &&\n    'freqMod' == freqData.freqSource;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nkey2 = Legend(chart.scales.color, {title: \"Data Source\"})\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Distance/Time/Cost', tickFormat: d =&gt; d},\n  y: {label: 'Frequency', tickFormat: f =&gt; `${Math.round(f * 100)}%`},\n  marginRight: 60,\n  marginLeft: 60,\n  style: {\n    fontSize: 15\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  marks: [\n    Plot.line(\n      freqT_filtered_Mod, {x: 'BIN', y: 'freq', stroke: \"#376092\", strokeWidth: 4}),\n    Plot.line(\n      freqT_filtered_Obs, {x: 'BIN', y: 'freq', stroke:  \"#77933c\", strokeWidth: 4}),\n    Plot.frame({strokeOpacity: 0.2}),\n    ]\n});\n\n\n\n\n\n\nFigure 2: Trip Length Frequencies between Model and Observed."
  },
  {
    "objectID": "v9x/v900/validation/4-modechoice.html",
    "href": "v9x/v900/validation/4-modechoice.html",
    "title": "Mode Choice",
    "section": "",
    "text": "The validation results for the Mode Choice portion of the model are shown in this section. Mode Choice was validated against the Utah Transit Authority 2019 On-Board Survey as well as the 2012 Household Travel Survey. Validation is summarized by the following categories:"
  },
  {
    "objectID": "v9x/v900/validation/4-modechoice.html#transit-trips-and-boardings",
    "href": "v9x/v900/validation/4-modechoice.html#transit-trips-and-boardings",
    "title": "Mode Choice",
    "section": "Transit Trips and Boardings",
    "text": "Transit Trips and Boardings\nThe validation of daily transit trips and boardings is shown through the comparison of model and observed data by mode. The model was validated by the following measures:\n\nTrips by Hierarchical Mode\nBoardings by Hierarchical Mode\nTransfer Ratio by Hierarchical Mode\nBoardings by Surveyed Mode (for comparison only)\n\nThe three hierarchical mode measures are summarized by the highest hierarchy mode in a given trip with local bus being the lowest on the hierarchy and commuter rail being the highest. For example, if a trip uses Local Bus and then transfers to LRT, the trip is stored as a LRT trip. Trips by Hierarchical Mode represent each trip as a single number, regardless of the number of transfer or different modes that were used on a trip.\nBoardings by Hierarchical Mode represent each boarding separately but summarized at the highest hierarchical mode of the trip. For example, for one transfer from Local Bus to LRT there are two boardings, one on each mode, but they are both stored in the highest hierarchal mode of LRT. The Transfer Ratio by Hierarchical Mode is the ratio between boardings and trips for any given mode.\nThe final measure Boardings by Surveyed Mode represents the total boardings on each mode individually. They are not summarize at the highest hierarchical mode of the trip but rather at the mode on which the boarding actually occurred. For example, the Local Bus to LRT trip mentioned previously would be summarized in this measure as one boarding on Local Bus and one boarding one LRT. This measure is for comparison use only, since the structure of the Mode Choice model does not consider this measure during calibration.\nThe total number of boardings are the same between hierarchical mode and surveyed mode, but depending on the make-up of the trips, there totals by mode will vary.\nThe model data for hierarchical mode measures is taken from the shares reports v9_SE19_Net19_RegionShares_Pk.csv and v9_SE19_Net19_RegionShares_Ok.csv. The model data for the surveyed mode comparison is taken from _v9_SE19_Net19_1_PA_Route.dbf.\nThe interactive Figure 1 allows for the visual comparison of model and observed values for each Transit Trips and Boardings category.\n\n\nCode\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\n\n\nCode\nviewof bPlotSelect = Inputs.select(new Map([['Trips by Hierarchical Mode', 'Trips by Hierarchical Mode'], ['Boardings by Hierarchical Mode', 'Boardings by Hierarchical Mode'], ['Transfer Ratio by Hierarchical Mode','Transfer Ratio'], ['Boardings by Mode Surveyed','Boardings by Mode Surveyed']]), {value: nameGroup, label: \"Category\"})\nviewof metric = Inputs.radio(new Map([[\"Difference\", \"Difference\"], [\"% Difference\", \"% Difference\"]]), {value: \"Difference\", label: \"View:\"})\n\ndataBLC = transpose(boardChart)\nfiltered_bDataC = dataBLC.filter(function(dataBLC) {\n    return bPlotSelect == dataBLC.Title &&\n           \"Value\" == dataBLC.View;\n})\ndataBTT = transpose(boardTable)\nfiltered_bDataT = dataBTT.filter(function(dataBTT) {\n    return bPlotSelect == dataBTT.Title;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;br/&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        ${[\"Mode\", \"Model\", \"Observed\", \"Difference\", \"% Difference\"].map((d, i) =&gt; {\n            const widths = ['90px', '60px', '70px', '75px', '90px']; // Define the widths\n            return html`&lt;th style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; width: ${widths[i]};'&gt;${d}&lt;/th&gt;`;\n        })}\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        ${filtered_bDataT.map(row =&gt; {\n            const isBold = row['Mode'] === 'Total';\n            return html`&lt;tr style='border-bottom: 1px solid lightgrey;'&gt;\n                ${[\"Mode\", \"Model\", \"Observed\", \"Difference\", \"% Difference\"].map((d, i) =&gt; {\n                    const widths = ['90px', '60px', '70px', '75px', '90px']; // Define the widths\n                    return html`&lt;td style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; width: ${widths[i]}; font-weight: ${isBold ? 'bold' : 'normal'};'&gt;${row[d]}&lt;/td&gt;`;\n                })}\n            &lt;/tr&gt;`;\n        })}\n    &lt;/tbody&gt;\n&lt;/table&gt;`\n\n\n\n\n\n\n\n\n\n\nCode\nkey2 = Legend(bChart.scales.color, {title: \"Data Source\"})\n\nbChart = GroupedBarChart(filtered_bDataC, {\n    x: d =&gt; d.Mode,\n    y: d =&gt; d.ViewValue,\n    z: d =&gt; d.DataSource,\n    xDomain: ['Local Bus', 'Core Bus', 'Express Bus', 'BRT', 'LRT', 'CRT'],\n    yLabel: \"Value\",\n    zDomain: ['Model','Observed'],\n    width: 500,\n    height: 225,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nfiltered_bData2 = dataBLC.filter(function(dataBLC) {\n    return bPlotSelect == dataBLC.Title  &&\n           metric == dataBLC.View;\n})\n\n//https://observablehq.com/@d3/diverging-bar-chart\nimport {DivergingBarChart} from \"@d3/diverging-bar-chart\"\n\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nchart3 = DivergingBarChart(filtered_bData2, {\n    x: d =&gt; d.ViewValue,\n    y: d =&gt; d.Mode,\n    xFormat: metric === \"Difference\" ? \"+,d\" : \"+%\",\n    xLabel: \"Model vs Observed Differences\",\n    height: 200,\n    colors: d3.schemeRdBu[3]\n})\n\n\n\n\n\n\n\n\n\n\n\nCode\ntbEmptyCell = 1\n\n\n\n\n\n\nFigure 1: Transit Trips and Boardings Model vs Observed Comparison\n\n\n\n\n\nCode\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\nWhen considering Trips by Hierarchical Mode, the calibration routine of the model results in the total number of transit trips in the model being very close to the observed. For this model the model trips are only 0.2% higher than observed for the total number of trips. By mode the differences are within reasonable ranges for the higher trip modes. For example, LRT is only 0.1% high and CRT is only 0.8% low.\nDue to the very low number of trips for Core Bus and Express Bus, their differences are acceptable. Currently, Core Bus for example has only one route. In future phases of the RTP, additional Core Bus service is planned. While further calibration could have brought the Core Bus validation more in line with observed, over-calibrating the model was not desired.\nBoardings by Hierarchical Mode show a similar pattern. Overall boardings are only 1.9% lower in model compared to observed, and the modes Local Bus, LRT, and CRT all within 5%. Core Bus is again the furthest away, but it also is a single route with lower number of boardings as compared to the higher boarding modes.\nThe Transfer Ratio by Hierarchical Mode shows the relationship between the trips and the boardings. While the model was only slightly higher in trips, the boardings were low. This results in a lower transfer ratio, which is still acceptable with all values being within about 5%.\nAnd for comparison, Boardings by Mode Surveyed shows acceptable differences. The Core Bus and Express Bus values show much larger differences; but again given their low volumes, these are reasonable differences."
  },
  {
    "objectID": "v9x/v900/validation/4-modechoice.html#mode-share",
    "href": "v9x/v900/validation/4-modechoice.html#mode-share",
    "title": "Mode Choice",
    "section": "Mode Share",
    "text": "Mode Share\nMode Share validation is shown through the comparison by groups of mode, time period, and trip purpose. For model and observed shares, the total percent for each combination of mode group, time period, and trip purpose adds up to 100%.\nMode groups compared include groupings of auto, transit, vehicle occupancy, and transit modes. The highest nest is motorized and non-motorized down to lower nests of individual transit modes and transit access modes. Shares were calculated for the following mode groupings:\n\nMotorized / Non-Motorized\nAuto / Transit\nDrive Alone / Shared Ride\nShared Ride # of Occupants\nTransit Mode\nTransit Access Mode\n\nAdditionally, the shares were compared by the following time period groupings:\n\nDaily\nPeak\nOff-peak\n\nFinally, the shares were further compared for each of the following trip purposes:\n\nAll Purposes\nHome-Based Work\nHome-Based College\nHome-Based Other\nNon-Home Based\n\nIn the model, Home-Based College is the only trip purpose that does not include trips in the off-peak time period. So, any trips with this purpose in the observed data were moved to the peak time period for comparison.\nThe interactive Figure 2 allows for selecting of different combinations to visualize the comparisons. The observed data comes from a combination of the Household Travel Survey and the 2019 Transit On-Board Survey.\n\n\nCode\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\n\n\nCode\nviewof plotSelect    = Inputs.select(new Map([[nameModeMnMShare,nameModeMnMShare],\n                                              [nameModeATShare ,nameModeATShare ],\n                                              [nameModeDAShare ,nameModeDAShare ],\n                                              [nameMode23Share ,nameMode23Share ],\n                                              [nameModeTransit ,nameModeTransit ],\n                                              [nameModeAccess  ,nameModeAccess  ]\n                                             ]), {value: nameGroup, label: \"Mode Group:\"})\nviewof periodSelect  = Inputs.select(new Map([['Daily', 'DY'], ['Peak', 'PK'], ['Off-Peak', 'OK']]), {value: namePeriod, label: \"Time Period:\"});\nviewof purposeSelect = Inputs.select(new Map([['All Purposes', 'All'], ['Home-Based Work', 'HBW'], ['Home-Based College', 'HBC'], ['Home-Based Other', 'HBO'], ['Non-Home Based', 'NHB']]), {value: 'TripPurpose', label: \"Trip Purpose:\"});\n\ndataLT = transpose(dataLong)\ndataTT = transpose(dataTable)\n\nfiltered_data = dataLT.filter(function(dataL) {\n    return plotSelect == dataL.Group &&\n           periodSelect == dataL.Period &&\n           purposeSelect == dataL.TripPurpose;\n})\ntable_filtered_data = dataTT.filter(function(dataTT) {\n    return plotSelect == dataTT.Group &&\n           periodSelect == dataTT.Period &&\n           purposeSelect == dataTT.TripPurpose;\n})\n\nimport {GroupedBarChart} from \"@d3/grouped-bar-chart\"\nimport {Legend, Swatches} from \"@d3/color-legend\"\nimport {howto, altplot} from \"@d3/example-components\"\n\nxDomain = {\n    switch(plotSelect) {  // assuming all data points have the same Mode\n        case nameModeMnMShare:\n            return ['Motorized', 'Non-Motorized'];\n            break;\n        case nameModeATShare:\n            return ['Auto', 'Transit'];\n            break;\n        case nameModeDAShare:\n            return ['Drive Alone', 'Shared Ride'];\n            break;\n        case nameMode23Share:\n            return ['Shared Ride 2 Occupants', 'Shared Ride 3+ Occupants'];\n            break;\n        case nameModeTransit:\n            return ['Local Bus', 'Core Bus', 'Express Bus', 'BRT', 'LRT', 'CRT'];\n            break;\n        case nameModeAccess:\n            return ['Walk', 'Drive'];\n            break;\n        default:\n            return [];  // or set some sensible default\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;br/&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        ${[plotSelect, \"Model\", \"Observed\", \"Difference\"].map((d, i) =&gt; \n        html`&lt;th style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; ${i === 0 ? \"width: 185px;\" : \"\"}'&gt;${d}&lt;/th&gt;`)}\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    ${table_filtered_data.map(row =&gt; html`\n        &lt;tr style='border-bottom: 1px solid lightgrey;'&gt;\n        ${[\"Mode\", \"Model\", \"Observed\", \"Difference\"].map((d, i) =&gt; \n            html`&lt;td style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; ${i === 0 ? \"width: 185px;\" : \"\"}'&gt;${row[d]}&lt;/td&gt;`)}\n        &lt;/tr&gt;`)}\n    &lt;/tbody&gt;\n&lt;/table&gt;`\n\n\n\n\n\n\n\n\n\n\nCode\nkey = Legend(chart.scales.color, {title: \"Data Source\"})\n\nchart = GroupedBarChart(filtered_data, {\n    x: d =&gt; d.Mode,\n    y: d =&gt; d.Percent,\n    z: d =&gt; d.DataSource,\n    xDomain: xDomain,\n    yLabel: \"Percent\",\n    yDomain: [0,1],\n    zDomain: ['Model','Observed'],\n    width: 400,\n    height: 250,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nbEmtptyCell=1\n\n\n\n\n\n\nFigure 2: Model vs Observed Mode Shares by Mode Group, Time Period, and Trip Purpose\n\n\n\n\n\nCode\nhtml`&lt;br/&gt;&lt;br/&gt;`\n\n\n\n\n\n\n\nThe Motorized / Non-motorized grouping of model shares are within 0.1% of the observed data for the daily time period and all trip purposes with non-motorized shares being slightly higher than observed and motorized shares being slightly lower. The model shares for additional combinations of time period and purpose are all within 0.5%.\nThe Transit Mode group of model shares are also close to observed with all modes for all time periods and trip purposes. At the Daily time period for all purposes, Local Bus has slightly higher share at 1.7% compared to observed than other modes, such as CRT that is 0.5% lower than observed and LRT that is 0.3% lower than observed. Nearly all the model shares for Transit Mode combinations of time period and are within 5% of observed. The one exception is Home-Based Other which in the peak period for Local Bus is 5.8% higher than observed. Transit Access Mode model shares are all within 5% of observed shares."
  },
  {
    "objectID": "v9x/v900/validation/5-assignhwy.html",
    "href": "v9x/v900/validation/5-assignhwy.html",
    "title": "Highway Assignment",
    "section": "",
    "text": "Validation of final highway assignment was done comparing model outputs from the final loaded networks with observed data. The comparisons were done with volumes and speeds."
  },
  {
    "objectID": "v9x/v900/validation/5-assignhwy.html#volumes",
    "href": "v9x/v900/validation/5-assignhwy.html#volumes",
    "title": "Highway Assignment",
    "section": "Volumes",
    "text": "Volumes\nThe validation results for the Highway Assignment portion of the model are shown in this section. The observed data for 2019 volumes is taken from the Utah Department of Transportation (UDOT) Average Annual Daily Traffic (AADT) History and associated with their respective model segments. The traffic model data is taken from segment summary report for the 2019 base year model: v9_SE19_Net19_Summary_SEGID.csv. The results are divided into three sections:\n\nSummary Comparison\nDetailed Comparison\nMap Comparison\n\n\n\nCode\nimport {GroupedBarChart} from \"@d3/grouped-bar-chart\"\nimport {Legend, Swatches} from \"@d3/color-legend\"\nimport {howto, altplot} from \"@d3/example-components\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSummary Comparison\nThe summary comparison shows region and county-wide differences between model and observed for Average Daily Volume and Vehicle-Miles Traveled (VMT) by vehicle type. The values for Box Elder and Weber counties are only the portions within the MPO planning area. Validation was checked comparing the average daily volume at the region and county levels. Figure 1, below, contains an interactive view of model vs observed differences by roadway class and vehicle type.\n\n\nCode\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\n\n\nCode\nviewof bSummaryFuncClass = Inputs.select(new Map([['All Roadways','All Roadways'], ['Freeway','Freeway'], ['Principal','Principal'], ['Minor', 'Minor'], ['Collector', 'Collector']]), {value: 'All Roadways', label: \"Roadway Class:\"})\nviewof bSummaryVehType = Inputs.select(new Map([['All Vehicles','All Vehicles'], ['Passenger Cars', 'Passenger Cars'], ['Medium Trucks','Medium Trucks'], ['Heavy Trucks','Heavy Trucks']]), {value: 'All Vehicles', label: \"Vehicle Type:\"})\nviewof bSummaryDiffType = Inputs.select(new Map([['Percent Difference','DiffPct'], ['Difference','Diff']]), {value: 'DiffPct', label: \"Display:\"})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nvolDiffLongT = transpose(volDiffLong)\nvmtDiffLongT = transpose(vmtDiffLong)\n\nvolDiffLongT_filtered = volDiffLongT.filter(function(dataL) {\n    return bSummaryFuncClass == dataL.funcClass &&\n           bSummaryVehType == dataL.vehType &&\n           (('vol' + bSummaryDiffType) == dataL.View);\n})\nvmtDiffLongT_filtered = vmtDiffLongT.filter(function(dataL) {\n    return bSummaryFuncClass == dataL.funcClass &&\n           bSummaryVehType == dataL.vehType &&\n           (('vmt' + bSummaryDiffType) == dataL.View);\n})\n\nvvp = transpose(vvpct)\nvvpL = transpose(vvpctLong)\nvvaL = transpose(vvabsLong)\nvvaLR = transpose(vvabsLongR)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport {DivergingBarChart} from \"@d3/diverging-bar-chart\"\n\nfunction getXDomainVol(bSummaryDiffType) {\n    if (bSummaryDiffType === \"Diff\") {\n        return [max_abs_value_volDiff * -1, max_abs_value_volDiff];\n    } else {\n        return [max_abs_value_volDiffPct * -1, max_abs_value_volDiff]; // -100% to 100%\n    }\n}\n\nfunction getXDomainVmt(bSummaryDiffType) {\n    if (bSummaryDiffType === \"Diff\") {\n        return [max_abs_value_vmtDiff * -1, max_abs_value_vmtDiff];\n    } else {\n        return [max_abs_value_vmtDiffPct * -1, max_abs_value_vmtDiff]; // -100% to 100%\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;br/&gt;&lt;h4&gt;Average Daily Volume&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nchartVolDiff = DivergingBarChart(volDiffLongT_filtered, {\n    x: d =&gt; d.ViewValue,\n    y: d =&gt; d.coFips,\n    xFormat: bSummaryDiffType === \"Diff\" ? \"+,d\" : \"+.1%\",\n    xLabel: \"Model vs Observed Differences\",\n    width: 440,\n    xDomain: bSummaryDiffType === \"Diff\" ? [max_abs_value_volDiff * -1, max_abs_value_volDiff] : [max_abs_value_volDiffPct * -1, max_abs_value_volDiffPct],\n    yDomain:  ['Region','Box Elder County - WFRC','Weber County - WFRC','Davis County','Salt Lake County','Utah County'],\n    colors: d3.schemeRdBu[3]\n})\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;br/&gt;&lt;h4&gt;Vehicle-Miles Traveled&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nchartVmtDiff = DivergingBarChart(vmtDiffLongT_filtered, {\n    x: d =&gt; d.ViewValue,\n    y: d =&gt; d.coFips,\n    xFormat: bSummaryDiffType === \"Diff\" ? \"+,d\" : \"+.1%\",\n    xLabel: \"Model vs Observed Differences\",\n    width: 440,\n    xDomain: bSummaryDiffType === \"Diff\" ? [max_abs_value_vmtDiff * -1, max_abs_value_vmtDiff] : [max_abs_value_vmtDiffPct * -1, max_abs_value_vmtDiffPct],\n    yDomain:  ['Region','Box Elder County - WFRC','Weber County - WFRC','Davis County','Salt Lake County','Utah County'],\n    colors: d3.schemeRdBu[3]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ntbEmptyCell1 = 1\n\n\n\n\n\n\nFigure 1: Highway Assignment Summary Comparison\n\n\n\nAt the region level model volume is 0.2% lower than observed volume. The four more urban counties (Weber, Davis, Salt Lake, and Davis) were all within 5% of observed volumes with Salt Lake County being the closest. Weber and Davis were slightly lower and Utah County was slightly higher. Box Elder County is more rural than the other counties. Box Elder model volumes are about 10% lower than observed. Time did not allow for further calibration of the volumes in Box Elder area to account for the larger differences.\nOne important observation at the Collector and All Vehicles level is that Utah County shows a much higher difference than the other counties. Upon further investigation of observed Collector volumes in Utah County, many roadway segments had very low volumes compared to what was expected. Utah County is one of the highest growth areas in the region. For this reason, we expect that the observed count data may be underrepresenting actual volumes. We also anticipate observed volumes in Utah County to improve in the near-term. Within the last several years, a large investment in continuous count station in Utah County has been made. The new counters will add additional information to generate observed volumes for all roadway segments.\nThe largest differences in model vs observed volumes occur in the Medium Truck and Heavy Truck vehicle types. A good amount of time was spent attempting to bring model truck volumes closer to observed. However, due to the limited data sources for truck information, further need to investigate observed truck volumes, and a desire to not over-calibrate the model, further calibration was stopped. Truck modeling remains a future priority for model improvement.\n\n\nDetailed Comparison\nThe model vs observed details in this section are presented by volume and Vehicle-Miles Traveled (VMT) through the comparison of model and observed data facility type by region and also by county. Figure 2 allows for the interactive visual comparison of model and observed values for the region and each county for all vehicles, cars, medium trucks, and heavy trucks. The comparisons are shown in four different types of charts and tables:\n\nAverage Daily Volume by Roadway Class (2a): The daily volume is averaged across all segments within their respective geography and vehicle type.\nTotal VMT by Roadway Class (2b): For each segment*, the daily volume is multiplied by segment distance and then summed across all segments within their respective geography and vehicle type.\nModel vs Count Segment Volume (2c): This is a scatter plot of segment daily volume with the x-axis as the observed volume and the y-axis as the model volume. The red line shows the location of where model and observed volumes are equal. The dashed blue line shows a least-squares linear regression. The further the blue line moved away from the red line, the further the model is from observed.\nSegment Percent Error (2d): This is a scatter plot showing the amount of error (percent difference) between the observed volume and the model volume. The observed volume is the x-axis and the percent error is the y-axis. The red lines are a bounding box that shows the control target. As volume increases, it is expected that the percent error should decrease.\n\n\n\nCode\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\n\n\nCode\nviewof bCountySelect = Inputs.select(new Map([['Region', 'Region'], ['Box Elder County - WFRC',3], ['Weber County - WFRC',57], ['Davis County',11], ['Salt Lake County',35], ['Utah County',49]]), {value: 'All', label: \"Geography:\"})\nviewof bVehType = Inputs.select(new Map([['All Vehicles','All Vehicles'], ['Passenger Cars', 'Passenger Cars'], ['Medium Trucks','Medium Trucks'], ['Heavy Trucks','Heavy Trucks']]), {value: 'All Vehicles', label: \"Vehicle Type:\"})\n\nsortOrder = ['Freeway', 'Principal', 'Minor', 'Collector', 'All Roadways'];\n\nvolT = transpose(vol)\nvmtT = transpose(vmt)\nfiltered_volData = volT.filter(function(dataL) {\n    return bCountySelect == dataL.coFips &&\n           bVehType == dataL.vehType;\n}).sort((a, b) =&gt; sortOrder.indexOf(a.funcClass) - sortOrder.indexOf(b.funcClass));\nfiltered_vmtData = vmtT.filter(function(dataL){\n    return bCountySelect == dataL.coFips &&\n           bVehType == dataL.vehType;\n}).sort((a, b) =&gt; sortOrder.indexOf(a.funcClass) - sortOrder.indexOf(b.funcClass));\n\nvolTL = transpose(volLong)\nvmtTL = transpose(vmtLong)\nfiltered_volDataL = volTL.filter(function(dataL) {\n    return bCountySelect == dataL.coFips &&\n           bVehType == dataL.vehType;\n}).sort((a, b) =&gt; sortOrder.indexOf(a.funcClass) - sortOrder.indexOf(b.funcClass));\nfiltered_vmtDataL = vmtTL.filter(function(dataL){\n    return bCountySelect == dataL.coFips &&\n           bVehType == dataL.vehType;\n}).sort((a, b) =&gt; sortOrder.indexOf(a.funcClass) - sortOrder.indexOf(b.funcClass));\n\n\nallvehplotT = transpose(allvehplot)\nfiltered_allvehplotData = allvehplotT.filter(function(dataL) {\n    return bCountySelect == dataL.coFips &&\n           bVehType == dataL.vehType;\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nfunction formatNumber(value, isPercentage=false) {\n    if (typeof value === 'undefined') {\n        return '';  // or return a default value or message\n    }\n    \n    if (isPercentage) {\n        return (Number(value) * 100).toFixed(1) + '%';\n    }\n    return Number(value.toFixed(0)).toLocaleString();\n}\n\nwidthsVol = ['100px', '52px', '70px', '70px', '73px', '73px', '63px', '63px']; // Define the widths\nwidthsVmt = ['100px', '88px', '88px', '88px', '88px'];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;h4&gt;2a. Average Daily Volume by Roadway Class&lt;/h4&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        ${[\"Roadway Class\", \"# Segs\", \"Volume\", \"Observed\", \"Difference\", \"Percent Difference\", \"RMSE\", \"Percent RMSE\"].map((d, i) =&gt; {\n            return html`&lt;th style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; width: ${widthsVol[i]};'&gt;${d}&lt;/th&gt;`;\n        })}\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        ${filtered_volData.map(row =&gt; {\n            const isBold = row['funcClass'] === 'All Roadways';\n            return html`&lt;tr style='border-bottom: 1px solid lightgrey;'&gt;\n                ${[\"funcClass\", \"numSegs\", \"volMod\", \"volObs\", \"volDiff\", \"volDiffPct\", \"volRmse\", \"volRmsePct\"].map((d, i) =&gt; {\n                    // Check if the current cell is one of the numeric columns that need formatting\n                    let formattedValue;\n                    if (i === 5 || i === 7) {\n                        formattedValue = formatNumber(row[d], true);  // True for percentage formatting\n                    } else if ((i &gt;= 1 && i &lt;= 4) || i==6) {\n                        formattedValue = formatNumber(row[d]);\n                    } else {\n                        formattedValue = row[d];\n                    }\n                    return html`&lt;td style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; font-weight: ${isBold ? 'bold' : 'normal'};'&gt;${formattedValue}&lt;/td&gt;`;\n                })}\n            &lt;/tr&gt;`;\n        })}\n    &lt;/tbody&gt;\n&lt;/table&gt;`\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;h4&gt;&nbsp;&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nkeyVol = Legend(bChartVol.scales.color, {title: \"Data Source\"})\n\nbChartVol = GroupedBarChart(filtered_volDataL, {\n    x: d =&gt; d.funcClass,\n    y: d =&gt; d.ViewValue,\n    z: d =&gt; d.DataSource,\n    xDomain: ['Freeway','Principal','Minor','Collector','All Roadways'],\n    yLabel: \"Volume (thousands)\",\n    zDomain: ['Model','Observed'],\n    width: 320,\n    height: 175,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;h4&gt;2b. Total Daily VMT by Roadway Class&lt;/h4&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        ${[\"Roadway Class\", \"Model\", \"Observed\", \"Difference\", \"Percent Difference\"].map((d, i) =&gt; {\n            return html`&lt;th style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; width: ${widthsVmt[i]};'&gt;${d}&lt;/th&gt;`;\n        })}\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        ${filtered_vmtData.map(row =&gt; {\n            const isBold = row['funcClass'] === 'All Roadways';\n            return html`&lt;tr style='border-bottom: 1px solid lightgrey;'&gt;\n                ${[\"funcClass\", \"vmtMod\", \"vmtObs\", \"vmtDiff\", \"vmtDiffPct\"].map((d, i) =&gt; {\n                    // Check if the current cell is one of the numeric columns that need formatting\n                    let formattedValue;\n                    if (i === 4 || i === 6) {\n                        formattedValue = formatNumber(row[d], true);  // True for percentage formatting\n                    } else if ((i &gt;= 1 && i &lt;= 3) || i==5) {\n                        formattedValue = formatNumber(row[d]);\n                    } else {\n                        formattedValue = row[d];\n                    }\n                    return html`&lt;td style='text-align: ${i === 0 ? \"left\" : \"right\"}; padding: 5px; font-weight: ${isBold ? 'bold' : 'normal'};'&gt;${formattedValue}&lt;/td&gt;`;\n                })}\n            &lt;/tr&gt;`;\n        })}\n    &lt;/tbody&gt;\n&lt;/table&gt;`\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;h4&gt;&nbsp;&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nkeyVmt = Legend(bChartVmt.scales.color, {title: \"Data Source\"})\n\nbChartVmt = GroupedBarChart(filtered_vmtDataL, {\n    x: d =&gt; d.funcClass,\n    y: d =&gt; d.ViewValue,\n    z: d =&gt; d.DataSource,\n    xDomain: ['Freeway','Principal','Minor','Collector','All Roadways'],\n    yLabel: \"VMT (millions)\",\n    zDomain: ['Model','Observed'],\n    width: 320,\n    height: 175,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport {max} from 'd3-array';\n\n\n\n\n\n\n\n\n\nCode\nmaxVal = {\n  return Math.max(\n    d3.max(filtered_allvehplotData, d =&gt; d.volObs),\n    d3.max(filtered_allvehplotData, d =&gt; d.volMod)\n  );\n}\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;h4&gt;2c. Model vs Observed Volumes&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  width: 460,\n  height: 300,\n  marginRight: 40,\n  x: {\n    label: \"Observed Volume (thousands)\",\n    domain: [0, maxVal]\n  },\n  y: {\n    label: \"Model Volume (thousands)\",\n    domain: [0, maxVal]\n  },\n  marks: [\n    Plot.dot(filtered_allvehplotData, {\n      x: \"volObs\",\n      y: \"volMod\",\n      r: 1,\n      fill: \"rgb(80, 116, 230)\",\n      fillOpacity: 0.5,\n      stroke: \"none\"\n    }),\n    Plot.link([0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4], {\n      x1: 0,\n      y1: 0,\n      x2: maxVal,\n      y2: (k) =&gt; maxVal * k,\n      strokeOpacity: (k) =&gt; k === 1 ? 1 : 0.2,\n      stroke: \"red\",\n      strokeWidth: (k) =&gt; k === 1 ? 2 : 1.5\n    }),\n    Plot.text([0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4], {\n      x: maxVal,\n      y: (k) =&gt; maxVal * k,\n      text: ((f) =&gt; (k) =&gt; k === 1 ? \"Equal\" : f(k - 1))(d3.format(\"+.0%\")),\n      textAnchor: \"start\",\n      dx: 6\n    }),\n    Plot.linearRegressionY(filtered_allvehplotData, {\n        x: \"volObs\",\n        y: \"volMod\",\n        stroke: \"rgb(80, 116, 230)\",\n        strokeDasharray: \"4 4\",  // This creates a dashed line pattern,\n        strokeWidth: 2 \n    })\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;h4&gt;2d. Segment Percent Error&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  width: 460,\n  height: 300,\n  marginRight: 40,\n  x: {\n    label: \"Observed Volume (thousands)\",\n    domain: [0, maxVal]\n  },\n  y: {\n    label: \"Percent Error\",\n    domain: [-2, 2],\n    tickFormat: d3.format(\".0%\")\n  },\n  marks: [\n    Plot.dot(filtered_allvehplotData, {\n      x: \"volObs\",\n      y: \"volErrorPct\",\n      r: 1,\n      fill: \"rgb(80, 116, 230)\",\n      fillOpacity: 0.5,\n      stroke: \"none\"\n    }),\n    Plot.ruleY([2], {\n      x1: 0,\n      x2: 1,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([1], {\n      y1: 1,\n      y2: 2,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([1], {\n      x1: 1,\n      x2: 2.5,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([2.5], {\n      y1: 0.5,\n      y2: 1.0,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([0.5], {\n      x1: 2.5,\n      x2: 5,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([5], {\n      y1: 0.25,\n      y2: 0.50,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([0.25], {\n      x1: 5,\n      x2: 10,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([10], {\n      y1: 0.20,\n      y2: 0.25,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([0.20], {\n      x1: 10,\n      x2: 25,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([25], {\n      y1: 0.15,\n      y2: 0.20,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([0.15], {\n      x1: 25,\n      x2: 50,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([50], {\n      y1: 0.10,\n      y2: 0.15,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([0.10], {\n      x1: 50,\n      x2: 300,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-2], {\n      x1: 0,\n      x2: 1,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([1], {\n      y1: -1,\n      y2: -2,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-1], {\n      x1: 1,\n      x2: 2.5,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([2.5], {\n      y1: -0.5,\n      y2: -1.0,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-0.5], {\n      x1: 2.5,\n      x2: 5,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([5], {\n      y1: -0.25,\n      y2: -0.50,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-0.25], {\n      x1: 5,\n      x2: 10,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([10], {\n      y1: -0.20,\n      y2: -0.25,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-0.20], {\n      x1: 10,\n      x2: 25,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([25], {\n      y1: -0.15,\n      y2: -0.20,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-0.15], {\n      x1: 25,\n      x2: 50,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleX([50], {\n      y1: -0.10,\n      y2: -0.15,\n      stroke: \"red\",\n      strokeWidth: 2\n    }),\n    Plot.ruleY([-0.10], {\n      x1: 50,\n      x2: 300,\n      stroke: \"red\",\n      strokeWidth: 2\n    })\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ntbEmptyCell2 = 1\n\n\n\n\n\n\nFigure 2: Detailed Model vs Observed Comparison of Highway Assignment\n\n\n\n\n\nMap Comparison\nThe maps in Figure 3 shows a comparison of segment level model vs observed volumes by vehicle types. Blue represents model lower than observed and red represent model volume higher than observed.\n\n\n\nFigure 3: Segment-Level Model vs Observed Volume Comparison by Vehicle Type\n\n\nLooking at the All Vehicles map, the model volumes are lower than observed for by more than 15,000 vehicles per day for the east side of I-215 and for I-15 through northern Utah County. Model volumes are higher than observed volumes by more than than 15,000 vehicles for I-15 in southern Salt lake County and for I-15 in Utah County between Springville and Spanish Fork. When looking at these areas by vehicle type, the drop in Cars and Light Trucks are actual greater since the Medium Trucks and Heavy Trucks in these areas are greater in the model vs observed. Outside of these areas, the volume differences between model and observed are relatively minor.\nThe lower arterial model vs observed volumes of Heavy Trucks on 9000 South in Salt Lake County was further investigated. The Heavy Truck observed volume for this roadway seemed much higher than expected for this roadway. The lower volumes are likely due to the observed data and not anything in the model."
  },
  {
    "objectID": "v9x/v900/validation/5-assignhwy.html#speeds",
    "href": "v9x/v900/validation/5-assignhwy.html#speeds",
    "title": "Highway Assignment",
    "section": "Speeds",
    "text": "Speeds\nComparisons were made between model and observed for a sample of OD pairs. Observed speeds come from sampled data at various time periods in 2019 for the WFRC area using the Google API for reported travel times between coordinates for an origin and destination. Model speeds come from the final network skims that report travel times between all TAZs in the model for each period of the day. The two data sets were joined using a coordinate to TAZ spatial join to locate Google end points to match their respective TAZ.\n\n\n\n\n\n\n\nCode\nhtml`&lt;br/&gt;`\n\n\n\n\n\n\n\n\n\nCode\nviewof vPeriod = Inputs.select(new Map([['AM','AM'], ['Midday','MD'], ['PM','PM'], ['Evening', 'EV']]), {value: 'AM', label: \"Period:\"})\n\nspeedT = transpose(speed)\n\nspeedT_filtered = speedT.filter(function(dataSpd) {\n    return vPeriod == dataSpd.Period;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`&lt;h4&gt;Model vs Observed Speeds&lt;/h4&gt;`\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  width: 460,\n  height: 300,\n  marginRight: 40,\n  x: {\n    label: \"Observed Speed (mph)\",\n    domain: [0, 70]\n  },\n  y: {\n    label: \"Model Speed (mph)\",\n    domain: [0, 70]\n  },\n  marks: [\n    Plot.dot(speedT_filtered, {\n      x: \"spdObs\",\n      y: \"spdMod\",\n      r: 1,\n      fill: \"rgb(80, 116, 230)\",\n      fillOpacity: 0.5,\n      stroke: \"none\"\n    }),\n    Plot.linearRegressionY(speedT_filtered, {\n        x: \"spdObs\",\n        y: \"spdMod\",\n        stroke: \"rgb(80, 116, 230)\",\n        strokeDasharray: \"4 4\",  // This creates a dashed line pattern,\n        strokeWidth: 2 \n    })\n  ]\n})\n\n\n\n\n\n\n\n\n\n:::"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html",
    "href": "v9x/v900/whats-new/1-genparams.html",
    "title": "General Parameters",
    "section": "",
    "text": "Changes made to the 0_GeneralParameters.block file are discussed in this section."
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#zone-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#zone-parameters",
    "title": "General Parameters",
    "section": "Zone Parameters",
    "text": "Zone Parameters\nThe TAZ and highway node schema was changed as a result of the version 9 TAZ splits. The following parameters were updated to reflect these changes.\n\nTAZ\n\n\n\n\n\n\n\n\n\nTable 1: Renumbered TAZ Ranges\n\n\n\n\n\n\n\n\nParameter\nv9 Value\nv8 Value\nNotes\n\n\n\n\nUsedZones\n3629\n2881\nHighest TAZ number used by model\n\n\nBoxElderRange\n1-153\n1-140\nBox Elder County Range\n\n\nWeberRange\n154-581\n141-423\nWeber County Range\n\n\nDavisRange\n582-905\n424-654\nDavis County Range\n\n\nSLRange\n906-2216\n655-1788\nSalt Lake County Range\n\n\nUtahRange\n2217-3546\n1789-2881\nUtah County Range\n\n\nDummyzones\n3547-3600\n2882-3400\nPlaceholder for future TAZ splits\n\n\nExternalzones\n3601-3629\n136-140, 421-423, 1782-1788, 2874-2881\nExternal zones\n\n\nNorthBC\n3604-3606\n138, 139, 140\nNorth Brigham City external zones\n\n\n\n\n\n\n\n\nThe following TAZ parameters ranges were removed from the general parameters file as they were not being used in the WF TDM:\n\nRegionRange\nWFRCRange\nMAGRange\n\n\n\nHighway Nodes\n\n\n\n\n\n\n\n\n\n\n\nTable 2: Renumbered Highway Nodes\n\n\nParameter\nv9 Value\nv8 Value\nNotes\n\n\n\n\nHwyNodes\n10000-99999\n3401-999999\nHighway and transit node range\n\n\n\n\n\n\n\n\n\n\nCollege Zones\nWhere noted, several colleges were effectively discontinued, meaning references to these schools are still in the code base, but enrollment was set to zero.\n\n\n\n\n\n\n\n\n\nTable 3: Renumbered College Zones\n\n\n\n\n\n\n\n\n\nArea\nParameter\nv9 Value\nv8 Value\nNotes\n\n\n\n\nWFRC Colleges\nEnsign (was LDSBC)\n1029\n950\nEnsign College\n\n\n\nWestmin\n1263\n1150\nWestminster College\n\n\n\nUOFU_Main\n1051\n1075\nUniversity of Utah - Main\n\n\n\nUOFU_Med\n1007\n1076\nUniversity of Utah - Medical (removed)\n\n\n\nWSU_Main (was WSU_OGDEN)\n437\n383\nWeber State University - Main\n\n\n\nWSU_Davis\n693\n525\nWeber State University - Davis\n\n\n\nWSU_West\n521\n290\nWeber State University - West (removed)\n\n\n\nSLCC_Main (was SLCC_TL)\n1580\n897\nSalt Lake Community College - Main\n\n\n\nSLCC_SC\n1231\n1126\nSalt Lake Community College - South City\n\n\n\nSLCC_JD\n1776\n1493\nSalt Lake Community College - Jordan\n\n\n\nSLCC_Mead\n\n1206\nSalt Lake Community College - Meadbrook (removed)\n\n\n\nSLCC_ML\n1886\n1516\nSalt Lake Community College - Miller\n\n\n\nSLCC_LB\n1085\n989\nSalt Lake Community College - Library (removed)\n\n\n\nSLCC_HL\n1525\n1294\nSalt Lake Community College - Highland (removed)\n\n\n\nSLCC_Airp\n979\n746\nSalt Lake Community College - Airport (removed)\n\n\n\nSLCC_West\n959\n745\nSalt Lake Community College - Westpointe (removed)\n\n\n\nSLCC_HM\n2031\n1607\nSalt Lake Community College - Herriman (removed)\n\n\nMAG Colleges\nBYU\n2939\n2384\nBrigham Young University - Main\n\n\n\nUVU_Main\n2848\n2326\nUtah Valley University - Main\n\n\n\nUVU_Geneva\n2882\n2280\nUtah Valley University - Geneva (removed)\n\n\n\nUVU_Lehi (was UVU_THANKP)\n2606\n2099\nUtah Valley University - Lehi\n\n\n\nUVU_Vine\n2809\n2259\nUtah Valley University - Vineyard\n\n\n\nUVU_Payson\n3336\n2690\nUtah Valley University - Payson\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 4: Renumbered College Zones (continued)\n\n\n\n\n\n\n\nParameter\nv9 Value\nv8 Value\n\n\n\n\ncolleges\n437, 521, 693, 959, 979, 1007, 1029, 1051, 1085, 1231, 1263, 1491, 1525, 1580, 1776, 1886, 2031, 2606, 2809, 2848, 2882, 2939, 3336\n290, 383, 525, 897, 950, 989, 1075, 1076, 1126, 1150, 1294, 1493, 1516, 1607, 2099, 2259, 2280, 2326, 2384, 2690\n\n\n\n\n\n\n\n\n\n\nZones with Off-line Trip Tables\n\n\n\n\n\n\n\n\n\n\n\nTable 5: Renumbered Off-line Trip Table Zones\n\n\nParameter\nv9 Value\nv8 Value\n\n\n\n\nLagoon\n781\n562\n\n\nAirport\n965\n742\n\n\n\n\n\n\n\n\n\n\nSpecial Generator Zones\n\n\n\n\n\n\n\n\n\n\n\nTable 6: Renumbered Special Generator Zones\n\n\nParameter\nv9 Value\nv8 Value\n\n\n\n\nTempleSquare\n1035\n966\n\n\nSLC_Library\n1147\n1015"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#exogenous-trip-table-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#exogenous-trip-table-parameters",
    "title": "General Parameters",
    "section": "Exogenous Trip Table Parameters",
    "text": "Exogenous Trip Table Parameters\nIncome break points for the airport exogenous trip table generation were updated to reflect 2019 base year income.\n\n\n\n\n\n\n\n\n\n\n\nTable 7: Income Break Points for Airport Exogenous Trip Table Generation\n\n\nParameter\nv9 Value\nv8 Value\nNotes\n\n\n\n\nIncome_Lo\n$45,000\n$35,000\nbreakpoint between Inc1 & Inc2\n\n\nIncome_Md\n$75,000\n$70,000\nbreakpoint between Inc2 & Inc3\n\n\nIncome_Hi\n$125,000\n$100,000\nbreakpoint between Inc3 & Inc4"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#household-disaggregation-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#household-disaggregation-parameters",
    "title": "General Parameters",
    "section": "Household Disaggregation Parameters",
    "text": "Household Disaggregation Parameters\nThe regional median income was updated using 2019 5-year ACS data and kept in 2019 dollars to reflect 2019 base year. Note, the version 8 value was estimated from 2015 ACS data and deflated to 2010 dollars.\n\n\n\n\n\n\n\n\n\n\n\nTable 8: Household Disaggregation Parameter Income Update\n\n\nParameter\nv9 Value\nv8 Value\n\n\n\n\nReg_Median_Inc\n$74,946\n$58,793"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#distribution-mode-choice-and-assignment-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#distribution-mode-choice-and-assignment-parameters",
    "title": "General Parameters",
    "section": "Distribution, Mode Choice, and Assignment Parameters",
    "text": "Distribution, Mode Choice, and Assignment Parameters\n\nK-Factors\nK-factor variables were expanded by trip purpose to allow for more flexibility in calibrating the distribution model. However, no K-factors were needed for calibration. All K-factors were reset to 1.\n\n\n\n\n\n\n\n\n\nTable 9: Reset K-Factors\n\n\n\n\n\n\n\n\n\nArea\nv9 Parameter\nv9 Value\nv8 Parameter\nv8 Value\n\n\n\n\nbetween Salt Lake and Utah counties\nSL_UT_KFAC_Wrk\n1\nSL_UT_KFAC\n0.85\n\n\n\nSL_UT_KFAC_Oth\n1\n\n\n\n\n\nSL_UT_KFAC_Trk\n1\n\n\n\n\n\nSL_UT_KFAC_Ext\n1\n\n\n\n\nbetween Salt Lake and Davis counties\nSL_DA_KFAC_Wrk\n1\nSL_DA_KFAC\n0.95\n\n\n\nSL_DA_KFAC_Oth\n1\n\n\n\n\n\nSL_DA_KFAC_Trk\n1\n\n\n\n\n\nSL_DA_KFAC_Ext\n1\n\n\n\n\nbetween Box Elder and Weber counties\nWE_BE_KFAC_Wrk\n1\nWE_BE_KFAC\n1.00\n\n\n\nWE_BE_KFAC_Oth\n1\n\n\n\n\n\nWE_BE_KFAC_Trk\n1\n\n\n\n\n\nWE_BE_KFAC_Ext\n1\n\n\n\n\n\n\n\n\n\n\n\n\nAuto Occupancy\nAuto or vehicle occupancy variables were expanded to include additional trips purposes. New auto-occupancy rates were calculated based on the reprocessed 2012 Household Travel Survey. Values represent average persons per vehicle for just the Wasatch Front model space. External auto-occupancy rates represent the average of internal-external and external-internal trips.\n\n\n\n\n\n\n\n\n\nTable 10: Vehicle Occupancy Rates\n\n\n\n\n\n\n\n\n\nv9 Parameter\nv9 Value\nv8 Parameter\nv8 Value\nNotes\n\n\n\n\nVehOcc_HBW\n1.1\nVEH_OCCUPANCY_HBW\n1.1\nHome-Based Work\n\n\nVehOcc_HBShp\n1.63\nVEH_OCCUPANCY_HBSHP\n1.58\nHome-Based Shopping\n\n\nVehOcc_HBOth\n1.68\nVEH_OCCUPANCY_HBOTH\n1.66\nHome-Based Other\n\n\nVehOcc_HBSch\n1.76\nVEH_OCCUPANCY_HBSCH\n2.14\nHome-Based School\n\n\nVehOcc_HBC\n1.12\nVEH_OCCUPANCY_HBC\n1.26\nHome-Based College\n\n\nVehOcc_NHBW\n1.21\nVEH_OCCUPANCY_NHBW\n1.2\nNon-Home-Based Work\n\n\nVehOcc_NHBNW\n1.76\nVEH_OCCUPANCY_NHBNW\n1.7\nNon-Home-Based Non-Work\n\n\nVehOcc_Rec\n1.68\n(Uses HBO)\n1.64\nRecreation\n\n\nVehOcc_HBO\n1.67\nVEH_OCCUPANCY_HBO\n1.64\nHome-Based Other (HBShp+HBOth)\n\n\nVehOcc_NHB\n1.54\nVEH_OCCUPANCY_NHB\n1.48\nNon-Home-Based (NHBW+NHBNW)\n\n\nVehOcc_ExtWrk\n1.16\n(Uses HBW)\n1.1\nExternal Work\n\n\nVehOcc_ExtHBO\n1.82\n(Uses HBO)\n1.64\nExternal Home-Based Other\n\n\nVehOcc_ExtNHB\n1.73\n(Uses NHB)\n1.48\nNon-Home-Based\n\n\nVehOcc_ExtRec\n1.73\n(Uses HBO)\n1.64\nExternal Recreation\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 11: Vehicle Occupancy 3+ Rates\n\n\n\n\n\n\n\n\n\nv9 Parameter\nv9 Value\nv8 Parameter\nv8 Value\nNotes\n\n\n\n\nVehOcc_3p_HBW\n3.53\nVEH_OCC_3P_HBW\n3.4\n3+ Person Home-Based Work\n\n\nVehOcc_3p_HBShp\n3.49\n(Uses HBO)\n3.55\n3+ Person Home-Based Shopping\n\n\nVehOcc_3p_HBOth\n3.73\n(Uses HBO)\n3.55\n3+ Person Home-Based Other\n\n\nVehOcc_3p_HBSch\n3.88\n(Uses HBO)\n3.55\n3+ Person Home-Based School\n\n\nVehOcc_3p_HBC\n3.24\nVEH_OCC_3P_HBC\n3.53\n3+ Person Home-Based College\n\n\nVehOcc_3p_NHBW\n3.71\n(Uses NHB)\n3.51\n3+ Person Non-Home-Based Work\n\n\nVehOcc_3p_NHBNW\n3.71\n(Uses NHB)\n3.51\n3+ Person Non-Home-Based Non-Work\n\n\nVehOcc_3p_Rec\n3.73\n(Uses HBO)\n3.55\n3+ Person Recreation\n\n\nVehOcc_3p_HBO\n3.68\nVEH_OCC_3P_HBO\n3.55\n3+ Person Home-Based Other (HBShp+HBOth)\n\n\nVehOcc_3p_NHB\n3.71\nVEH_OCC_3P_NHB\n3.51\n3+ Person Non-Home-Based (NHBW+NHBNW)\n\n\n\n\n\n\n\n\n\n\nValue of Time\nValue of time parameters were updated using 2019 5-year ACS data and previous model assumptions and are in 2019 dollars. Version 8 parameters were calibrated to 2015 ACS data and deflated to 2010 dollars. Values of time are in cents/minute.\n\n\n\n\n\n\n\n\n\nTable 12: Value of Time Rates\n\n\n\n\n\n\n\n\n\nv9 Parameter\nv9 Value\nv8 Parameter\nv8 Value\nNotes\n\n\n\n\nVOT_Auto_Wrk\n22\nVOT_Auto_Wrk\n18\nwork trips (HBW)\n\n\nVOT_Auto_Per\n17\nVOT_Auto_Per\n14\nnon-work trips\n\n\nVOT_Auto_Ext\n20\nVOT_Auto_Ext\n16\nexternal\n\n\nVOT_LT\n37\nVOT_LT\n30\nlight truck\n\n\nVOT_MD\n50\nVOT_MD\n40\nmedium truck\n\n\nVOT_HV\n63\nVOT_HV\n50\nheavy truck\n\n\nVOT_Toll\n63\nVOT_Toll\n50\nall vehicles on tollway\n\n\nVOT_HOT_DA\n63\nVOT_HOT_DA\n50\ndrive alone on HOT\n\n\nVOT_Auto_Wrk_Lo\n9\n\n\nwork trips - low income (added)\n\n\nVOT_Auto_Wrk_Hi\n24\n\n\nwork trips - high income (added)\n\n\nVOT_Auto_Per_Lo\n7\n\n\nnon-work trips - loc income (added)\n\n\nVOT_Auto_Per_Hi\n19\n\n\nnon-work trips - high income (added)\n\n\n\n\n\n\n\n\n\n\nAuto Operating Costs\nAuto operating costs were updated to reflect 2019 fuel cost, average fuel economy, and cost of vehicle maintenance and are in 2019 dollars. Version 8 parameters were calibrated to 2015 data and deflated to 2010 dollars. Costs are in cents/mile.\n\n\n\n\n\n\n\n\n\n\n\nTable 13: Auto Operating Cost Rates\n\n\nParameter\nv9 Value\nv8 Value\nNotes\n\n\n\n\nAOC_Auto\n21.7\n18.3\nauto\n\n\nAOC_LT\n27.3\n24.6\nlight truck\n\n\nAOC_MD\n55.5\n47.8\nmedium truck\n\n\nAOC_HV\n74.3\n63.7\nheavy truck\n\n\n\n\n\n\n\n\n\n\nManaged Lane Costs\nTolls for tollways (FT=40) were updated to reflect approximately a $5.00 toll for work trips and a $3.00 toll for non-work trips. Tolls for HOT (FT=38) and reliability lanes were updated to reflect approximately a $3.50 toll for work trips and $2.20 for non-work trips. Distances of 10.25 miles (length of average work trip) and 6.5 miles (average length of all trips) were used to determine the work/non-work toll costs in cents per mile. Version 9 tolls are in 2019 dollars. Toll costs for version 8 are in 2010 dollars.\n\n\n\n\n\n\n\n\n\n\n\nTable 14: Managed Lane Cost Rates\n\n\nParameter\nv9 Value\nv8 Value\nNotes\n\n\n\n\nCost_Toll_Pk\n48\n24\nTollways (FT 40) cost - Peak\n\n\nCost_Toll_Ok\n48\n24\nTollways (FT 40) cost - Off-peak\n\n\nCost_HOT_Pk\n34\n10\nHOT (FT 38) cost - Peak\n\n\nCost_HOT_Ok\n17\n5\nHOT (FT 38) cost - Off-peak\n\n\nCost_REL_Pk\n34\n10\nReliability lane cost - Peak\n\n\nCost_REL_Ok\n17\n5\nReliability lane cost - Off-peak\n\n\n\n\n\n\n\n\n\n\nCore Bus Constant Multiplier\nThe parameter used to set the Core Bus constant was renamed and updated.\n\n\n\n\n\n\n\n\n\nTable 15: Core Bus Constant Multiplier\n\n\n\n\n\n\n\n\n\nv9 Parameter\nv9 Value\nv8 Parameter\nv8 Value\nNotes\n\n\n\n\nRAIL2COR_MULTIPLIER\n0.33\nRAIL2BRT_MULTIPLIER\n0.4\nfactor to set Core Route constant relative to LRT constant\n\n\n\n\n\n\n\n\n\n\nCRT Adjustment Factors\nThe following parameters were added to adjust CRT ridership for Davis and Utah Counties. The parameters are applied in the mode choice utility calculation and represent a penalty/incentive in equivalent minutes.\n\nADJ_CONST_UT = 0 ;place holder\nADJ_CONST_CRT_UT = -5 ;encourge CRT in UT County\nADJ_CONST_CRT_DA = 5 ;discourage CRT in Davis County\nADJ_CONST_BRT = 0 ;place holder\n\n\n\nTransit Fare Discount Factor\nTransit fares (in the transit Input folder) were updated in version 9 to represent standard fares. In previous model versions, fares were coded as effective fares, which included discounts for transit passes and other discounts. Effective fares were estimated to be approximately 54% of the standard fare. A transit fare discounting parameter was added in version 9 to adjust standard transit fares back to effective transit fares. Transit fares are in version 9 are in 2019 dollars.\n\nFARE_DISCOUNT = 0.54"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#removed-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#removed-parameters",
    "title": "General Parameters",
    "section": "Removed Parameters",
    "text": "Removed Parameters\nThe following parameters were removed from the 0_GeneralParameters.block file.\n\nCounty Identification Parameters\nThe following county identification parameters are no longer used in version 9 and were removed:\n\nCountyRange = ‘1-5’\nCountyName1 = ‘Weber’\nCountyName2 = ‘Davis’\nCountyName3 = ‘SaltLake’\nCountyName4 = ‘Utah’\nCountyName5 = ‘BoxElder’\nCO_Name1 = ‘WE’\nCO_Name2 = ‘DA’\nCO_Name3 = ‘SL’\nCO_Name4 = ‘UT’\nCO_Name5 = ‘BE’\n\n\n\nAir Quality Conformity Report Parameters\nThe following air quality conformity reporting parameters are no longer used in version 9 and were removed:\n\nRE_ID = 0 ;Entire region\nWE_ID = 1 ;Weber\nDA_ID = 2 ;Davis\nSL_ID = 3 ;Salt Lake\nUT_ID = 4 ;Utah\nBE_ID = 5 ;BoxElder\nOC_ID = 55980 ;Ogden\nSC_ID = 67000 ;Salt Lake City\nPC_ID = 62470 ;Provo\n\n\n\nBus Speed Ratios\nBus speed ratio parameters in version 9 are read in via an input file (see section 3.1 of this report for more information). As such, the following bus speed ratio parameters were removed from the 0_GeneralParameters.block file:\n\nratio_fway = 0.95 ;bus speed to auto speed - freeways\nratio_ramp = 0.75 ;bus speed to auto speed - freeway ramps\nratio_part = 0.60 ;bus speed to auto speed - principal arterials\nratio_mart_urbcbd = 0.55 ;bus speed to auto speed - minor arterials, urban/cbd\nratio_mart_subrur = 0.65 ;bus speed to auto speed - minor arterials, suburban/rural\nratio_collector = 0.60 ;bus speed to auto speed - collectors\nminimum_bus_speed = 10.0 ;mph\n\n\n\nPrefixes for Transit Skims\nPrefixes to identify transit skim output files are coded directly into the scripts in version 9. The following transit skim prefix parameters were removed from the 0_GeneralParameters.block file:\n\nW_LCL_skims = ‘skm_w4’ ;walk-to-local skims\nD_LCL_skims = ‘skm_d4’ ;drive-to-local skims\nW_BRT_skims = ‘skm_w5’ ;walk-to-BRT skims\nD_BRT_skims = ‘skm_d5’ ;drive-to-BRT skims\nW_EXP_skims = ‘skm_w6’ ;walk-to-express bus skims\nD_EXP_skims = ‘skm_d6’ ;drive-to-express bus skims\nW_LRT_skims = ‘skm_w7’ ;walk-to-light rail skims\nD_LRT_skims = ‘skm_d7’ ;drive-to-light rail skims\nW_CRT_skims = ‘skm_w8’ ;walk-to-commuter rail skims\nD_CRT_skims = ‘skm_d8’ ;drive-to-commuter rail skims\nW_mode9_skims = ‘skm_w9’\nD_mode9_skims = ‘skm_d9’\n\n\n\nDiurnal Factors\nDDiurnal factor parameters in version 9 are read in via an input file (see section 3.1 of this report for more information). As such, the following diurnal factor parameters were removed from the 0_GeneralParameters.block file:\n% of trips in period\n\n\nHBW_AM_Pct = 0.3254\nHBW_MD_Pct = 0.1831\nHBW_PM_Pct = 0.3074\nHBW_EV_Pct = 0.1841\nHBC_AM_Pct = 0.2592\nHBC_MD_Pct = 0.3374\nHBC_PM_Pct = 0.1853\nHBC_EV_Pct = 0.2181\nHBSch_AM_Pct = 0.3784\nHBSch_MD_Pct = 0.2931\nHBSch_PM_Pct = 0.2941\nHBSch_EV_Pct = 0.0344\nHBShp_AM_Pct = 0.0192\nHBShp_MD_Pct = 0.4391\nHBShp_PM_Pct = 0.2496\nHBShp_EV_Pct = 0.2921\nHBOth_AM_Pct = 0.0997\nHBOth_MD_Pct = 0.3129\nHBOth_PM_Pct = 0.2367\nHBOth_EV_Pct = 0.3507\nNHBW_AM_Pct = 0.0697\nNHBW_MD_Pct = 0.5582\nNHBW_PM_Pct = 0.2597\nNHBW_EV_Pct = 0.1124\nNHBNW_AM_Pct = 0.0498\nNHBNW_MD_Pct = 0.4752\nNHBNW_PM_Pct = 0.2426\nNHBNW_EV_Pct = 0.2324\nIX_AM_Pct = 0.1786\nIX_MD_Pct = 0.3291\nIX_PM_Pct = 0.2604\nIX_EV_Pct = 0.2319\nXI_AM_Pct = 0.1786\nXI_MD_Pct = 0.3291\nXI_PM_Pct = 0.2604\nXI_EV_Pct = 0.2319\nXX_AM_Pct = 0.1786\nXX_MD_Pct = 0.3291\nXX_PM_Pct = 0.2604\nXX_EV_Pct = 0.2319\nTR_AM_Pct = 0.1590\nTR_MD_Pct = 0.3522\nTR_PM_Pct = 0.2274\nTR_EV_Pct = 0.2614\n\nHBO_AM_Pct = 0.0840\nHBO_MD_Pct = 0.3383\nHBO_PM_Pct = 0.2401\nHBO_EV_Pct = 0.3376\nNHB_AM_Pct = 0.0563\nNHB_MD_Pct = 0.5024\nNHB_PM_Pct = 0.2482\nNHB_EV_Pct = 0.1931\n\n% of trips in PA direction\n\n\nHBW_AM_PA = 0.9706\nHBW_MD_PA = 0.5690\nHBW_PM_PA = 0.0871\nHBW_EV_PA = 0.2891\nHBC_AM_PA = 0.9828\nHBC_MD_PA = 0.5259\nHBC_PM_PA = 0.2420\nHBC_EV_PA = 0.1057\nHBSch_AM_PA = 0.7899\nHBSch_MD_PA = 0.4306\nHBSch_PM_PA = 0.2268\nHBSch_EV_PA = 0.2391\nHBShp_AM_PA = 0.7826\nHBShp_MD_PA = 0.5615\nHBShp_PM_PA = 0.4604\nHBShp_EV_PA = 0.4228\nHBOth_AM_PA = 0.7147\nHBOth_MD_PA = 0.5517\nHBOth_PM_PA = 0.5181\nHBOth_EV_PA = 0.3806\nNHBW_AM_PA = 0.5000\nNHBW_MD_PA = 0.5000\nNHBW_PM_PA = 0.5000\nNHBW_EV_PA = 0.5000\nNHBNW_AM_PA = 0.5000\nNHBNW_MD_PA = 0.5000\nNHBNW_PM_PA = 0.5000\nNHBNW_EV_PA = 0.5000\nIX_AM_PA = 0.8563\nIX_MD_PA = 0.5627\nIX_PM_PA = 0.3288\nIX_EV_PA = 0.3290\nXI_AM_PA = 0.8563\nXI_MD_PA = 0.5627\nXI_PM_PA = 0.3288\nXI_EV_PA = 0.3290\nXX_AM_PA = 0.8563\nXX_MD_PA = 0.5627\nXX_PM_PA = 0.3288\nXX_EV_PA = 0.3290\nTR_AM_PA = 0.5000\nTR_MD_PA = 0.5000\nTR_PM_PA = 0.5000\nTR_EV_PA = 0.5000\nHBO_AM_PA = 0.7283\nHBO_MD_PA = 0.5495\nHBO_PM_PA = 0.5050\nHBo_EV_PA = 0.3901\nNHB_AM_PA = 0.5000\nNHB_MD_PA = 0.5000\nNHB_PM_PA = 0.5000\nNHB_EV_PA = 0.5000\n\n\n\nAssignment Type Flag\nThe assignment type parameter is no longer used in version 9 and was removed:\n\nAssignType = ‘managed’"
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html",
    "href": "v9x/v900/whats-new/10-modelresults.html",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "",
    "text": "This section compares the model results between v9 and v8.3.2 for roadway volumes and transit."
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html#road-volume-comparisons",
    "href": "v9x/v900/whats-new/10-modelresults.html#road-volume-comparisons",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "Road Volume Comparisons",
    "text": "Road Volume Comparisons\nThe comparison between daily volumes at the segment level can be found in Figure 1 for 2019 and 2050. Decreases in volume in v9 compared to v8.3.2 are shown in blue, while increases are shown in red.\nFor 2019, Salt Lake and northern Davis counties display a drop in roadway volumes, most apparent on I-15. Weber, southern Davis, and Utah Counties show increases. Most of the changes are relatively minor, with the largest decreases occurring on the freeways in Salt Lake County. However, given the large daily volume for these roadways, the percent change is relatively low.\nFor 2050, there are decreases in volumes on I-15 in Salt Lake and northern Davis counties. Weber and northern Davis counties show overall increase in roadway volumes. Utah County shows the most change with the two Utah Lake crossings not part of the 2050 fiscally constrained scenario. The resulting drop in volumes is evident with increases on I-15.\nThe comparison of daily medium and heavy truck volumes is found in Figure 2 for 2019 and 2050. Truck volumes decreased in the northwest portion of Salt Lake County.\n\nVolume Change - All VehiclesVolume Change - Truck\n\n\n\n\n\n\n\n\n\n(a) 2019\n\n\n\n\n\n\n\n(b) 2050 Fiscally Constrained\n\n\n\n\n\n\n\nFigure 1: Model Daily Volumes Comparison - All Vehicles (v9 vs v8.3.2)\n\n\n\n\n\n\n\n\n\n\n\n(a) 2019\n\n\n\n\n\n\n\n(b) 2050 Fiscally Constrained\n\n\n\n\n\n\n\nFigure 2: Model Daily Volumes Comparison - Trucks (v9 vs v8.3.2)"
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html#transit-comparisons",
    "href": "v9x/v900/whats-new/10-modelresults.html#transit-comparisons",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "Transit Comparisons",
    "text": "Transit Comparisons\nTransit comparisons were done with ridership, trips mode share, and boardings mode share. Overall ridership increases significantly in v9, and Core Bus ridership takes a larger share of trips and boardings than in v8.3.2.\n\nTransit Ridership\nTransit ridership in v9 compared to v8.3.2 shows significant increase in 2032, 2042, and 2050. See Figure 3. The total ridership in 2050 for v9 is 327,000 daily trips compared to the v8.3.2 model that showed 258,000 daily trips, which equates to 26% more trips. The additional trips is largely due to the improvements in commuter rail with increased frequency and speed together with the change in the model sensitivity to changes in headway.\nTransit ridership by modes are shown in the following set of figures. Light-Rail Transit sees an increase through 2028 and then a large decrease in 2032. This large decrease can be explained by the shift of riders from Light Rail to Core Bus routes, with a large number of core routes coming online in 2032.\n\nAll ModesCommuter RailLight RailBus Rapid TransitExpress BusCore BusLocal Bus\n\n\n\n\n\n\n                                                \nFigure 3: Daily Transit Ridership - All Modes\n\n\n\n\n\n\n\n\n\n                                                \nFigure 4: Daily Transit Ridership - Commuter-Rail Transit\n\n\n\n\n\n\n\n\n\n                                                \nFigure 5: Daily Transit Ridership - Light-Rail Transit\n\n\n\n\n\n\n\n\n\n                                                \nFigure 6: Daily Transit Ridership - Bus Rapid Transit\n\n\n\n\n\n\n\n\n\n                                                \nFigure 7: Daily Transit Ridership - Express Bus\n\n\n\n\n\n\n\n\n\n                                                \nFigure 8: Daily Transit Ridership - Core Bus\n\n\n\n\n\n\n\n\n\n                                                \nFigure 9: Daily Transit Ridership - Local Bus\n\n\n\n\n\n\n\n\nTransit Share\nA comparison of the share of trips amongst the various modes of transit was done for both Trips and Boardings.\nThe transit ridership trip shares by mode can be found in Figure 10 for v9 and Figure 11 for v8.3.2. The main difference in v9 trip share by mode is the large increase in Core Bus trips in 2032 from almost nothing in 2028, while in v8.3.2 the increase in Core Bus trips is spread out between 2024 and 2030. This large increase is consistent with the transit inputs into the model with a large number of Core Bus routes coming into production in 2032, replacing mostly local bus service. The new Core Buy takes most of the local bus ridership it is replacing, but also quite a lot of ridership from Light Rail Transit (Mode 7).\nTransit boardings for v9 are found in Figure 12 and for v8.3.2 are found in Figure 13. Boardings follow the same pattern as trips, but boardings are able to differentiate between modes better than trips that are categorized hierarchically.\n\nTrips - v9Trips - v8.3.2Boardings - v9Boardings - v8.3.2\n\n\n\n\n\n\n                                                \nFigure 10: Transit Trips Share by Mode - v9\n\n\n\n\n\n\n\n\n\n                                                \nFigure 11: Transit Trips Share by Mode - v8.3.2\n\n\n\n\n\n\n\n\n\n                                                \nFigure 12: Transit Boardings Share by Mode - v9\n\n\n\n\n\n\n\n\n\n                                                \nFigure 13: Transit Boardings Share by Mode - v8.3.2\n\n\n\n\n\n\n\nCommuter Rail Station Boardings\nThe comparison of base year (2019) station-level boardings for commuter-rail transit (CRT) is found in Figure 14. CRT boardings were found to be higher than observed for Davis County and lower than observed for Utah County. An adjustment of 5 additional minutes to in-vehicle-time for trips to/from Davis County and 5 fewer minute to in-vehicle-time for Utah County was made to attempt to bring the model more in-line with observations.\nAdditional investigation was conducted into why Provo and Lehi were particularly low in the model. The findings did not turn up any obvious errors in the transit or model network. So, the conclusion is that further adjustments to CRT will be possible in the Mode Choice Update project that is currently being undertaken for the next release of the model.\n\n\n\n\n                                                \nFigure 14: 2019 Daily CRT Boardings by Station - Model vs Observed"
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html",
    "href": "v9x/v900/whats-new/2-inputdata.html",
    "title": "Input Data",
    "section": "",
    "text": "Changes made to the 1_Inputs folder are discussed in this section.\nCode\nL = require('leaflet@1.2.0')\nhtml`&lt;link href='${resolve('leaflet@1.2.0/dist/leaflet.css')}' rel='stylesheet' /&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ngeojsonTazOld    = FileAttachment(\"data/tazOld.geojson\"   ).json()\ngeojsonTazNew    = FileAttachment(\"data/tazNew.geojson\"   ).json()\ngeojsonK12Enroll = FileAttachment(\"data/k12enroll.geojson\").json()\ngeojsonCity      = FileAttachment(\"data/city.geojson\"     ).json()\ngeojsonSDst      = FileAttachment(\"data/sdst.geojson\"     ).json()\ngeojsonMDst      = FileAttachment(\"data/mdst.geojson\"     ).json()\ngeojsonLDst      = FileAttachment(\"data/ldst.geojson\"     ).json()"
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#global-data",
    "href": "v9x/v900/whats-new/2-inputdata.html#global-data",
    "title": "Input Data",
    "section": "Global Data",
    "text": "Global Data\nThis section includes the changes made within the 0_GlobalData subfolder.\n\nTrip Tables\nThe college base distribution file BaseDistribution.csv that contains the household locations of students in the base year was updated using new enrollment data sources. Dormitory populations were assigned to TAZs based on group quarter data from the census. The remaining enrollment was distributed using StreetLight origin-destination and USHE enrollment data.\n\n\nHousehold Disaggregation and Auto Ownership\nThe age percent lookup file Lookup - BYTAZAgePct - AllCo.csv used in household disaggregation was replaced with the updated statewide file. The statewide file was updated based on 2020 Census block data, 2020 ACS block group data, and 2019 ACS population by age group data.\n\n\nMode Choice\nThe bus speed ratios in the model were removed from the model scripts, as detailed in the General Parameters section, and were moved into a new file, bus_speed_ratios.csv.\nIn addtion to moving the location of the bus speed ratios, the ratios were further categorized and refined using real world bus speed data as shown in Figure 1. Previously in version 8.3.2, bus speed ratios differed by functional type. A total of only 6 bus speed ratios existed. Now however in version 9, bus speed ratios differ by functional type, area type, and time of day. A total of 75 bus speed ratios now exist The observed data used to develop the new bus speed ratios is the 2019 General Transit Feed Specification (GTFS) data, which includes schedules time and stop locations for all bus routes.\n\nBus Speed Ratios PlotBus Speed Ratios DataPrevious Bus Speed Ratios\n\n\n\n\nCode\nfaDataBusSpeeds     = FileAttachment(\"data\\\\bus_speed_ratios_long.csv\").csv({ typed: true });\nfaFunctionalClasses = FileAttachment(\"data\\\\functionalclass.csv\"      ).csv({ typed: true });\nfaTimePeriods       = FileAttachment(\"data\\\\timeperiod.csv\"           ).csv({ typed: true });\nfaAreaTypes         = FileAttachment(\"data\\\\areatype.csv\"             ).csv({ typed: true });\n\nviewof facetSelect  = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'TimePeriodName'     , label: \"Columns:\"});\nviewof domainSelect = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'AreaTypeName'       , label: \"X-Axis:\"});\nviewof strokeSelect = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'FunctionalClassName', label: \"Series:\"});\n\n// FILTER DATA\n//viewof functionalclasses_checked = Inputs.checkbox(faFunctionalClasses.map(function(d) {return d.FunctionalClassName}),\n//                                                   {value: faFunctionalClasses.map(function(d) {return d.FunctionalClassName}),\n//                                                    label: \"Function Class\"});\n//viewof timeperiods_checked       = Inputs.checkbox(faTimePeriods      .map(function(d) {return d.TimePeriodName     }),\n//                                                   {value: faTimePeriods      .map(function(d) {return d.TimePeriodName     }),\n//                                                    label: \"Time Period\"   });\n//filteredBusData = faDataBusSpeeds.filter(function(busspeed) {\n//  return functionalclasses_checked.includes(busspeed.FunctionalClassName) &&\n//         timeperiods_checked      .includes(busspeed.TimePeriodName     )// &&\n//         //areatypes        .includes(busspeed.AreaTypeName  );\n//});\n\ndomainFromSelect = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return faTimePeriods      .map(function(d) {return d.TimePeriodName     }); break;\n    case 'AreaTypeName'       : return faAreaTypes        .map(function(d) {return d.AreaTypeName       }); break;\n    case 'FunctionalClassName': return faFunctionalClasses.map(function(d) {return d.FunctionalClassName}); break;\n    default: return;\n  }\n}\n\n//xPlotDomainSelect = {\n//  switch(domainSelect) {\n//    case 'TimePeriodName'     : return \"TimePeriod\"     ; break;\n//    case 'AreaTypeName'       : return \"AreaType\"       ; break;\n//    case 'FunctionalClassName': return \"FunctionalClass\"; break;\n//    default: return;\n//  }\n//}\n\nfLabel = {\n  switch(facetSelect) {\n    case 'TimePeriodName'     : return \"Time Period\"     ; break;\n    case 'AreaTypeName'       : return \"Area Type\"       ; break;\n    case 'FunctionalClassName': return \"Functional Class\"; break;\n    default: return;\n  }\n}\n\nxLabel = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return \"Time Period\"     ; break;\n    case 'AreaTypeName'       : return \"Area Type\"       ; break;\n    case 'FunctionalClassName': return \"Functional Class\"; break;\n    default: return;\n  }\n}\n\ndomainFacetSelect = {\n  switch(facetSelect) {\n    case 'TimePeriodName':\n      return faTimePeriods.map(function(d) {\n          return d.TimePeriodName\n        });\n      break;\n    case 'AreaTypeName':\n      return faAreaTypes.map(function(d) {\n          return d.AreaTypeName\n        });\n      break;\n    case 'FunctionalClassName':\n      return faFunctionalClasses.map(function(d) {\n          return d.FunctionalClassName\n        });\n      break;\n    default:\n      return; \n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.25,\n  facet: { data: faDataBusSpeeds, x: facetSelect, label: fLabel, marginTop: 40},\n  x: {\n    label: xLabel,\n    domain: domainFromSelect,\n    tickSize: 4,\n    tickPadding: 2,\n    marginTop: 40,\n    tickRotate: 90,\n  },\n  y: {\n    label: \"Bus Speed Ratio\",\n    domain: [0, 1],\n    fontSize: 8\n  },\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 16 } },\n  style: {\n    fontSize: 12\n  },\n  marginTop: 60,\n  marginBottom: 120,\n  marks: [\n    Plot.frame(),\n    Plot.line(faDataBusSpeeds, { x: domainSelect, y: \"BusSpeedRatio\", stroke: strokeSelect, strokeWidth: 2 }),\n    Plot.dot(faDataBusSpeeds, { x: domainSelect, y: \"BusSpeedRatio\", stroke: strokeSelect, r: 4, fill: strokeSelect })\n  ]\n})\n\n\n\n\n\n\nFigure 1: Bus Speed Ratios\n\n\n\n\n\n\n\nCode\nInputs.table(faDataBusSpeeds, {\n  style: {\n    fontSize: 12,\n  },\n  columns: [\n    \"FunctionalClassName\",\n    \"TimePeriodName\",\n    \"AreaTypeName\",\n    \"BusSpeedRatio\"\n  ],\n  header: {\n    FunctionalClassName: \"Functional Class\",\n    TimePeriodName: \"Time Period\",\n    AreaTypeName: \"Area Type\",\n    BusSpeedRatio: \"Bus Speed Ratio\"\n  }\n})\n\n\n\n\n\n\n\n\n\n\n\nCode\n// read in CSVs\nfaDataBusSpeeds_previous = FileAttachment(\"data\\\\bus_speed_ratios_previous.csv\").csv({ typed: true });\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  style: {\n    fontSize: 12,\n  },\n  margin: 40,\n  marginBottom: 150,\n  x: {\n    label: \"\",\n    //tickFormat: () =&gt; \"\",\n    tickRotate: 90,\n    domain: faDataBusSpeeds_previous.map(function(d) {return d.FunctionalClass}),\n    tickSize: 0\n  },\n  y: {label: \"Bus Speed Ratio\" , domain: [0, 1]},\n  color: { type: \"categorical\", legend: false },\n  marks: [\n    Plot.frame(),\n    Plot.barY(faDataBusSpeeds_previous, {x: \"FunctionalClass\", y: \"BusSpeedRatio\", stroke: \"FunctionalClass\", fill: \"FunctionalClass\"})\n  ]  \n})\n\n\n\n\n\n\nFigure 2: Previous Bus Speed Ratios\n\n\n\n\n\n\n\n\nAssignment\nAs described in the General Parameters section, diurnal and production/attraction factors were moved out of the 0_GeneralParameters.block file to an input file. The factors are now found in the Time Of Day Factors.csv file.\nMost of the factors remained the same between model versions, except for the external trip purpose factors, as shown in Table 1.\nThe new factors file also contains factors for more purposes, including home-based college purposes. Though the code has not been modified yet to account for these new purposes.\n\n\n\n\n\n\n\n\n\nTable 1: Time Of Day Factors with Changes\n\n\n\n\n\n\n\n\nFactor\nv9 Value\nv832 Value\nChange\n\n\n\n\nIX_AM_PCT\n0.1909\n0.1786\n0.0123\n\n\nIX_MD_PCT\n0.3136\n0.3291\n-0.0155\n\n\nIX_PM_PCT\n0.2567\n0.2604\n-0.0037\n\n\nIX_EV_PCT\n0.2388\n0.2319\n0.0069\n\n\nXI_AM_PCT\n0.1969\n0.1786\n0.0183\n\n\nXI_MD_PCT\n0.3263\n0.3291\n-0.0028\n\n\nXI_PM_PCT\n0.2617\n0.2604\n0.0013\n\n\nXI_EV_PCT\n0.2151\n0.2319\n-0.0168\n\n\nIX_AM_PA\n0.6604\n0.8563\n-0.1959\n\n\nIX_MD_PA\n0.5593\n0.5627\n-0.0034\n\n\nIX_PM_PA\n0.4044\n0.3288\n0.0756\n\n\nIX_EV_PA\n0.3968\n0.3290\n0.0678\n\n\nXI_AM_PA\n0.7709\n0.8563\n-0.0854\n\n\nXI_MD_PA\n0.6087\n0.5627\n0.0460\n\n\nXI_PM_PA\n0.3111\n0.3288\n-0.0177\n\n\nXI_EV_PA\n0.3170\n0.3290\n-0.0120\n\n\nXX_AM_PA\n0.8562\n0.8563\n-0.0001"
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#traffic-analysis-zones-taz",
    "href": "v9x/v900/whats-new/2-inputdata.html#traffic-analysis-zones-taz",
    "title": "Input Data",
    "section": "Traffic Analysis Zones (TAZ)",
    "text": "Traffic Analysis Zones (TAZ)\n\nTaz Geometry & Geographic Changes\nTAZ geometry was updated and corrected. These updates include:\n\nFixed the TAZ UTM NAD83 projection to use the standard for Utah rather than the ArcGIS default.\nAll TAZ boundaries align to county boundaries from the most current version on AGRC’s website.\nAll internal TAZ topology was checked and corrected so there are no slivers, gaps, overlaps.\n\nInternal zones were split to increase the model’s geographic resolution. Some zone boundaries were also modified without being split to better align with underlying land uses and planning boundaries.\nThe geographic coverage area of the internal zones was also expanded to encompass the entire county. The notable exceptions to this are the portions of Box Elder County and Weber County that are not in the WFRC planning domain. While not expanded to county boundaries, the geographic coverage area of these counties was still changed to encompass the canyon/mountain areas that are part of the Wasatch Front travel shed.\nExternal zones were revised to reflect the changes of the expanded internal zone area. This included an update to the number and location of the external zones. However, external zones are no longer represented in the TAZ shapefile. The arbitrary polygons representing the external zones in previous version of the TAZ shapefile have been removed. External zones are still represented in other parts of the model, such as in the highway network, general parameters block file.\nThe expanded area and reconfigured TAZs resulted in the addition of 688 internal zones and 6 external zones. A comparison of zone counts is found in Table 2 and Table 3.\n\n\n\n\n\n\nTable 2: Internal TAZ Count Comparison\n\n\n\n\n\n\n\n\nCounty\nv9\nv832\nChange\n\n\n\n\nBox Elder\n153\n135\n18\n\n\nWeber\n428\n280\n148\n\n\nDavis\n324\n231\n93\n\n\nSalt Lake\n1311\n1127\n184\n\n\nUtah\n1330\n1085\n245\n\n\nTotal\n3546\n2858\n688\n\n\n\n\n\n\n\n\n\n\nTable 3: External TAZ Count Comparison\n\n\n\n\n\n\n\n\nCounty\nv9\nv832\nChange\n\n\n\n\nBox Elder\n6\n5\n1\n\n\nWeber\n3\n3\n0\n\n\nDavis\n0\n0\n0\n\n\nSalt Lake\n6\n7\n-1\n\n\nUtah\n14\n8\n6\n\n\nTotal\n29\n23\n6\n\n\n\n\n\n\n\n\nThe interactive map in Figure 3 can be explored to visualize the difference in version 9 and version 8 TAZs.\n\n\nCode\nmapTaz = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let lcolors = ['#0000FF'    ,'red'   ]\n  let llabels = ['v8.3.2 TAZ' ,'v9.0.0 TAZ'];\n\n  let lyrTAZOld = L.geoJson(geojsonTazOld, { weight: 3.00, color: lcolors[0], fillOpacity: 0}).addTo(map);\n  let lyrTAZNew = L.geoJson(geojsonTazNew, { weight: 1.50, color: lcolors[1], fillOpacity: 0}).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'legend');\n      div.innerHTML = '';\n      for (var i = 0; i &lt; llabels.length; i++) {\n        div.innerHTML += '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + llabels[i] + '&lt;br/&gt;';\n      }\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 3: TAZ Geography Comparison Map\n\n\n\nThe TAZ numbering was updated to reflect the changes made to the TAZ geometry, as depicted in Table 4 and Table 5.\n\n\n\n\n\n\nTable 4: Internal TAZ Ranges\n\n\n\n\n\n\n\nCounty\nv9\nv832\n\n\n\n\nBox Elder\n1-153\n1-135\n\n\nWeber\n154-581\n141-420\n\n\nDavis\n582-905\n424-654\n\n\nSalt Lake\n906-2216\n655-1781\n\n\nUtah\n2217-3546\n1789-2873\n\n\nTotal\n1-3546\n1-2873\n\n\n\n\n\n\n\n\n\n\nTable 5: External TAZ Ranges\n\n\n\n\n\n\n\nCounty\nv9\nv832\n\n\n\n\nBox Elder\n3601-3606\n136-140\n\n\nWeber\n3607-3609\n421-423\n\n\nDavis\nN/A\nN/A\n\n\nSalt Lake\n3610-3615\n1782-1788\n\n\nUtah\n3616-3629\n2874-2881\n\n\nTotal\n3601-3629\n137-140, 421-423, 1782-1788, 2874-2881\n\n\n\n\n\n\n\n\n\n\nTAZ Attribute Changes\nThis section describes the changes made to the attributes of the TAZ shapefile.\n\nREMM Space\nTo indicate which TAZs are included in the Real Estate Market Model (REMM) space, the REMM field was added with a value of 1 indicating that it is part of REMM and 0 indicating it is not part of REMM, as shown in Figure 4.\n\n\nCode\nmapTazRemmSpace = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let remmColors = ['#00887F'   ,'#BD0026'       ]\n  let remmLabels = ['REMM Space','Non-REMM Space'];\n  \n  let lyrTAZNew = L.geoJson(geojsonTazNew, {\n                            style: function(feature) {\n                              var d = feature.properties.REMM;\n                              return d==1 ? {color:remmColors[0], weight:1, opacity:0.95} :\n                                     d==0 ? {color:remmColors[1], weight:1, opacity:0.95} : \n                                            {color:    '#000000', weight:1, opacity:0.95} ;\n                            }\n  }).addTo(map);\n  \n  var legend = L.control({position: 'bottomleft'});\n  legend.onAdd = function (map) {\n    var div = L.DomUtil.create('div', 'legend');\n    div.innerHTML = '';\n    for (var i = 0; i &lt; remmLabels.length; i++) {\n      div.innerHTML += '&lt;i style=\"background:' + remmColors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + remmLabels[i] + '&lt;br/&gt;';\n    }\n\n    // Add CSS style for the background color\n    div.style.backgroundColor = 'lightgray';\n    div.style.padding = '10px';\n    \n    return div;\n  };\n  legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 4: TAZ REMM Space\n\n\n\n\n\nParking Costs\nThe permanent and temporary cost fields (PRKCSTPERM and PRKCSTTEMP) were updated to reflect current conditions and are in 2019 dollars. Costs for parking in the downtown areas of Salt Lake City, Ogden, and Provo and around the universities were based on 2022 parking rates obtained from Salt Lake City, web searches, and field visits.\nThe Salt Lake City International Airport temporary parking cost was set to $1.25 based on a weighted average of short-term premium and economy rates. This represents a $0.25 (25%) increase from version 8.3.2 (version 8.3.2 parking costs were in 2010 dollars). Permanent parking costs were kept at $0 as workers at the airport do not pay for parking.\nThe Lagoon temporary parking cost was set to $6 based on the 2022 advertised parking rate of $18 per day by an assumed average occupancy of 3 people per vehicle. This represents a $1 (20%) increase from version 8.3.2. Similar to the airport, the cost of permanent parking at Lagoon was set to $0 as workers at Lagoon do not pay for parking.\n\n\nDistrict Definitions\nLarge, medium, and small districts were redefined and renamed. There are now 26 large districts, 73 medium districts, and 110 small districts. Medium districts still nest within large districts. Small districts were defined based on city area definitions and do not nest within medium districts.\n\n\n\nAdditions to the 1_Inputs\\1_TAZ Folder\n_Source was added to the 1_TAZ folder. It includes the following shapefile data sets for ease of reference:\n\nCities\nCounties\nEnvironmental constraints\nPrevious TAZ versions.\n\n_ViewTAZDistricts folder was added containing an ArcGIS Pro project with predefined symbology for viewing TAZ and district shapefiles.\nShapefiles representing the Wasatch Front subarea and the REMM vs. non-REMM area were added to the 1_TAZ\\Districts folder."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#socioeconomic-data",
    "href": "v9x/v900/whats-new/2-inputdata.html#socioeconomic-data",
    "title": "Input Data",
    "section": "Socioeconomic Data",
    "text": "Socioeconomic Data\nForecasts and control totals were updated based on new census data, updated base year parcel data, and the results of the REMM Model.\n\nForecasts\nThe SE forecasts were updated for the WFRC areas. Box Elder updates were taken from the UDOT SE Forecasts from June 8, 2022. The updated SE forecasts can be found using the Household and Job Forecasts Web App. This map only contains the latest forecast and not any iterative step, such as the SE datasets in the model folder. Click on the View Advanced Version link in the header to enable the “Changes” option where you can see the change in forecasts between v8.3.2 and v9. You can explore the data in the embedded web application in Figure 5\n\n\nCode\nhtml`&lt;div style=\"width: 765px; height: 680px; transform: scale(0.85); transform-origin: 0 0;\"&gt;\n         &lt;iframe width=\"900\" height=\"800\" src=\"https://wfrc.org/household-job-forecast-map/\" title=\"Household and Job Forecast\"&gt;&lt;/iframe&gt;\n     &lt;/div&gt;`\n\n\n\n\n\n\nFigure 5: Embedded Household and Job Forecast Map\n\n\n\n\n\nControl Totals\nUpdates to the county control totals were made based on projections from the Gardner Policy Institute. The v8.3.2 model used a base year of 2015 for controls totals. v9 uses a base year of 2019.\nFigure 6 shows the 2050 differences in county control totals for any given socioeconomic category.\n\n\n\n\n\n\n\nCode\nfaControlTotals = FileAttachment(\"data/controltotal.csv\").csv({ typed: true });\nfaCounties      = FileAttachment(\"data/counties.csv\"    ).csv({ typed: true });\n\ncats = new Map([//['Total Population'               , 'TOTPOP'    ],\n                //['Group Quarter Population'       , 'GQ_Pop'    ],\n                ['Population'                     , 'HH_Pop'    ],\n                ['Households'                     , 'HH'        ],\n                //['Household Size'                 , 'HH_Size'   ],\n                //['Population 0-17'                , 'POP_00_17' ],\n                //['Population 18-64'               , 'POP_18_64' ],\n                //['Population 65+'                 , 'POP_65P'   ],\n                ['All Employment'                 , 'ALLEMP'    ],\n                ['Retail Employment'              , 'RETL'      ],\n                ['Food Employment'                , 'FOOD'      ],\n                ['Manufacturing Employment'       , 'MANU'      ],\n                ['Wholesale Employment'           , 'WSLE'      ],\n                ['Office Employment'              , 'OFFI'      ],\n                ['Government/Education Employment', 'GVED'      ],\n                ['Health Employment'              , 'HLTH'      ],\n                ['Other Employment'               , 'OTHR'      ],\n                //['Agriculture Employment'         , 'AGRI'      ],\n                //['Mining Employment'              , 'MING'      ],\n                //['Construction Employment'        , 'CONS'      ],\n                ['Home-Based Job Employment'      , 'HBJ'       ]\n                //['Jobs per Household'             , 'Job_HH'    ],\n                //['Working Population per Job'     , 'WrkPop_Job']\n                ])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nfilteredControlTotals = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         selectCategory == ct.Category;\n});\nviewof selectCategory = Inputs.select(cats, {value: 'HH_Pop', label: 'Category: '});\n\nviewof metric = Inputs.radio(new Map([[\"Difference\", \"Difference\"], [\"Percent Difference\", \"DifferencePct\"]]), {value: \"Difference\", label: \"Display:\"})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ndataCTDiff50 = transpose(diffConTot2050long)\nfiltered_dataCTDiff50 = dataCTDiff50.filter(function(dataL) {\n    return selectCategory == dataL.Category  &&\n           metric == dataL.View;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nimport {DivergingBarChart} from \"@d3/diverging-bar-chart\"\n\nfunction getXFormat() {\n  if (metric === \"DifferencePct\") {\n    return \"+%\";\n  } else if (selectCategory === 'HH_Size' && metric === \"Difference\") {\n    return \".2f\";\n  } else {\n    return \"+,d\";\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nchart3 = DivergingBarChart(filtered_dataCTDiff50, {\n    x: d =&gt; d.ViewValue,\n    y: d =&gt; d.CO_NAME,\n    xFormat: getXFormat(),\n    xLabel: \"2050 Difference\",\n    aspectRatio: 0.5,\n    colors: d3.schemeRdBu[3],\n    yDomain: ['Weber','Davis','Salt Lake','Utah', 'Wasatch Front']\n})\n\n\n\n\n\n\nFigure 6: 2050 Differences in Control Totals for Selected Category (v9.0 vs v8.3.2)\n\n\n\nUtah County displays the largest decrease in control totals in the v9 model as compared to v8.3.2 with 107,937 lower population, 21,799 fewer households, and 47,977 fewer jobs (all employment). The largest job decreases are in office employment (14,923), government/education employment (16,982), and other employment (18,194). Utah County also has a significant drop in household size relative to other counties.\nFurther trends for county specific residential and employment control totals as well as control total ratios are shown in Figure 7.\n\n\nCode\nviewof selectCounty = Inputs.select(new Map(['Wasatch Front', 'Weber', 'Davis', 'Salt Lake', 'Utah'].map(county =&gt; [county, county])), {value: 'Wasatch Front', label: 'County: '});\n\n// FILTER DATA\nfilteredCTPlot = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME; //&&\n         //selectCategoryPlot == ct.Category;\n});\nmaxY1 = Math.max(...filteredCTPlot.map(item =&gt; item.ControlTotal));\n\n// FILTER DATA for employment control totals\nfilteredCTPlot2 = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         [\"Typical\", \"Retail\", \"Industrial\", \"Other\"].includes(ct.Category);\n});\nmaxY2 = Math.max(...filteredCTPlot2.map(item =&gt; item.ControlTotal));\n\n// FILTER DATA for control totals ratios\nfilteredCTPlot3 = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         [\"HH_Size\", \"Job_HH\", \"WrkPop_Job\"].includes(ct.Category);\n});\nmaxY3 = Math.max(...filteredCTPlot3.map(item =&gt; item.ControlTotal));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nhhPopData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Pop\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\nhhPopData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Pop\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nhhData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH\" == ct.Category && 'v8.3.2' == ct.ModelVersion  && ct.YEAR &gt; 2020;})\nhhData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH\" == ct.Category && 'v9.0.0' == ct.ModelVersion;})\n\n// data for the employment control totals\ntypicalData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Typical\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\ntypicalData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Typical\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nretailData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Retail\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\nretailData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Retail\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nindustrialData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Industrial\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\nindustrialData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Industrial\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\notherData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Other\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\notherData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Other\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\n\n// data for control total ratios\nhhsize8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Size\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\nhhsize9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Size\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\njobhh8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Job_HH\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\njobhh9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Job_HH\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nwrkpop8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"WrkPop_Job\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR &gt; 2020;})\nwrkpop9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"WrkPop_Job\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d =&gt; d},\n  y: {label: 'Control Total', domain: [0, maxY1]},\n  marginRight:60,\n  marginLeft: 60,\n  style: {\n    fontSize: 15\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  marks: [\n    Plot.line(\n      hhPopData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#5b859e', strokeWidth: 2, strokeDasharray: '5,5'}),\n    Plot.line(\n      hhPopData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e395f', strokeWidth: 2, text: ['yo momma']}),\n    Plot.text(\n      hhPopData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n    \n    Plot.line(\n      hhData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#75884b',strokeWidth: 2,strokeDasharray: '5,5'}),\n    Plot.line(\n      hhData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e5a46',strokeWidth: 2}),\n    Plot.text(\n      hhData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n    \n    Plot.frame({strokeOpacity: 0.2}),\n    [\n      Plot.text([`\\n   ——   Current Projection \\n\\n   —  — Previous Projection`], {frameAnchor: \"top-left\", fontSize: 14})\n  ]]\n})\n\n\n\n\n\n\n\n(a) Residential Control Total\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d =&gt; d},\n  y: {label: 'Control Total', domain: [0, maxY2]},\n  marginRight:80,\n  marginLeft: 60,\n  style: {\n    fontSize: 15\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  marks: [\n    Plot.line(\n      typicalData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#FF6666', strokeWidth: 2, strokeDasharray: '5,5'}),\n    Plot.line(\n      typicalData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#FF0000', strokeWidth: 2}),\n    Plot.text(\n      typicalData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      retailData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#75884b',strokeWidth: 2,strokeDasharray: '5,5'}),\n    Plot.line(\n      retailData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e5a46',strokeWidth: 2}),\n    Plot.text(\n      retailData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      industrialData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#A0A0A0', strokeWidth: 2, strokeDasharray: '5,5'}),\n    Plot.line(\n      industrialData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#606060', strokeWidth: 2}),\n    Plot.text(\n      industrialData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      otherData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#5b859e',strokeWidth: 2,strokeDasharray: '5,5'}),\n    Plot.line(\n      otherData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e395f',strokeWidth: 2}),\n    Plot.text(\n      otherData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.frame({strokeOpacity: 0.2}),\n    [\n      Plot.text([`\\n   ——   Current Projection \\n\\n   —  — Previous Projection`], {frameAnchor: \"top-left\", fontSize: 14})\n  ]]\n})\n\n\n\n\n\n\n\n(b) Employment Control Total\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d =&gt; d},\n  y: {label: 'Control Total', domain: [0, maxY3]},\n  marginRight:85,\n  marginLeft: 60,\n  style: {\n    fontSize: 15\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  marks: [\n    Plot.line(\n      hhsize8, {x: 'YEAR', y: 'ControlTotal', stroke: '#5b859e', strokeWidth: 2, strokeDasharray: '5,5'}),\n    Plot.line(\n      hhsize9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e395f', strokeWidth: 2}),\n    Plot.text(\n      hhsize9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      jobhh8, {x: 'YEAR', y: 'ControlTotal', stroke: '#75884b',strokeWidth: 2,strokeDasharray: '5,5'}),\n    Plot.line(\n      jobhh9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e5a46',strokeWidth: 2}),\n    Plot.text(\n      jobhh9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      wrkpop8, {x: 'YEAR', y: 'ControlTotal', stroke: '#FFB266',strokeWidth: 2,strokeDasharray: '5,5'}),\n    Plot.line(\n      wrkpop9, {x: 'YEAR', y: 'ControlTotal', stroke: '#FF8000',strokeWidth: 2}),\n    Plot.text(\n      wrkpop9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.frame({strokeOpacity: 0.2}),\n    [\n      Plot.text([`\\n   ——   Current Projection \\n\\n   —  — Previous Projection`], {frameAnchor: \"top-left\", fontSize: 14})\n  ]]\n})\n\n\n\n\n\n\n\n(c) Control Total Ratios\n\n\n\nFigure 7: Control Total Trends for Selected County for Selected Category\n\n\n\n\nSchool Enrollment\nThe Kindergarten through 12th grade (K-12) enrollment data was updated using the 2019 statewide school enrollment database. This was done at the state-wide level and then applied to the Wasatch Front. Additionally, a point shapefile of the state-wide dataset is included with the TDM, as shown in Figure 8.\n\n\nCode\nmapK12Enroll = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  var cHigh = \"#FF0000\"\n  var cMidl = \"#00FF00\"\n  var cElem = \"#0000FF\"\n\n  var geojsonMarkerOptions_High = {\n      radius: 4,\n      fillColor: cHigh,\n      color: cHigh,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n\n  var geojsonMarkerOptions_Midl = {\n      radius: 4,\n      fillColor: cMidl,\n      color: cMidl,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n  var geojsonMarkerOptions_Elem = {\n      radius: 4,\n      fillColor: cElem,\n      color: cElem,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n            \n  // function to use different icons based on number of stations\n  function markerByEnrollment(feature) {\n    if (feature.properties.Enrol_High &gt;= 100) {\n      return geojsonMarkerOptions_High\n    } else if (feature.properties.Enrol_Midl &gt;= 100){\n      return geojsonMarkerOptions_Midl;\n    } else{\n      return geojsonMarkerOptions_Elem;\n    }\n  };\n\n  function getColor(c) {\n    if (c=='High School') {\n      return cHigh;\n    } else if (c=='Middle School') {\n      return cMidl;\n    } else if (c=='Elementary School') {\n      return cElem;\n    }\n  };\n          \n  // create the GeoJSON layer and call the styling function with each marker\n  var layerSchools = L.geoJSON(geojsonK12Enroll,  {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;\" + feature.properties.SchoolName + \" Enrollment&lt;/b&gt;\" +\n                    \"&lt;br&gt;&lt;b&gt;High School: &lt;/b&gt;\" + feature.properties.Enrol_High +\n                    \"&lt;br&gt;&lt;b&gt;Middle School: &lt;/b&gt;\" + feature.properties.Enrol_Midl +\n                    \"&lt;br&gt;&lt;b&gt;Elementary School: &lt;/b&gt;\" + feature.properties.Enrol_Elem);\n      var mymarker = L.circleMarker(latlng, markerByEnrollment(feature));\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'info legend');\n      var labelsBill = []; // legend title\n      var lcategories = ['High School','Middle School','Elementary School'];\n\n      for (var i = 0; i &lt; lcategories.length; i++) {\n        div.innerHTML += \n          labelsBill.push(\n            '&lt;i class=\"bi bi-circle-fill\" style=\"color:' + getColor(lcategories[i]) + '\"&gt;&lt;/i&gt; ' +\n          (lcategories[i] ? lcategories[i] : '+'));\n      }\n      div.innerHTML = labelsBill.join('&lt;br&gt;');\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n\n  //let lyrK12Enroll = L.geoJson(geojsonK12Enroll, { size: 5, color: '#FFFFFF'}).addTo(map);\n  \n}\n\n\n\n\n\n\nFigure 8: K-12 School Locations\n\n\n\n\n\nMedian Income\nMedian income & value-of-time (VOT) inputs for the model were updated with 2019 data and used to update the TAZ Median Income in the TAZ file."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#highway-network",
    "href": "v9x/v900/whats-new/2-inputdata.html#highway-network",
    "title": "Input Data",
    "section": "Highway Network",
    "text": "Highway Network\nThe highway network was expanded to incorporate the new model areas. See TAZ Geographies. The 2023 RTP fields have been updated to reflect the adopted 2023 RTP.\n\nHighway Node Numbering Schema\nUpdates to the highway node numbering schema are shown in Table 6. An additional reference file called _Node Definition - v832 & v9.xlsx is found in the 3_Highway folder.\n\n\n\n\n\n\n\n\n\nTable 6: Master Network Node Numbering Schema\n\n\nMPO\nTransit Nodes\nHighway Nodes\nv9 Expansion Areas\n\n\n\n\nWFRC\n10,000 - 19,999\n20,000 - 49,999\n90,000 - 94,999\n\n\nMAG\n50,000 - 59,999\n60,000 - 89,999\n95,000 - 99,999\n\n\n\n\n\n\n\n\nThe highway network updates include the following:\n\nUpdated Commuter-Rail Transit (CRT) Fare Zone\n\nVineyard & Orem stations were modified to have the same fare zone (similar to North Temple & Central)\nUpdated and fixed fare zone definitions in WFRC area\n\nFixed small network error in Box Elder where a local road was drawn to the centroid of v8.3.2 TAZ 53\nA few edits to WFRC draft RTP project list\nUpdated segment ids\n\nMade consistent with the latest segment shapefile\nUpdated segments to account for recent network changes & add segment definitions to account for rail transit\n\nAdded SEGEX_RTP & SEGEX_NEED as text fields (to be populated later when script/processing updated). These are segment ID exception fields where the future SEGIDs are different than existing SEGIDs.\nPhase change for Managed Motorways in WFRC area\nA couple of phasing updates from the WFRC RTP project list\nCleaned up GIS23_32 and GIS23_42 fields\nDifferentiated what projects will be built by 2028 from what will be built by 2023\nRail SEGID additions were made to allow for easier transit result visualization.\n\nAdditionally, a MergedMasterNet - 2022-09-19a folder was added to serve as a workspace for editing and updating Merged Master Network and for exporting to v8.3.2 & v9 master networks."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#transit",
    "href": "v9x/v900/whats-new/2-inputdata.html#transit",
    "title": "Input Data",
    "section": "Transit",
    "text": "Transit\nThe transit line files and CUBE Public Transport (PT) files were updated to correspond with the 2023 RTP:\n\n2019 was thoroughly vetted to represent Aug 2019 change day\n2023: updated route alignment, headways & stops based on August 2022 change day (WFRC & MAG)\n2028: updated route alignment, headways & stops based on UTA 5-Year Service Plan (WFRC & MAG)\nRTP 2032, 2042 & 2050: rolled 2028 changes forward into plan phased years & updated based on 2023 draft plan\nNeeds 2032, 2042 & 2050: rolled 2028 changes forward into plan phased years & updated based on 2023 draft plan\n\nRoute S902 was updated so route no longer go to the I-80 Parleys Canyon external node.\n\nPublic Transport (PT) Parameters\nThe fare files were updated with 2019 fare data. The fares were updated to match the actual advertised fares, whereas the v8.3.2 model contained a 46% adjustment fares. This reduction accounts for monthly pass, education, fare-pay, senior, employer paid, and other discounts. This adjustment is now explicitly defined, as was discussed in the General Parameters section.\n\n\nGeneral Hand-Coded Support Links\nGeneral_hand_coded_walk_links.NTL files were reviewed and updated.\n\n\nTransit Route Tester\nA route tester script was added in the _chk Transit Compile on Net folder. The script checks to see if transit line files for the respective scenario compile on the scenario highway network. This can be used for reviewing transit line edits outside of the model stream."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#externals",
    "href": "v9x/v900/whats-new/2-inputdata.html#externals",
    "title": "Input Data",
    "section": "Externals",
    "text": "Externals\nExternal locations and forecasts were updated. The locations of the former and updated location of externals is shown in Figure 9. Forecasts through 2060 were generated for the updated external locations using historical data through 2019.\n\n\nCode\ngeojsonExternalOld   = FileAttachment(\"data/externalold.geojson\"  ).json()\ngeojsonExternalNew   = FileAttachment(\"data/externalnew.geojson\"  ).json()\ngeojsonMasterNetLink = FileAttachment(\"data/masternetlink.geojson\").json()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nmapExternals = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map); \n\n  var cNew = \"#FF0000\";\n  var cOld = \"#00FF00\";\n\n  var squareIcon_New = L.icon({\n    iconUrl: 'https://wfrc.org/wftdm-docs/_pictures/square_green.png',  // Replace with the path to your square-like icon image\n    iconSize: [15, 15],          // Adjust the size of the square-like icon\n    iconAnchor: [5, 5],          // Adjust the anchor point if needed\n  });\n\n  var squareIcon_Old = L.icon({\n    iconUrl: 'https://wfrc.org/wftdm-docs/_pictures/square_red.png',       // Replace with the path to your square-like icon image\n    iconSize: [15, 15],          // Adjust the size of the square-like icon\n    iconAnchor: [5, 5],          // Adjust the anchor point if needed\n  });\n\n  var cCommon = \"#FF0000\"\n  var cAdded  = \"#00FF00\"\n  var cOther  = \"#888888\"\n\n  var geolineCommon = {\n      color: cCommon,\n      weight: 2,\n      opacity: 1,\n  };\n\n  var geoLineAdded = {\n      color: cAdded,\n      weight: 2,\n      opacity: 1,\n  };\n  var geoLineOther = {\n      color: cOther,\n      weight: 2,\n      opacity: 1,\n  };\n            \n  // function to use different icons based on number of stations\n  function markerByNewNet(feature) {\n    if (feature.properties.FLG_NEWNET==3) {\n      return geolineCommon;\n    } else if (feature.properties.FLG_NEWNET==23){\n      return geoLineAdded;\n    } else{\n      return geoLineOther;\n    }\n  };\n\n  function getColor(c) {\n    if        (c=='Common') {\n      return cCommon;\n    } else if (c=='Added') {\n      return cAdded;\n    } else if (c=='Other') {\n      return cOther;\n    }\n  };\n\n  //let lyrNetwork = L.geoJson(geojsonMasterNetLink, { weight: 0.75, color: \"#888888\", fillOpacity: 0}).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n//  var lyrNetwork = L.geoJson(geojsonMasterNetLink,  { function (markerByNewNet(feature))}).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n  var externalNewLayer = L.geoJSON(geojsonExternalNew, {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;Node: \" + feature.properties.N + \"&lt;/b&gt;\");\n      var mymarker = L.marker(latlng, { icon: squareIcon_New });\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n  var externalOldLayer = L.geoJSON(geojsonExternalOld, {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;Node: \" + feature.properties.N + \"&lt;/b&gt;\");\n      var mymarker = L.marker(latlng, { icon: squareIcon_Old });\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'info legend');\n      var labelsBill = []; // legend title\n      var lcategories = ['v8.3.2','v9.0.0'];\n      var lcolors     = [cOld    ,cNew    ];\n\n      for (var i = 0; i &lt; lcategories.length; i++) {\n        div.innerHTML += \n          labelsBill.push(\n            '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' +\n          (lcategories[i] ? lcategories[i] : '+'));\n      }\n      div.innerHTML = labelsBill.join('&lt;br&gt;');\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);  \n}\n\n\n\n\n\n\nFigure 9: Externals\n\n\n\nThe updated numbering scheme can be found in Table 7.\n\n\n\n\nTable 7: v9 & v8.3.2 External Description\n\n\n\n\n\n\n\n\n\nCounty\nv9 Value\nv8 Value\nLocation\nNotes\n\n\n\n\nBox Elder\n3601\n136\nFAR-1082 Bird Refuge\n\n\n\n\n3602\n137\nSR-13/83 to Corinne\n\n\n\n\n3603\nnan\nFAR-1112 to Bear River\nNew External\n\n\n\n3604\n138\nI-15 to Tremonton\n\n\n\n\n3605\n139\nSR-38 to Riverside\n\n\n\n\n3606\n140\nSR-91 to Logan\nMoved for Area Expansion\n\n\nWeber\n3607\n421\nFAR-3462 N Ogden Pass\nMoved for Area Expansion\n\n\n\n3608\n422\nSR-39 Ogden Canyon\nMoved for Area Expansion\n\n\n\n3609\n423\nI-84 to Summit\nMoved for Area Expansion\n\n\nSalt Lake\n3610\nnan\nFAR-2688 Butterfield Cyn to Tooele\nNew External\n\n\n\n3611\n1783\nSR-201 to Tooele\n\n\n\n\n3612\n1782\nI-80 to Tooele\n\n\n\n\n3613\n1784\nSR-65 Mountain Dell Canyon\nMoved for Area Expansion\n\n\n\n3614\n1785\nI-80 East Parley’s\nMoved for Area Expansion\n\n\n\nnan\n1786\nFAR-2193 Millcreek Canyon\nRemoved for Area Expansion\n\n\n\n3615\n1787\nSR-190 Guardsman Pass\n\n\n\n\nnan\n1788\nSR-210 Little Cottonwood\nRemoved for Area Expansion\n\n\nUtah\n3616\nnan\nFAR-1828 Goshen Canyon\nNew External\n\n\n\n3617\n2880\nUS-6 Eureka\n\n\n\n\n3618\n2881\nSR-73 Rush Valley\n\n\n\n\n3619\n2874\nFAR-3108 Cascade Spring\nMoved for Area Expansion\n\n\n\n3620\n2875\nSR-189 Provo Canyon\nMoved for Area Expansion\n\n\n\n3621\n2876\nFAR-2865 Sixth Water / Horse Creek\nMoved for Area Expansion\n\n\n\n3622\nnan\nFAR-2863 Sheep Creek\nNew External\n\n\n\n3623\n2877\nUS-6 Price Canyon\nMoved for Area Expansion\n\n\n\n3624\nnan\nSR-96 Scofield\nNew External\n\n\n\n3625\nnan\nFAR-2495 Skyline Dr\nNew External\n\n\n\n3626\nnan\nUS-89 Thistle\nNew External\n\n\n\n3627\n2878\nFAR-1822 N Nebo Loop\nMoved for Area Expansion\n\n\n\n3628\n2879\nI-15 to Juab\n\n\n\n\n3629\nnan\nFAR-1826 South Ridge Farms\nNew External"
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#segment",
    "href": "v9x/v900/whats-new/2-inputdata.html#segment",
    "title": "Input Data",
    "section": "Segment",
    "text": "Segment\nThe Master_Segs_withFactors_20220915.shp file contains the updated segments to align with 2023 RTP network changes. Additional segments for rail transit corridors were added in the Wasatch Front area."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html",
    "href": "v9x/v900/whats-new/3-inputprocessing.html",
    "title": "Input Processing",
    "section": "",
    "text": "Changes made to the 2_ModelScripts\\0_InputProcessing folder are discussed in this section.\nGlobal changes made to all the scripts in this folder included modifications to the script to account for removal of the CITY, COUNTY, and EXTERNAL fields from the TAZ shapefile and updates to use true shape link and node shapefiles."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#setup",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#setup",
    "title": "Input Processing",
    "section": "Setup",
    "text": "Setup\nThe folder setup routine was integrated into the HailMary.s script to run automatically. It is no longer necessary to copy empty folders or run the _CreateOutputFolders.s prior to running the model ."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#se-processing",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#se-processing",
    "title": "Input Processing",
    "section": "SE Processing",
    "text": "SE Processing\nThe 1_DemographicsAnalysis.s script was updated to read \nControlTotal_SE_AllCounties.csv. Weber County contains two sets of indexes bus on whether it is the UDOT Subarea 9057 or the Wasatch Front Subarea 9157."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#network-processing",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#network-processing",
    "title": "Input Processing",
    "section": "Network Processing",
    "text": "Network Processing\nA bug in the Connected-and-Autonomous Vehicle (CAV) calculation was fixed where the column index was needed to be incremented by 1 to link up with lookup tables.\nThe hard-coded turn penalty node numbers in the 3_TurnPenalty.s script were updated to the new master network node numbering."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#time-of-day-factors",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#time-of-day-factors",
    "title": "Input Processing",
    "section": "Time of Day Factors",
    "text": "Time of Day Factors\nA new file 1_CalculateTimeOfDayFac.s is created during the model that includes time of day factors for use in following scripts."
  },
  {
    "objectID": "v9x/v900/whats-new/4-hhdisag.html",
    "href": "v9x/v900/whats-new/4-hhdisag.html",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "The 1_LifeCycle.s script was modified to account for removal of the COUNTY field from the TAZ shapefile and for the removal of county-specific id variables from 0_GeneralParameters.block."
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html",
    "href": "v9x/v900/whats-new/6-distribution.html",
    "title": "Distribution",
    "section": "",
    "text": "Changes made to the 2_ModelScripts\\3_Distribute folder are discussed in this section. The changes described in this section were made exclusively in the 1_Distribution.s script."
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html#convergence",
    "href": "v9x/v900/whats-new/6-distribution.html#convergence",
    "title": "Distribution",
    "section": "Convergence",
    "text": "Convergence\nThe convergence criteria was updated for trip table and link convergences, as well as the check criteria.\n\nTrip Table Convergence\nFor trip table convergence, the percent change threshold was reduced from 10% to 7.5%. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe trip matrix cell is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nTrips from the current iteration are less than 1\n\nWith the exception that the cell is not converged if the trips from the current iteration are greater than zero and the trips from the previous iteration equals zero.\n\n\nLink Convergence\nFor link volume convergence, the percent change threshold was increased from 5% to 7.5%. Centroid connectors are not considered when determining convergence. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe link is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nVolume from current iteration equals zero and volume from previous iteration equals zero.\n\nWith the exception that the link is not converged if:\n\nVolume from the current iteration is greater than zero and the volume from the previous iteration equals zero, or\nVolume from the current iteration is zero and the volume from the previous iteration is greater than zero.\n\n\n\nCheck Criteria\nThe convergence check criteria was updated. The minimum of 5 iterations requirement was removed. The RGAP parameter passthrough variable was from moved from the block file to main script just before each assignment call. The EV RGAP parameter is set to the 0GeneralParameters.block value divided by 10."
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html#reports",
    "href": "v9x/v900/whats-new/6-distribution.html#reports",
    "title": "Distribution",
    "section": "Reports",
    "text": "Reports\nThe initializing and logging of trip, vehicle-miles traveled (VMT), and vehicle-hours traveled (VHT) variables were removed from the log file. The trip table and link convergence reports in the log file were updated.\nThe following new reports were added to better track convergence:\n\n_Stats - Distrib Assign - @RID@.csv\n_Stats - Distrib Loaded Net - @RID@.csv\n_Stats - Distrib Trip Table - @RID@.csv"
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html#other",
    "href": "v9x/v900/whats-new/6-distribution.html#other",
    "title": "Distribution",
    "section": "Other",
    "text": "Other\nA @unloadednetprefix@_@n@_convg.net file was added to Temp\\3_Distribute folder. It includes following fields (li.1=current iteration, li.2=previous iteration):\n\nAM_Cur = li.1.AM_VOL\nMD_Cur = li.1.MD_VOL\nPM_Cur = li.1.PM_VOL\nEV_Cur = li.1.EV_VOL\nDY_Cur = li.1.DY_VOL\nAM_Pre = li.2.AM_VOL\nMD_Pre = li.2.MD_VOL\nPM_Pre = li.2.PM_VOL\nEV_Pre = li.2.EV_VOL\nDY_Pre = li.2.DY_VOL\nAM_Diff = AM_Cur - AM_Pre\nMD_Diff = MD_Cur - MD_Pre\nPM_Diff = PM_Cur - PM_Pre\nEV_Diff = EV_Cur - EV_Pre\nDY_Diff = DY_Cur - DY_Pre\nAM_PctDiff = ABS(AM_Diff) / AM_Pre\nMD_PctDiff = ABS(MD_Diff) / MD_Pre\nPM_PctDiff = ABS(PM_Diff) / PM_Pre\nEV_PctDiff = ABS(EV_Diff) / EV_Pre\nDY_PctDiff = ABS(DY_Diff) / DY_Pre\nCONVLINK (if (DY_PctDiff&lt;=_ConvThreshold)  CONVLINK = 1)"
  },
  {
    "objectID": "v9x/v900/whats-new/7-mc.html",
    "href": "v9x/v900/whats-new/7-mc.html",
    "title": "Mode Choice",
    "section": "",
    "text": "Changes made to the 2_ModelScripts\\4_ModeChoice folder are discussed in this section. Updates to the mode choice portion of the model include transit skims and district summaries."
  },
  {
    "objectID": "v9x/v900/whats-new/7-mc.html#transit-skims",
    "href": "v9x/v900/whats-new/7-mc.html#transit-skims",
    "title": "Mode Choice",
    "section": "Transit Skims",
    "text": "Transit Skims\nModifications to the transit skim script were made to incorporate the new bus speeds input file."
  },
  {
    "objectID": "v9x/v900/whats-new/7-mc.html#district-summaries",
    "href": "v9x/v900/whats-new/7-mc.html#district-summaries",
    "title": "Mode Choice",
    "section": "District Summaries",
    "text": "District Summaries\nThe district summary script was modified to change COUNTY field references to CO_FIPS for county summaries due to removal of field from TAZ shapefile."
  },
  {
    "objectID": "v9x/v900/whats-new/8-assign.html",
    "href": "v9x/v900/whats-new/8-assign.html",
    "title": "Highway Assignment",
    "section": "",
    "text": "The summarize loaded networks script was modified to point the geometry input reference to the input processing output folder instead of the highway inputs folder."
  },
  {
    "objectID": "v9x/v900/whats-new/A-whats-new-doc-prep.html",
    "href": "v9x/v900/whats-new/A-whats-new-doc-prep.html",
    "title": "Figure Prep for What’s New Word Doc",
    "section": "",
    "text": "Code\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\n\n\nc:\\Users\\cday\\Anaconda3\\lib\\site-packages\\geopandas\\_compat.py:123: UserWarning: The Shapely GEOS version (3.8.0-CAPI-1.13.1) is incompatible with the GEOS version PyGEOS was compiled with (3.10.4-CAPI-1.16.2). Conversions between both will be slow.\n  warnings.warn(\nC:\\Users\\cday\\AppData\\Local\\Temp\\ipykernel_5664\\4197195985.py:2: UserWarning: Shapely 2.0 is installed, but because PyGEOS is also installed, GeoPandas will still use PyGEOS by default for now. To force to use and test Shapely 2.0, you have to set the environment variable USE_PYGEOS=0. You can do this before starting the Python process, or in your code before importing geopandas:\n\nimport os\nos.environ['USE_PYGEOS'] = '0'\nimport geopandas\n\nIn a future release, GeoPandas will switch to using Shapely by default. If you are using PyGEOS directly (calling PyGEOS functions on geometries from GeoPandas), this will then stop working and you are encouraged to migrate from PyGEOS to Shapely 2.0 (https://shapely.readthedocs.io/en/latest/migration_pygeos.html).\n  import geopandas as gpd\n\n\n\n\nCode\n# Define a function to generate CO_FIPS attribute based on CO_TAZID\ndef assign_fips(co_tazid):\n    co_tazid_str = str(co_tazid)\n    if co_tazid_str.startswith('30'):\n        return '3'\n    elif co_tazid_str.startswith('11'):\n        return '11'\n    elif co_tazid_str.startswith('35'):\n        return '35'\n    elif co_tazid_str.startswith('57'):\n        return '57'\n    elif co_tazid_str.startswith('49'):\n        return '49'\n    else:\n        return None  # Handle other cases if needed\n\ndef plot_geo_data_by_fips(data_taz_new, data_taz_old, co_fips_value, line_color_new, line_color_old, line_width):    \n    # Create the figure and axes\n    fig, ax = plt.subplots(figsize=(15, 15))\n    \n    # Filter GeoDataFrames based on CO_FIPS value\n    data_taz_new_filtered = data_taz_new.loc[data_taz_new['CO_FIPS'] == co_fips_value]\n    data_taz_old_filtered = data_taz_old.loc[data_taz_old['CO_FIPS'] == co_fips_value]\n    \n    # Plot the filtered GeoDataFrames with different line colors and line width\n    data_taz_new_filtered.plot(ax=ax, facecolor='none', edgecolor=line_color_new, linewidth=line_width)\n    data_taz_old_filtered.plot(ax=ax, facecolor='none', edgecolor=line_color_old, linewidth=line_width)\n    \n    legend_ax = fig.add_axes([0.85, 0.5, 0.1, 0.1])\n    legend_elements = [\n        plt.Line2D([0], [0], color=line_color_new, linewidth=line_width, label='v9.0.0'),\n        plt.Line2D([0], [0], color=line_color_old, linewidth=line_width, label='v8.3.2')\n    ]\n    legend_ax.legend(handles=legend_elements, loc='center')\n    legend_ax.axis('off')\n    \n    # Display the plot\n    plt.savefig(\"\".join(['_pictures/doc-taz-',co_fips_value]), bbox_inches='tight')\n    #plt.show()\n\n\n\n\nCode\n# Read the GeoJSON files\ndata_taz_new = gpd.read_file(r'data\\tazNew.geojson')\ndata_taz_old = gpd.read_file(r'data\\tazOld.geojson')\n\n# Apply the function to create the CO_FIPS attribute\ndata_taz_new['CO_FIPS'] = data_taz_new['CO_TAZID'].apply(assign_fips)\ndata_taz_old['CO_FIPS'] = data_taz_old['CO_TAZID'].apply(assign_fips)\n\n# Set the line colors and line width\nline_color_new = '#0B2842'\nline_color_old = '#789d4b'\nline_width = 0.5\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '57', line_color_new, line_color_old, line_width)\n\n\n\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '11', line_color_new, line_color_old, line_width)\n\n\n\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '35', line_color_new, line_color_old, line_width)\n\n\n\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '49', line_color_new, line_color_old, line_width)"
  },
  {
    "objectID": "v9x/v900/whats-new/A-whats-new-doc-prep.html#difference-in-v9-and-v832-taz",
    "href": "v9x/v900/whats-new/A-whats-new-doc-prep.html#difference-in-v9-and-v832-taz",
    "title": "Figure Prep for What’s New Word Doc",
    "section": "",
    "text": "Code\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\n\n\nc:\\Users\\cday\\Anaconda3\\lib\\site-packages\\geopandas\\_compat.py:123: UserWarning: The Shapely GEOS version (3.8.0-CAPI-1.13.1) is incompatible with the GEOS version PyGEOS was compiled with (3.10.4-CAPI-1.16.2). Conversions between both will be slow.\n  warnings.warn(\nC:\\Users\\cday\\AppData\\Local\\Temp\\ipykernel_5664\\4197195985.py:2: UserWarning: Shapely 2.0 is installed, but because PyGEOS is also installed, GeoPandas will still use PyGEOS by default for now. To force to use and test Shapely 2.0, you have to set the environment variable USE_PYGEOS=0. You can do this before starting the Python process, or in your code before importing geopandas:\n\nimport os\nos.environ['USE_PYGEOS'] = '0'\nimport geopandas\n\nIn a future release, GeoPandas will switch to using Shapely by default. If you are using PyGEOS directly (calling PyGEOS functions on geometries from GeoPandas), this will then stop working and you are encouraged to migrate from PyGEOS to Shapely 2.0 (https://shapely.readthedocs.io/en/latest/migration_pygeos.html).\n  import geopandas as gpd\n\n\n\n\nCode\n# Define a function to generate CO_FIPS attribute based on CO_TAZID\ndef assign_fips(co_tazid):\n    co_tazid_str = str(co_tazid)\n    if co_tazid_str.startswith('30'):\n        return '3'\n    elif co_tazid_str.startswith('11'):\n        return '11'\n    elif co_tazid_str.startswith('35'):\n        return '35'\n    elif co_tazid_str.startswith('57'):\n        return '57'\n    elif co_tazid_str.startswith('49'):\n        return '49'\n    else:\n        return None  # Handle other cases if needed\n\ndef plot_geo_data_by_fips(data_taz_new, data_taz_old, co_fips_value, line_color_new, line_color_old, line_width):    \n    # Create the figure and axes\n    fig, ax = plt.subplots(figsize=(15, 15))\n    \n    # Filter GeoDataFrames based on CO_FIPS value\n    data_taz_new_filtered = data_taz_new.loc[data_taz_new['CO_FIPS'] == co_fips_value]\n    data_taz_old_filtered = data_taz_old.loc[data_taz_old['CO_FIPS'] == co_fips_value]\n    \n    # Plot the filtered GeoDataFrames with different line colors and line width\n    data_taz_new_filtered.plot(ax=ax, facecolor='none', edgecolor=line_color_new, linewidth=line_width)\n    data_taz_old_filtered.plot(ax=ax, facecolor='none', edgecolor=line_color_old, linewidth=line_width)\n    \n    legend_ax = fig.add_axes([0.85, 0.5, 0.1, 0.1])\n    legend_elements = [\n        plt.Line2D([0], [0], color=line_color_new, linewidth=line_width, label='v9.0.0'),\n        plt.Line2D([0], [0], color=line_color_old, linewidth=line_width, label='v8.3.2')\n    ]\n    legend_ax.legend(handles=legend_elements, loc='center')\n    legend_ax.axis('off')\n    \n    # Display the plot\n    plt.savefig(\"\".join(['_pictures/doc-taz-',co_fips_value]), bbox_inches='tight')\n    #plt.show()\n\n\n\n\nCode\n# Read the GeoJSON files\ndata_taz_new = gpd.read_file(r'data\\tazNew.geojson')\ndata_taz_old = gpd.read_file(r'data\\tazOld.geojson')\n\n# Apply the function to create the CO_FIPS attribute\ndata_taz_new['CO_FIPS'] = data_taz_new['CO_TAZID'].apply(assign_fips)\ndata_taz_old['CO_FIPS'] = data_taz_old['CO_TAZID'].apply(assign_fips)\n\n# Set the line colors and line width\nline_color_new = '#0B2842'\nline_color_old = '#789d4b'\nline_width = 0.5\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '57', line_color_new, line_color_old, line_width)\n\n\n\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '11', line_color_new, line_color_old, line_width)\n\n\n\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '35', line_color_new, line_color_old, line_width)\n\n\n\n\n\n\n\nCode\nplot_geo_data_by_fips(data_taz_new, data_taz_old, '49', line_color_new, line_color_old, line_width)"
  },
  {
    "objectID": "v9x/v900/whats-new/A-whats-new-doc-prep.html#remm-space",
    "href": "v9x/v900/whats-new/A-whats-new-doc-prep.html#remm-space",
    "title": "Figure Prep for What’s New Word Doc",
    "section": "REMM Space",
    "text": "REMM Space\n\n\nCode\nimport matplotlib.colors as colors\ndata_taz_new = gpd.read_file(r'data\\tazNew.geojson')\nremm_values = data_taz_new['REMM'].astype(int)\ncmap = 'Accent_r'\n\nfig, ax = plt.subplots(figsize=(10, 10))\ndata_taz_new.plot(column=remm_values, cmap=cmap, linewidth=0.5, ax=ax)\n\nlegend_ax = fig.add_axes([0.85, 0.5, 0.1, 0.1]) \nlegend_elements = [\n    plt.Line2D([0], [0], color='green', linewidth=line_width, label='REMM Space'),\n    plt.Line2D([0], [0], color='gray', linewidth=line_width, label='Non-REMM Space')\n]\nlegend_ax.legend(handles=legend_elements, loc='center')\nlegend_ax.axis('off')\n\n# Display the plot\n#plt.show()\nplt.savefig('_pictures/doc-remm', bbox_inches='tight')"
  },
  {
    "objectID": "v9x/v900/whats-new/data/crop-volume-pngs.html",
    "href": "v9x/v900/whats-new/data/crop-volume-pngs.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Code\nfrom PIL import Image\n\n\n\n\nCode\n# 150%, Home button, zoom out once, F11, change basemap to non-labeled --- Windows+Shift+S click upright screen\n# legend: expand legend window all the way to bottom of screen\nim = Image.open('map_pngs/vol19.png')\nim_crop = im.crop((400, 400, 800, 1600))\nim_crop.save('map_pngs/vol19-cropped.png', quality=1000)\n\n\n\n\nCode\ndef cropImage(pngName):\n    im = Image.open('map_pngs/' + pngName + '.png')\n    im_crop = im.crop((400, 400, 800, 1600))\n    im_crop.save('map_pngs/' + pngName + '-cropped.png', quality=1000)\n\ndef cropLegend(pngName):\n    im = Image.open('map_pngs/' + pngName + '.png')\n    im_crop = im.crop((480, 370, 830, 920))\n    im_crop.save('map_pngs/' + pngName + '-cropped.png', quality=1000)\n\n\n\n\nCode\n#cropImage('vol19')\n#cropImage('vol50')\n#cropImage('vol19-truck')\ncropImage('vol50-truck')\n#cropLegend('vol-legend')\n#cropLegend('vol-truck-legend')"
  }
]