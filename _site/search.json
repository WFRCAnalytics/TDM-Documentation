[
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html",
    "href": "v9x/v900/whats-new/1-genparams.html",
    "title": "General Parameters",
    "section": "",
    "text": "Changes made to the 0_GeneralParameters.block file are discussed in this section."
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#zone-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#zone-parameters",
    "title": "General Parameters",
    "section": "Zone Parameters",
    "text": "Zone Parameters\nThe TAZ and highway node schema was changed in version 9. The following parameters were updated to reflect these changes.\n\nTAZ\nNote, the following TAZ parameters ranges were removed from the general parameters file in v9 as they were not being used in the WF TDM:\n\nRegionRange\nWFRCRange\nMAGRange\n\nSee Table 1\n\n\n\n\n\n\n\n\n\nTable 1: Renumbered TAZ Ranges\n\n\n\n\n\n\n\n\nParameter\nv9Value\nv8Value\nNotes\n\n\n\n\nUsedZones\n3629\n2881\nHighest TAZ number used by model\n\n\nBoxElderRange\n1-153\n1-140\nBox Elder County Range\n\n\nWeberRange\n154-581\n141-423\nWeber County Range\n\n\nDavisRange\n582-905\n424-654\nDavis County Range\n\n\nSLRange\n906-2216\n655-1788\nSalt Lake County Range\n\n\nUtahRange\n2217-3546\n1789-2881\nUtah County Range\n\n\nDummyzones\n3547-3600\n2882-3400\nPlaceholder for future TAZ splits\n\n\nExternalzones\n3601-3629\n136-140, 421-423, 1782-1788, 2874-2881\nExternal zones\n\n\nNorthBC\n3604-3606\n138, 139, 140\nNorth Brigham City external zones\n\n\n\n\n\n\n\n\n\n\nHighway Nodes\n\n\n\n\n\n\nTable 2: Renumbered Highway Nodes\n\n\nParameter\nv9Value\nv8Value\nNotes\n\n\n\n\nHwyNodes\n10000-99999\n3401-999999\nHighway and transit node range\n\n\n\n\n\n\n\n\nCollege Zones\nWhere noted, several colleges were effectively discontinued, meaning references to these schools are still in the code base, but enrollment was set to zero.\n\n\n\n\n\n\nTable 3: Renumbered College Zones\n\n\nArea\nParameter\nv9Value\nv8Value\nNotes\n\n\n\n\nWFRC Colleges\nEnsign (was LDSBC)\n1029\n950\nEnsign College\n\n\n\nWestmin\n1263\n1150\nWestminster College\n\n\n\nUOFU_Main\n1051\n1075\nUniversity of Utah - Main\n\n\n\nUOFU_Med\n1007\n1076\nUniversity of Utah - Medical (removed)\n\n\n\nWSU_Main (was WSU_OGDEN)\n437\n383\nWeber State University - Main\n\n\n\nWSU_Davis\n693\n525\nWeber State University - Davis\n\n\n\nWSU_West\n521\n290\nWeber State University - West (removed)\n\n\n\nSLCC_Main (was SLCC_TL)\n1580\n897\nSalt Lake Community College - Main\n\n\n\nSLCC_SC\n1231\n1126\nSalt Lake Community College - South City\n\n\n\nSLCC_JD\n1776\n1493\nSalt Lake Community College - Jordan\n\n\n\nSLCC_Mead\n\n1206\nSalt Lake Community College - Meadbrook (removed)\n\n\n\nSLCC_ML\n1886\n1516\nSalt Lake Community College - Miller\n\n\n\nSLCC_LB\n1085\n989\nSalt Lake Community College - Library (removed)\n\n\n\nSLCC_HL\n1525\n1294\nSalt Lake Community College - Highland (removed)\n\n\n\nSLCC_Airp\n979\n746\nSalt Lake Community College - Airport (removed)\n\n\n\nSLCC_West\n959\n745\nSalt Lake Community College - Westpointe (removed)\n\n\n\nSLCC_HM\n2031\n1607\nSalt Lake Community College - Herriman (removed)\n\n\nMAG Colleges\nBYU\n2939\n2384\nBrigham Young University - Main\n\n\n\nUVU_Main\n2848\n2326\nUtah Valley University - Main\n\n\n\nUVU_Geneva\n2882\n2280\nUtah Valley University - Geneva (removed)\n\n\n\nUVU_Lehi (was UVU_THANKP)\n2606\n2099\nUtah Valley University - Lehi\n\n\n\nUVU_Vine\n2809\n2259\nUtah Valley University - Vineyard\n\n\n\nUVU_Payson\n3336\n2690\nUtah Valley University - Payson\n\n\n\n\n\n\n\n\n\n\n\n\nTable 4: Renumbered College Zones (continued)\n\n\nParameter\nv9Value\nv8Value\n\n\n\n\ncolleges\n437, 521, 693, 959, 979, 1007, 1029, 1051, 1085, 1231, 1263, 1491, 1525, 1580, 1776, 1886, 2031, 2606, 2809, 2848, 2882, 2939, 3336\n290, 383, 525, 897, 950, 989, 1075, 1076, 1126, 1150, 1294, 1493, 1516, 1607, 2099, 2259, 2280, 2326, 2384, 2690\n\n\n\n\n\n\n\n\nZones with Off-line Trip Tables\n\n\n\n\n\n\nTable 5: Renumbered Off-line Trip Table Zones\n\n\nParameter\nv9Value\nv8Value\n\n\n\n\nLagoon\n781\n562\n\n\nAirport\n965\n742\n\n\n\n\n\n\n\n\nSpecial Generator Zones\n\n\n\n\n\n\nTable 6: Renumbered Special Generator Zones\n\n\nParameter\nv9Value\nv8Value\n\n\n\n\nTempleSquare\n1035\n966\n\n\nSLC_Library\n1147\n1015"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#exogenous-trip-table-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#exogenous-trip-table-parameters",
    "title": "General Parameters",
    "section": "Exogenous Trip Table Parameters",
    "text": "Exogenous Trip Table Parameters\nIncome break points for the airport exogenous trip table generation were updated to reflect 2019 base year income.\n\n\n\n\n\n\nTable 7: Income Break Points for Airport Exogenous Trip Table Generation\n\n\nParameter\nv9Value\nv8Value\nNotes\n\n\n\n\nIncome_Lo\n$45,000\n$35,000\nbreakpoint between Inc1 & Inc2\n\n\nIncome_Md\n$75,000\n$70,000\nbreakpoint between Inc2 & Inc3\n\n\nIncome_Hi\n$125,000\n$100,000\nbreakpoint between Inc3 & Inc4"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#household-disaggregation-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#household-disaggregation-parameters",
    "title": "General Parameters",
    "section": "Household Disaggregation Parameters",
    "text": "Household Disaggregation Parameters\nThe regional median income was updated using 2019 5-year ACS data and kept in 2019 dollars to reflect 2019 base year. v8 was estimated from 2015 ACS data and deflated to 2010 dollars.\n\n\n\n\n\n\nTable 8: Household Disaggregation Parameter Income Update\n\n\nParameter\nv9Value\nv8Value\n\n\n\n\nReg_Median_Inc\n$74,946\n$58,793"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#distribution-mode-choice-and-assignment-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#distribution-mode-choice-and-assignment-parameters",
    "title": "General Parameters",
    "section": "Distribution, Mode Choice, and Assignment Parameters",
    "text": "Distribution, Mode Choice, and Assignment Parameters\n\nK-Factors\nK-factors were expanded by trip purpose to allow for more flexibility in calibrating distribution. All K-factors were reset to 1.\n\n\n\n\n\n\nTable 9: Reset K-Factors\n\n\nArea\nv9Parameter\nv9Value\nv8Parameter\nv8Value\n\n\n\n\nbetween Salt Lake and Utah counties\nSL_UT_KFAC_Wrk\n1.00\nSL_UT_KFAC\n0.85\n\n\n\nSL_UT_KFAC_Oth\n1.00\n\n\n\n\n\nSL_UT_KFAC_Trk\n1.00\n\n\n\n\n\nSL_UT_KFAC_Ext\n1.00\n\n\n\n\nbetween Salt Lake and Davis counties\nSL_DA_KFAC_Wrk\n1.00\nSL_DA_KFAC\n0.95\n\n\n\nSL_DA_KFAC_Oth\n1.00\n\n\n\n\n\nSL_DA_KFAC_Trk\n1.00\n\n\n\n\n\nSL_DA_KFAC_Ext\n1.00\n\n\n\n\nbetween Box Elder and Weber counties\nWE_BE_KFAC_Wrk\n1.00\nWE_BE_KFAC\n1.00\n\n\n\nWE_BE_KFAC_Oth\n1.00\n\n\n\n\n\nWE_BE_KFAC_Trk\n1.00\n\n\n\n\n\nWE_BE_KFAC_Ext\n1.00\n\n\n\n\n\n\n\n\n\n\nAuto Occupancy\nAuto or vehicle occupancy rates were expanded to include additional trips purposes and calculated based on the reprocessed 2012 Household Travel Survey. Values represent average persons per vehicle for just the Wasatch Front model space. External trips are average for IX + XI; all other parameters are averages for II trips.\n\n\n\n\n\n\nTable 10: Vehicle Occupancy Rates\n\n\nv9Parameter\nv9Value\nv8Parameter\nv8Value\nNotes\n\n\n\n\nVehOcc_HBW\n1.10\nVEH_OCCUPANCY_HBW\n1.10\nHome-Based Work\n\n\nVehOcc_HBShp\n1.63\nVEH_OCCUPANCY_HBSHP\n1.58\nHome-Based Shopping\n\n\nVehOcc_HBOth\n1.68\nVEH_OCCUPANCY_HBOTH\n1.66\nHome-Based Other\n\n\nVehOcc_HBSch\n1.76\nVEH_OCCUPANCY_HBSCH\n2.14\nHome-Based School\n\n\nVehOcc_HBC\n1.12\nVEH_OCCUPANCY_HBC\n1.26\nHome-Based College\n\n\nVehOcc_NHBW\n1.21\nVEH_OCCUPANCY_NHBW\n1.20\nNon-Home-Based Work\n\n\nVehOcc_NHBNW\n1.76\nVEH_OCCUPANCY_NHBNW\n1.70\nNon-Home-Based Non-Work\n\n\nVehOcc_Rec\n1.68\n(Uses HBO)\n1.64\nRecreation\n\n\nVehOcc_HBO\n1.67\nVEH_OCCUPANCY_HBO\n1.64\nHome-Based Other (HBShp+HBOth)\n\n\nVehOcc_NHB\n1.54\nVEH_OCCUPANCY_NHB\n1.48\nNon-Home-Based (NHBW+NHBNW)\n\n\nVehOcc_ExtWrk\n1.16\n(Uses HBW)\n1.10\nExternal Work\n\n\nVehOcc_ExtHBO\n1.82\n(Uses HBO)\n1.64\nExternal Home-Based Other\n\n\nVehOcc_ExtNHB\n1.73\n(Uses NHB)\n1.48\nNon-Home-Based\n\n\nVehOcc_ExtRec\n1.73\n(Uses HBO)\n1.64\nExternal Recreation\n\n\n\n\n\n\n\n\n\n\n\n\nTable 11: Vehicle Occupancy 3+ Rates\n\n\nv9Parameter\nv9Value\nv8Parameter\nv8Value\nNotes\n\n\n\n\nVehOcc_3p_HBW\n3.53\nVEH_OCC_3P_HBW\n3.40\n3+ Person Home-Based Work\n\n\nVehOcc_3p_HBShp\n3.49\n(Uses HBO)\n3.55\n3+ Person Home-Based Shopping\n\n\nVehOcc_3p_HBOth\n3.73\n(Uses HBO)\n3.55\n3+ Person Home-Based Other\n\n\nVehOcc_3p_HBSch\n3.88\n(Uses HBO)\n3.55\n3+ Person Home-Based School\n\n\nVehOcc_3p_HBC\n3.24\nVEH_OCC_3P_HBC\n3.53\n3+ Person Home-Based College\n\n\nVehOcc_3p_NHBW\n3.71\n(Uses NHB)\n3.51\n3+ Person Non-Home-Based Work\n\n\nVehOcc_3p_NHBNW\n3.71\n(Uses NHB)\n3.51\n3+ Person Non-Home-Based Non-Work\n\n\nVehOcc_3p_Rec\n3.73\n(Uses HBO)\n3.55\n3+ Person Recreation\n\n\nVehOcc_3p_HBO\n3.68\nVEH_OCC_3P_HBO\n3.55\n3+ Person Home-Based Other (HBShp+HBOth)\n\n\nVehOcc_3p_NHB\n3.71\nVEH_OCC_3P_NHB\n3.51\n3+ Person Non-Home-Based (NHBW+NHBNW)\n\n\n\n\n\n\n\n\nValue of Time\nValue of time parameters were updated using 2019 5-year ACS data and previous model assumptions and are in 2019 dollars. v8 parameters were calibrated to 2015 ACS data and deflated to 2010 dollars. Values of time are in cents/minute.\n\n\n\n\n\n\nTable 12: Value of Time Rates\n\n\nv9Parameter\nv9Value\nv8Parameter\nv8Value\nNotes\n\n\n\n\nVOT_Auto_Wrk\n22\nVOT_Auto_Wrk\n18\nwork trips (HBW)\n\n\nVOT_Auto_Per\n17\nVOT_Auto_Per\n14\nnon-work trips\n\n\nVOT_Auto_Ext\n20\nVOT_Auto_Ext\n16\nexternal\n\n\nVOT_LT\n37\nVOT_LT\n30\nlight truck\n\n\nVOT_MD\n50\nVOT_MD\n40\nmedium truck\n\n\nVOT_HV\n63\nVOT_HV\n50\nheavy truck\n\n\nVOT_Toll\n63\nVOT_Toll\n50\nall vehicles on tollway\n\n\nVOT_HOT_DA\n63\nVOT_HOT_DA\n50\ndrive alone on HOT\n\n\nVOT_Auto_Wrk_Lo\n9\n\n\nwork trips - low income (added)\n\n\nVOT_Auto_Wrk_Hi\n24\n\n\nwork trips - high income (added)\n\n\nVOT_Auto_Per_Lo\n7\n\n\nnon-work trips - loc income (added)\n\n\nVOT_Auto_Per_Hi\n19\n\n\nnon-work trips - high income (added)\n\n\n\n\n\n\n\n\nAuto Operating Costs\nAuto operating costs were updated to reflect 2019 fuel cost, average fuel economy, and cost of vehicle maintenance and are in 2019 dollars. v8 parameters were calibrated to 2015 data and deflated to 2010 dollars. Costs are in cents/mile.\n\n\n\n\n\n\nTable 13: Auto Operating Cost Rates\n\n\nParameter\nv9Value\nv8Value\nNotes\n\n\n\n\nAOC_Auto\n21.7\n18.3\nauto\n\n\nAOC_LT\n27.3\n24.6\nlight truck\n\n\nAOC_MD\n55.5\n47.8\nmedium truck\n\n\nAOC_HV\n74.3\n63.7\nheavy truck\n\n\n\n\n\n\n\n\nManaged Lane Costs\nTolls on managed lanes were updated to reflect approximately a $5.00 toll for work trips and a $3.00 toll for non-work trips for tollways (FT=40) and approximately a $3.50 toll for work trips and $2.20 for non-work trips for HOT (FT=38) and reliability lanes. Distances of 10.25 miles (length of average work trip) and 6.5 miles (average length of all trips) were used to determine the work/non-work toll costs in cents per mile in 2019 dollars. Toll costs for v8 are in 2010 dollars.\n\n\n\n\n\n\nTable 14: Managed Lane Cost Rates\n\n\nParameter\nv9Value\nv8Value\nNotes\n\n\n\n\nCost_Toll_Pk\n48\n24\nTollways (FT 40) cost - Peak\n\n\nCost_Toll_Ok\n48\n24\nTollways (FT 40) cost - Off-peak\n\n\nCost_HOT_Pk\n34\n10\nHOT (FT 38) cost - Peak\n\n\nCost_HOT_Ok\n17\n5\nHOT (FT 38) cost - Off-peak\n\n\nCost_REL_Pk\n34\n10\nReliability lane cost - Peak\n\n\nCost_REL_Ok\n17\n5\nReliability lane cost - Off-peak\n\n\n\n\n\n\n\n\nCore Bus Constant Multiplier\nThe parameter used to set the Core Bus constant was renamed and updated in v9.\n\n\n\n\n\n\nTable 15: Core Bus Constant Multiplier\n\n\nv9Parameter\nv9Value\nv8Parameter\nv8Value\nNotes\n\n\n\n\nRAIL2COR_MULTIPLIER\n0.33\nRAIL2BRT_MULTIPLIER\n0.4\nfactor to set Core Route constant relative to LRT constant\n\n\n\n\n\n\n\n\nCRT Adjustment Factors\nThe following parameters were added to adjust CRT ridership for Davis and Utah Counties. The parameters are applied in the mode choice utility calculation and represent a penalty/incentive in equivalent minutes.\n\nADJ_CONST_UT = 0 ;place holder\nADJ_CONST_CRT_UT = -5 ;encourge CRT in UT County\nADJ_CONST_CRT_DA = 5 ;discourage CRT in Davis County\nADJ_CONST_BRT = 0 ;place holder\n\n\n\nTransit Fare Discount Factor\nAdded a transit fare discount factor to adjust transit fares in PT fare input file to calculate effective transit fares (effective fares include discounts for transit passes and other discounts). Transit fares are in v9 are encoded as the standard 2019 fares (in 2019 dollars). Fares in v8 are encoded as discounted 2015 fares deflated to 2010 dollars. The discounted fare in v8 was approximately 54% of the standard fare. This ratio was carried forward into v9.\n\nFARE_DISCOUNT = 0.54"
  },
  {
    "objectID": "v9x/v900/whats-new/1-genparams.html#removed-parameters",
    "href": "v9x/v900/whats-new/1-genparams.html#removed-parameters",
    "title": "General Parameters",
    "section": "Removed Parameters",
    "text": "Removed Parameters\nThe following parameters were removed from the 0_GeneralParameters.block file.\n\nCounty Identification Parameters\nThe following county identification parameters are no longer used in v9 and were removed:\n\nCountyRange = ‘1-5’\nCountyName1 = ‘Weber’\nCountyName2 = ‘Davis’\nCountyName3 = ‘SaltLake’\nCountyName4 = ‘Utah’\nCountyName5 = ‘BoxElder’\nCO_Name1 = ‘WE’\nCO_Name2 = ‘DA’\nCO_Name3 = ‘SL’\nCO_Name4 = ‘UT’\nCO_Name5 = ‘BE’\n\n\n\nAir Quality Conformity Report Parameters\nThe following air quality conformity reporting parameters are no longer used in v9 and were removed:\n\nRE_ID = 0 ;Entire region\nWE_ID = 1 ;Weber\nDA_ID = 2 ;Davis\nSL_ID = 3 ;Salt Lake\nUT_ID = 4 ;Utah\nBE_ID = 5 ;BoxElder\nOC_ID = 55980 ;Ogden\nSC_ID = 67000 ;Salt Lake City\nPC_ID = 62470 ;Provo\n\n\n\nBus Speed Ratios\nBus speed ratios were updated in v9 and bus speed ratio parameters are now input via a file. The following bus speed ratio parameters were removed from the 0_GeneralParameters.block file:\n\nratio_fway = 0.95 ;bus speed to auto speed - freeways\nratio_ramp = 0.75 ;bus speed to auto speed - freeway ramps\nratio_part = 0.60 ;bus speed to auto speed - principal arterials\nratio_mart_urbcbd = 0.55 ;bus speed to auto speed - minor arterials, urban/cbd\nratio_mart_subrur = 0.65 ;bus speed to auto speed - minor arterials, suburban/rural\nratio_collector = 0.60 ;bus speed to auto speed - collectors\nminimum_bus_speed = 10.0 ;mph\n\n\n\nPrefixes for Transit Skims\nPrefixes to identify transit skim output files are coded directly into the scripts in v9. The following transit skim prefix parameters were removed from the 0_GeneralParameters.block file:\n\nW_LCL_skims = ‘skm_w4’ ;walk-to-local skims\nD_LCL_skims = ‘skm_d4’ ;drive-to-local skims\nW_BRT_skims = ‘skm_w5’ ;walk-to-BRT skims\nD_BRT_skims = ‘skm_d5’ ;drive-to-BRT skims\nW_EXP_skims = ‘skm_w6’ ;walk-to-express bus skims\nD_EXP_skims = ‘skm_d6’ ;drive-to-express bus skims\nW_LRT_skims = ‘skm_w7’ ;walk-to-light rail skims\nD_LRT_skims = ‘skm_d7’ ;drive-to-light rail skims\nW_CRT_skims = ‘skm_w8’ ;walk-to-commuter rail skims\nD_CRT_skims = ‘skm_d8’ ;drive-to-commuter rail skims\nW_mode9_skims = ‘skm_w9’\nD_mode9_skims = ‘skm_d9’\n\n\n\nDiurnal Factors\nDiurnal factors were updated in v9 and diurnal factor parameters are now input via a file. The following diurnal factor parameters were removed from the 0_GeneralParameters.block file:\n% of trips in period\n\nHBW_AM_Pct = 0.3254\nHBW_MD_Pct = 0.1831\nHBW_PM_Pct = 0.3074\nHBW_EV_Pct = 0.1841\nHBC_AM_Pct = 0.2592\nHBC_MD_Pct = 0.3374\nHBC_PM_Pct = 0.1853\nHBC_EV_Pct = 0.2181\nHBSch_AM_Pct = 0.3784\nHBSch_MD_Pct = 0.2931\nHBSch_PM_Pct = 0.2941\nHBSch_EV_Pct = 0.0344\nHBShp_AM_Pct = 0.0192\nHBShp_MD_Pct = 0.4391\nHBShp_PM_Pct = 0.2496\nHBShp_EV_Pct = 0.2921\nHBOth_AM_Pct = 0.0997\nHBOth_MD_Pct = 0.3129\nHBOth_PM_Pct = 0.2367\nHBOth_EV_Pct = 0.3507\nNHBW_AM_Pct = 0.0697\nNHBW_MD_Pct = 0.5582\nNHBW_PM_Pct = 0.2597\nNHBW_EV_Pct = 0.1124\nNHBNW_AM_Pct = 0.0498\nNHBNW_MD_Pct = 0.4752\nNHBNW_PM_Pct = 0.2426\nNHBNW_EV_Pct = 0.2324\nIX_AM_Pct = 0.1786\nIX_MD_Pct = 0.3291\nIX_PM_Pct = 0.2604\nIX_EV_Pct = 0.2319\nXI_AM_Pct = 0.1786\nXI_MD_Pct = 0.3291\nXI_PM_Pct = 0.2604\nXI_EV_Pct = 0.2319\nXX_AM_Pct = 0.1786\nXX_MD_Pct = 0.3291\nXX_PM_Pct = 0.2604\nXX_EV_Pct = 0.2319\nTR_AM_Pct = 0.1590\nTR_MD_Pct = 0.3522\nTR_PM_Pct = 0.2274\nTR_EV_Pct = 0.2614\n\nHBO_AM_Pct = 0.0840\nHBO_MD_Pct = 0.3383\nHBO_PM_Pct = 0.2401\nHBO_EV_Pct = 0.3376\nNHB_AM_Pct = 0.0563\nNHB_MD_Pct = 0.5024\nNHB_PM_Pct = 0.2482\nNHB_EV_Pct = 0.1931\n\n% of trips in PA direction\n\nHBW_AM_PA = 0.9706\nHBW_MD_PA = 0.5690\nHBW_PM_PA = 0.0871\nHBW_EV_PA = 0.2891\nHBC_AM_PA = 0.9828\nHBC_MD_PA = 0.5259\nHBC_PM_PA = 0.2420\nHBC_EV_PA = 0.1057\nHBSch_AM_PA = 0.7899\nHBSch_MD_PA = 0.4306\nHBSch_PM_PA = 0.2268\nHBSch_EV_PA = 0.2391\nHBShp_AM_PA = 0.7826\nHBShp_MD_PA = 0.5615\nHBShp_PM_PA = 0.4604\nHBShp_EV_PA = 0.4228\nHBOth_AM_PA = 0.7147\nHBOth_MD_PA = 0.5517\nHBOth_PM_PA = 0.5181\nHBOth_EV_PA = 0.3806\nNHBW_AM_PA = 0.5000\nNHBW_MD_PA = 0.5000\nNHBW_PM_PA = 0.5000\nNHBW_EV_PA = 0.5000\nNHBNW_AM_PA = 0.5000\nNHBNW_MD_PA = 0.5000\nNHBNW_PM_PA = 0.5000\nNHBNW_EV_PA = 0.5000\nIX_AM_PA = 0.8563\nIX_MD_PA = 0.5627\nIX_PM_PA = 0.3288\nIX_EV_PA = 0.3290\nXI_AM_PA = 0.8563\nXI_MD_PA = 0.5627\nXI_PM_PA = 0.3288\nXI_EV_PA = 0.3290\nXX_AM_PA = 0.8563\nXX_MD_PA = 0.5627\nXX_PM_PA = 0.3288\nXX_EV_PA = 0.3290\nTR_AM_PA = 0.5000\nTR_MD_PA = 0.5000\nTR_PM_PA = 0.5000\nTR_EV_PA = 0.5000\nHBO_AM_PA = 0.7283\nHBO_MD_PA = 0.5495\nHBO_PM_PA = 0.5050\nHBo_EV_PA = 0.3901\nNHB_AM_PA = 0.5000\nNHB_MD_PA = 0.5000\nNHB_PM_PA = 0.5000\nNHB_EV_PA = 0.5000\n\n\n\nAssignment Type Flag\nThe assignment type parameter is no longer used in v9 and was removed:\n\nAssignType = ‘managed’"
  },
  {
    "objectID": "v9x/v900/whats-new/data/crop-volume-pngs.html",
    "href": "v9x/v900/whats-new/data/crop-volume-pngs.html",
    "title": "WFTDM Documentation",
    "section": "",
    "text": "Code\nfrom PIL import Image\n\n\n\n\nCode\n# 150%, Home button, zoom out once, F11 --- Windows+Shift+S click upright screen\nim = Image.open('map_pngs/vol19.png')\nim_crop = im.crop((400, 400, 800, 1600))\nim_crop.save('map_pngs/vol19-cropped.png', quality=1000)\n\n\n\n\nCode\ndef cropImage(pngName):\n    im = Image.open('map_pngs/' + pngName + '.png')\n    im_crop = im.crop((400, 400, 800, 1600))\n    im_crop.save('map_pngs/' + pngName + '-cropped.png', quality=1000)\n\n\n\n\nCode\ncropImage('vol19')\ncropImage('vol50')"
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html",
    "href": "v9x/v900/whats-new/10-modelresults.html",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "",
    "text": "This section compares the model results between v9.0 and v8.3.2 for roadway volumes and transit."
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html#road-volume-comparisons",
    "href": "v9x/v900/whats-new/10-modelresults.html#road-volume-comparisons",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "Road Volume Comparisons",
    "text": "Road Volume Comparisons\nThe comparison between daily volumes at the segment level can be found in Figure 1 for 2019 and 2050. Decreases in volume in v9.0 compared to v8.3.2 are shown in blue, while increases are shown in red. Salt Lake and northern Davis counties display a drop in roadway volumes, most apparent on I-15. Weber, southern Davis, and Utah Counties show increases. Most of the changes are relatively minor, with the largest decreases occurring on the freeways in Salt Lake County. However, given the large daily volume for these roadways, the percent change is relatively low.\n\n\n\n\n\n\n\n(a) 2019\n\n\n\n\n\n\n\n(b) 2050\n\n\n\n\n\n\n\nFigure 1: Model Daily Volumes Comparison (v9.0 vs v8.3.2)\n\n\n???WOULD BE BETTER TO REMOVE LINKS THAT HAVE ZERO LANES, NOTE MUTLIPLE UTAH LAKE CROSSING LINKS IN BOTH 2019 and 2050.\n???MAY BE GOOD TO INCLUDE TRUCK VOLUME COMPARISON???"
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html#transit-comparisons",
    "href": "v9x/v900/whats-new/10-modelresults.html#transit-comparisons",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "Transit Comparisons",
    "text": "Transit Comparisons\nTransit comparisons were done with ridership, trips mode share, and boardings mode share. Overall ridership increases significantly in v9.0, and Core Bus ridership takes a larger share of trips and boardings than in v8.3.2.\n\nTransit Ridership\nTransit ridership in v9.0 compared to v8.3.2 shows significant increase in 2032, 2042, and 2050. See Figure 2. The total ridership in 2050 for v9.0 is 332,000 daily trips compared to the v8.3.2 model that showed 258,000 daily trips, which represents a 29% increase. The increase is largely due to the improvements in commuter rail with increased frequency and speed. ???VERIFY!!???\n\n\n\n\n                                                \nFigure 2: Daily Transit Ridership - All Purposes\n\n\n\n???NEED TO GET RID OF DATE TIME STAMP AND OTHER ’CODE’S IN MODEL LEGEND “Transit” instead of “4: Transit”???\nFor Home-Based College (HBC) trips, the v9.0 model shows lower projections. See Figure 3. This is mostly due to many of the lower enrollment colleges being removed from the trips tables. The uptick in HBC trips in 2042 and 2050 in v9.0 follow similar increases the updated enrollment trends. ???ADD REFERENCE TO COLLEGES SECTION IN INPUTS???\n\n\n\n\n                                                \nFigure 3: Daily Transit Ridership - Home-Based College\n\n\n\n\n\nTransit Share\nA comparison of the share of trips amongst the various modes of transit was done for both Trips and Boardings.\n\nTrips\nThe transit ridership trip shares by mode can be found in Figure 4 for v9.0 and Figure 5 for v8.3.2. The main difference in v9.0 trip share by mode is the large increase in Core Bus trips in 2032 from almost nothing in 2028, while in v8.3.2 the increase in Core Bus trips is spread out between 2024 and 2030. This large increase is consistent with the transit inputs into the model with a large number of Core Bus routes coming into production in 2032, replacing mostly local bus service. The new Core Buy takes most of the local bus ridership it is replacing, but also quite a lot of ridership from Light Rail Transit (Mode 7).\n???MAP SHOWING TRANSIT CHANGES, LIKE ROADWAY VOLUMES WOULD BE USEFUL???\n\n\n\n\n                                                \nFigure 4: Transit Trips Share by Mode - v9.0\n\n\n\n\n\n\n\n                                                \nFigure 5: Transit Trips Share by Mode - v8.3.2\n\n\n\n???ANYWAY TO GET THESE CHARTS SIDE-BY-SIDE… ALSO LOT OF WHITE SPACE BETWEEN CHART AND CAPTION, WHICH MAKES IT A LITTLE CONFUSING???\n\n\n\nTransit Boardings\nTransit boardings for v9.0 are found in Figure 6 and for v8.3.2 are found in Figure 7. Boardings follow the same pattern as trips, but boardings are able to differentiate between modes better than trips that are categorized hierarchically.\n\n\n\n\n                                                \nFigure 6: Transit Boardings Share by Mode - v9.0\n\n\n\n\n\n\n\n                                                \nFigure 7: Transit Boardings Share by Mode - v8.3.2\n\n\n\n???SAME COMMENTS FOR THESE TWO AS THE TWO ABOVE???"
  },
  {
    "objectID": "v9x/v900/whats-new/10-modelresults.html#commuter-rail-station-boardings",
    "href": "v9x/v900/whats-new/10-modelresults.html#commuter-rail-station-boardings",
    "title": "Model Results - Comparison with v8.3.2",
    "section": "Commuter Rail Station Boardings",
    "text": "Commuter Rail Station Boardings\nThe comparison of base year (2019) station-level boardings for commuter-rail transit (CRT) is found in Figure 8. CRT boardings were found to be higher than observed for Davis County and lower than observed for Utah County. An adjustment of 5 additional minutes to in-vehicle-time for trips to/from Davis County and 5 fewer minute to in-vehicle-time for Utah County was made to attempt to bring the model more in-line with observations. ???VERIFY!!!???\nAdditional investigation was conducted into why Provo and Lehi were particularly low in the model. The findings did not turn up any obvious errors in the transit or model network. So, the conclusion is that further adjustments to CRT will be possible in the Mode Choice Update project that is currently being undertaken for the next release of the model.\n\n\n\n\n                                                \nFigure 8: 2019 Daily CRT Boardings by Station - Model vs Observed"
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html",
    "href": "v9x/v900/whats-new/2-inputdata.html",
    "title": "Input Data",
    "section": "",
    "text": "Changes made to the 1_Inputs folder are discussed in this section.\nCode\nL = require('leaflet@1.2.0')\nhtml`&lt;link href='${resolve('leaflet@1.2.0/dist/leaflet.css')}' rel='stylesheet' /&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ngeojsonTazOld    = FileAttachment(\"data/tazOld.geojson\"   ).json()\ngeojsonTazNew    = FileAttachment(\"data/tazNew.geojson\"   ).json()\ngeojsonK12Enroll = FileAttachment(\"data/k12enroll.geojson\").json()\ngeojsonCity      = FileAttachment(\"data/city.geojson\"     ).json()\ngeojsonSDst      = FileAttachment(\"data/sdst.geojson\"     ).json()\ngeojsonMDst      = FileAttachment(\"data/mdst.geojson\"     ).json()\ngeojsonLDst      = FileAttachment(\"data/ldst.geojson\"     ).json()"
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#global-data",
    "href": "v9x/v900/whats-new/2-inputdata.html#global-data",
    "title": "Input Data",
    "section": "Global Data",
    "text": "Global Data\nThis section includes the changes made within the 0_GlobalData subfolder.\n\nTrip Tables\nThe college base distribution file BaseDistribution.csv that contains the household locations of students in the base year was updated using new enrollment data sources. Enrollment totals by zip code for public schools were obtained from the Utah System of Higher Education (USHE). After assigning dormitory populations to TAZs based on group quarter data from the census, the remaining enrollment distributions were done using StreetLight origin-destination data with public schools being control at the zip-code level based on USHE enrollment data.\n\n\nHousehold Disaggregation and Auto Ownership\nThe age percent lookup file Lookup - BYTAZAgePct - AllCo.csv used in household disaggregation was updated using parameters developed statewide based on 2020 census block data, 2020 ACS block group data, and 2019 population by age group data.\n\n\nMode Choice\nThe bus speed ratios in the model were further categorized and refined using actual bus speed data. The resulting bus speeds ratios were removed from the model scripts, as detailed in the General Parameters section, and included in a new bus speed ratios file bus_speed_ratios.csv. The ratios were estimated based on 2019 General Transit Feed Specification (GTFS) data, which includes scheduled time and stop locations for all bus routes.\n\nBus Speeds PlotBus Speeds DataPrevious Bus Speeds\n\n\n\n\nCode\nfaDataBusSpeeds     = FileAttachment(\"data\\\\bus_speed_ratios_long.csv\").csv({ typed: true });\nfaFunctionalClasses = FileAttachment(\"data\\\\functionalclass.csv\"      ).csv({ typed: true });\nfaTimePeriods       = FileAttachment(\"data\\\\timeperiod.csv\"           ).csv({ typed: true });\nfaAreaTypes         = FileAttachment(\"data\\\\areatype.csv\"             ).csv({ typed: true });\n\nviewof facetSelect  = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'TimePeriodName'     , label: \"Columns:\"});\nviewof domainSelect = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'AreaTypeName'       , label: \"X-Axis:\"});\nviewof strokeSelect = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'FunctionalClassName', label: \"Series:\"});\n\n// FILTER DATA\n//viewof functionalclasses_checked = Inputs.checkbox(faFunctionalClasses.map(function(d) {return d.FunctionalClassName}),\n//                                                   {value: faFunctionalClasses.map(function(d) {return d.FunctionalClassName}),\n//                                                    label: \"Function Class\"});\n//viewof timeperiods_checked       = Inputs.checkbox(faTimePeriods      .map(function(d) {return d.TimePeriodName     }),\n//                                                   {value: faTimePeriods      .map(function(d) {return d.TimePeriodName     }),\n//                                                    label: \"Time Period\"   });\n//filteredBusData = faDataBusSpeeds.filter(function(busspeed) {\n//  return functionalclasses_checked.includes(busspeed.FunctionalClassName) &&\n//         timeperiods_checked      .includes(busspeed.TimePeriodName     )// &&\n//         //areatypes        .includes(busspeed.AreaTypeName  );\n//});\n\ndomainFromSelect = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return faTimePeriods      .map(function(d) {return d.TimePeriod     }); break;\n    case 'AreaTypeName'       : return faAreaTypes        .map(function(d) {return d.AreaType       }); break;\n    case 'FunctionalClassName': return faFunctionalClasses.map(function(d) {return d.FunctionalClass}); break;\n    default                   : return                                                                       ;\n  }\n}\n\nxPlotDomainSelect = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return \"TimePeriod\"     ; break;\n    case 'AreaTypeName'       : return \"AreaType\"       ; break;\n    case 'FunctionalClassName': return \"FunctionalClass\"; break;\n    default                   : return                         ;\n  }\n}\n\nxLabel = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return \"Time Period\"     ;      break;\n    case 'AreaTypeName'       : return \"Area Type\"       ;      break;\n    case 'FunctionalClassName': return \"Functional Class\";      break;\n    default                   : return                               ;\n  }\n}\n\ndomainFacetSelect = {\n  switch(facetSelect) {\n    case 'TimePeriodName'     : return faTimePeriods      .map(function(d) {return d.TimePeriodName     }); break;\n    case 'AreaTypeName'       : return faAreaTypes        .map(function(d) {return d.AreaTypeName       }); break;\n    case 'FunctionalClassName': return faFunctionalClasses.map(function(d) {return d.FunctionalClassName}); break;\n    default                   : return;  }\n}\n\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  facet: {data: faDataBusSpeeds, x: facetSelect, label: xLabel},\n  x: {label: xLabel, domain: domainFromSelect},\n  y: {label: \"Bus Speed Ratio\" , domain: [0, 1]},\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 16 } },\n  style: {\n    fontSize: 12\n  },\n  marks: [\n    Plot.frame(),\n    Plot.line(faDataBusSpeeds, {x: xPlotDomainSelect, y: \"BusSpeedRatio\", stroke: strokeSelect, strokeWidth: 2}),\n    Plot.dot (faDataBusSpeeds, {x: xPlotDomainSelect, y: \"BusSpeedRatio\", stroke: strokeSelect, r: 4, fill: strokeSelect})\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nInputs.table(faDataBusSpeeds, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalClassName\",\n    \"TimePeriodName\",\n    \"AreaTypeName\",\n    \"BusSpeedRatio\"\n  ],\n  header: {\n    FunctionalClassName: \"Functional Class\",\n    TimePeriodName: \"Time Period\",\n    AreaTypeName: \"Area Type\",\n    BusSpeedRatio: \"Bus Speed Ratio\"\n  }})\n\n\n\n\n\n\n\n\n\n\n\nCode\nfaDataBusSpeeds_previous = FileAttachment(\"data\\\\bus_speed_ratios_previous.csv\").csv({ typed: true });\n\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  style: {\n    fontSize: 16,\n  },\n  x: {label: \"Functional Class\", tickRotate: 90, domain: faDataBusSpeeds_previous.map(function(d) {return d.FunctionalClass})//,\n      //tickFormat: (d) =&gt; {\n//          const label = d.toString(); // Convert the tick value to a string\n//          const maxWidth = 15; // Specify the maximum width for each label\n//          const words = label.split(\" \"); // Split the label into words\n//\n//          let line = \"\";\n//          let lines = [];\n//\n//          words.forEach((word) =&gt; {\n//            if (line.length + word.length &gt; maxWidth) {\n//              lines.push(line);\n//              line = \"\";\n//            }\n//            line += word + \" \";\n//          });\n//\n//          lines.push(line);\n//\n//          return lines;\n//      }\n    },\n  y: {label: \"Bus Speed Ratio\" , domain: [0, 1]},\n  color: { type: \"categorical\", legend: true },\n  marks: [\n    Plot.frame(),\n    Plot.barY(faDataBusSpeeds_previous, {x: \"FunctionalClass\", y: \"BusSpeedRatio\", stroke: \"FunctionalClass\", fill: \"FunctionalClass\"})\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n???NEED TO FIX OVERLAPPING CHART LABELS???\n\n\nAssignment\nAs described in the General Parameters section, diurnal and production/attraction factors were moved out of the 0_GeneralParameters.block file to an input file. The factors are now found in the Diurnal & PA factors.csv file."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#traffic-analysis-zones-taz",
    "href": "v9x/v900/whats-new/2-inputdata.html#traffic-analysis-zones-taz",
    "title": "Input Data",
    "section": "Traffic Analysis Zones (TAZ)",
    "text": "Traffic Analysis Zones (TAZ)\nThe TAZ zone set includes new geographies, TAZ numbering ranges, zone attributes, and districts, as well as a new \\_Source subfolder.\n\nGeographies\nChanges in TAZ geographies include both expansion of the model area and splitting and/or changing zone boundaries. The expanded model area now includes TAZs in additional portions of Box Elder County, all of western Weber County, and the entirety of Davis, Salt Lake and Utah Counties. External dummy zones (represented as quadrilaterals) were removed from the TAZ shapefile.\nAdditional area in the expanded WFRC and MAG areas include the following:\n\nCanyon areas of the Wasatch mountains up to the eastern boundary of Salt Lake, Utah, and Davis counties, and additionally the canyon areas up to eastern boundary of Box Elder County for the portion of Box Elder County that was in the v8.3.2 model.\nCanyon areas of the Wasatch mountains up to the ridge line of Weber County, excluding the Ogden Valley (Huntsville, Eden, Liberty) and other portions of eastern Weber County which remain in UDOT’s transportation planning jurisdiction.\nCanyon areas of the Oquirrh mountain range up to the western boundary of Salt Lake County\nGreat Salt Lake areas to the western boundary of Salt Lake, Davis, and Weber counties\n\nThe additional areas and reconfigured TAZs result in 694 additional zones, 688 internal zones and 6 new external zones. A comparison of zone counts is found in ?@tbl-taz-count-comparison.\nThe interactive map in Figure 1 can be explored to visualize the difference in v9 and v8 TAZs.\n\n\nCode\nmapTaz = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let lcolors = ['#0000FF'    ,'#FFFF00'   ]\n  let llabels = ['v8.3.2 TAZ' ,'v9.0.0 TAZ'];\n\n  let lyrTAZOld = L.geoJson(geojsonTazOld, { weight: 3.00, color: lcolors[0]}).addTo(map);\n  let lyrTAZNew = L.geoJson(geojsonTazNew, { weight: 0.75, color: lcolors[1]}).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'legend');\n      div.innerHTML = '';\n      for (var i = 0; i &lt; llabels.length; i++) {\n        div.innerHTML += '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + llabels[i] + '&lt;br/&gt;';\n      }\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 1: TAZ Geography Comparison Map\n\n\n\n\n\nTAZ Ranges\nThe new and previous internal and external ranges of TAZIDs by for each county are shown in ?@tbl-new-taz-ranges.\n\n\nAttributes\nThis section describes the changes made to the attributes of the TAZ shapefile.\n\nREMM Space\nTo indicate which TAZs are included in the Real Estate Market Model (REMM) space, the REMM field was added with a value of 1 indicating that it is part of REMM and 0 indicating it is not part of REMM, as shown in Figure 2.\n\n\nCode\nmapTazRemmSpace = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let remmColors = ['#00887F'   ,'#BD0026'       ]\n  let remmLabels = ['REMM Space','Non-REMM Space'];\n  \n  let lyrTAZNew = L.geoJson(geojsonTazNew, {\n                            style: function(feature) {\n                              var d = feature.properties.REMM;\n                              return d==1 ? {color:remmColors[0], weight:1, opacity:0.95} :\n                                     d==0 ? {color:remmColors[1], weight:1, opacity:0.95} : \n                                            {color:    '#000000', weight:1, opacity:0.95} ;\n                            }\n  }).addTo(map);\n  \n  var legend = L.control({position: 'bottomleft'});\n  legend.onAdd = function (map) {\n    var div = L.DomUtil.create('div', 'legend');\n    div.innerHTML = '';\n    for (var i = 0; i &lt; remmLabels.length; i++) {\n      div.innerHTML += '&lt;i style=\"background:' + remmColors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + remmLabels[i] + '&lt;br/&gt;';\n    }\n\n    // Add CSS style for the background color\n    div.style.backgroundColor = 'lightgray';\n    div.style.padding = '10px';\n    \n    return div;\n  };\n  legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 2: TAZ REMM Space\n\n\n\n\n\nParking Costs\nParking costs were updated based on 2022 parking rates obtained from Salt Lake City, web searches, and field visits. A new methodology for calculating parking cost was envisioned but not implemented for v9. Accordingly, updates to parking data were done in a way to facilitate the change to the new methodology in the future. These updates include a new polygon source file for downtown and university areas. However, since the envisioned methodology removes the use of parking cost fields for Lagoon and Salt Lake City International Airport, they were not included in this new shapefile.\n\nDowntown and University Areas\nParking costs were developed for downtown areas for Ogden, Salt Lake City, and Provo, as well as major university areas along the Wasatch Front. A new source polygon shapefile was developed to hold rates for Home-Based Work (HBW), Home-Based College (HBC), Home-Based Other (HBO), and Non-Home-Based (NHB) trip purposes. While rates are included for these four purposes, the v9.0.0 model only utilizes HBW for permanent parking and HBO for temporary parking. The future methodology will incorporate all four purposes.\n\n\nLagoon and Salt Lake City International Airport\nThe Airport & Lagoon parking costs were updated based on current parking rate information and the assumptions described in this section.\nThe cost of permanent parking for the Lagoon TAZ was set to $0 based on the assumption that workers at Lagoon do not pay for parking. The temporary parking was set to $6 as calculated by dividing the 2022 advertised parking rate of $18 per day by an assumed average occupancy of 3 people per vehicle. The cost of temporary parking in previous models was $5 in 2010 dollars. The resulting $1 increase in 2019 dollars (20%) over 9 years seems reasonable.\nThe cost of permanent parking at the Salt Lake City International Airport was set to $0 based on the assumption that workers at the airport do not pay for parking. The cost of temporary parking was set to $1.25 based on a weighted average of short-term premium and economy rates and drop offs and a assumed average vehicle occupancy rate.\nThe 2022 the cost for the short-term premium parking in the garage is $5.00 per hour. Short-term economy rate is $2.00 per hour. And for drop-offs there is no charge for parking. The assumed occupancy rate of 2 people per vehicle would result in per-person rates of $2.50, $1.00, and $0.00, respectively. The average of the three per-person rates is $1.75. Given the unknown distribution of travelers, but assuming more drop-offs than parking, a lower value than $1.75 should be expected. The 2019 cost was chosen to be $1.25.\nCompared to the previous temporary parking values of $1 in 2010 dollars, the chosen cost represents a 25 cent increase in 2019 dollars (25%) over 9 years. This growth seems reasonable, especially given the recent improvements to the airport. Additional justification for the chosen increase is the CPI adjustment, which for the 2010 value of $1.00 in results in a 2019 value of $1.18.\n\n\n\n\nSmall Districts\nThere are now 129 total small districts sequentially numbered from northwest to southeast in each medium district. The small district name field DSML_NAME includes a prefix of Medium District index followed by a colon and then the sequential small district count (e.g. 15:1). Districts are shown in Figure 3. Two additional polygon shapefiles were added to the Districts subfolder to represent the Wasatch Front sub area and the REMM area.\n\n\nCode\nmapDistricts = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let lcolors     = ['#FF0000'       ,'#00FF00'        ,'#0000FF'        ];\n  let llabels     = ['Small District','Medium District','Large District' ];\n\n  let lyrLDst = L.geoJson(geojsonLDst, { weight: 12.00, color: lcolors[2], fillOpacity: 0}).addTo(map);\n  let lyrMDst = L.geoJson(geojsonMDst, { weight:  6.00, color: lcolors[1], fillOpacity: 0}).addTo(map);\n  let lyrSDst = L.geoJson(geojsonSDst, { weight:  2.00, color: lcolors[0], fillOpacity: 0}).addTo(map);\n\n  lyrSDst.eachLayer(function(layer) {\n    var name = layer.feature.properties.DSML_NAME; // Assuming the attribute field is named \"DSML_NAME\"\nlayer.bindTooltip(name); // Add tooltip\n    // OR\n    // layer.bindPopup(name); // Add popup\n  });\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'legend');\n      div.innerHTML = '';\n      for (var i = 0; i &lt; llabels.length; i++) {\n        div.innerHTML += '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + llabels[i] + '&lt;br/&gt;';\n      }\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 3: Districts\n\n\n\n\n\nSource\nThe _Source subfolder was added and includes the following shapefile data sets: Cities, Counties, Districts, and Environmental Constraints. Additionally, a ArcGIS Pro project & mapping files can be found in the __ViewTAZDistricts subfolder."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#socioeconomic-data",
    "href": "v9x/v900/whats-new/2-inputdata.html#socioeconomic-data",
    "title": "Input Data",
    "section": "Socioeconomic Data",
    "text": "Socioeconomic Data\nForecasts and control totals were updated based on new census data, updated base year parcel data, and the results of the REMM Model.\n\nForecasts\nThe SE forecasts were updated for the WFRC areas. Box Elder updates were taken from the UDOT SE Forecasts from June 8, 2022. The updated SE forecasts can be found using the Household and Job Forecasts Web App. This map only contains the latest forecast and not any iterative step, such as the SE datasets in the model folder. Click on the View Advanced Version link in the header to enable the “Changes” option where you can see the change in forecasts between v8.3.2 and v9.0.0. You can explore the data in the embedded web application in Figure 4\n\n\nCode\nhtml`&lt;div style=\"width: 765px; height: 680px; transform: scale(0.85); transform-origin: 0 0;\"&gt;\n         &lt;iframe width=\"900\" height=\"800\" src=\"https://wfrc.org/household-job-forecast-map/\" title=\"Household and Job Forecast\"&gt;&lt;/iframe&gt;\n     &lt;/div&gt;`\n\n\n\n\n\n\nFigure 4: Embedded Household and Job Forecast Map\n\n\n\n\n\nControl Totals\nUpdates to the county control totals were made based on projections from the Gardner Policy Institute. See Figure 5 for a comparison between v8 and v9 by county for any given socioeconomic category.\n\n\nCode\nfaControlTotals = FileAttachment(\"data/controltotal.csv\").csv({ typed: true });\nfaCounties      = FileAttachment(\"data/counties.csv\"    ).csv({ typed: true });\n\ncats = new Map([['Total Population'               , 'TOTPOP'    ],\n                ['Group Quarter Population'       , 'GQ_Pop'    ],\n                ['Household Population'           , 'HH_Pop'    ],\n                ['Households'                     , 'HH'        ],\n                ['Household Size'                 , 'HH_Size'   ],\n                ['Population 0-17'                , 'POP_00_17' ],\n                ['Population 18-64'               , 'POP_18_64' ],\n                ['Population 65+'                 , 'POP_65P'   ],\n                ['All Employment'                 , 'ALLEMP'    ],\n                ['Retail Employment'              , 'RETL'      ],\n                ['Food Employment'                , 'FOOD'      ],\n                ['Manufacturing Employment'       , 'MANU'      ],\n                ['Wholesale Employment'           , 'WSLE'      ],\n                ['Office Employment'              , 'OFFI'      ],\n                ['Government/Education Employment', 'GVED'      ],\n                ['Health Employment'              , 'HLTH'      ],\n                ['Other Employment'               , 'OTHR'      ],\n                ['Agriculture Employment'         , 'AGRI'      ],\n                ['Mining Employment'              , 'MING'      ],\n                ['Construction Employment'        , 'CONS'      ],\n                ['Home-Based Job Employment'      , 'HBJ'       ],\n                ['Jobs per Household'             , 'Job_HH'    ],\n                ['Working Population per Job'     , 'WrkPop_Job']])\n\nviewof selectCounty   = Inputs.select(faCounties.map(function(d) {return d.CO_NAME}), {value: 'Salt Lake', label: 'County: '});\nviewof selectCategory = Inputs.select(cats, {value: 'HH_Pop', label: 'Category: '});\n// FILTER DATA\nfilteredControlTotals = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         selectCategory == ct.Category;\n});\n\nmaxY = Math.max(...filteredControlTotals.map(item =&gt; item.ControlTotal));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d =&gt; d},\n  y: {label: 'Control Total', domain: [0, maxY]},\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 16 } },\n  marginLeft: 60,\n  style: {\n    fontSize: 12\n  },\n  marks: [\n    Plot.line(filteredControlTotals, {x: 'YEAR', y: 'ControlTotal', stroke: 'ModelVersion', strokeWidth: 3}),\n  ]\n})\n\n\n\n\n\n\nFigure 5: County Control Totals by Category\n\n\n\n\n\nSchool Enrollment\nThe Kindergarten through 12th grade (K-12) enrollment data was updated using the 2019 statewide school enrollment database. This was done at the state-wide level and then applied to the Wasatch Front. Additionally, a point shapefile of the state-wide dataset is included with the TDM, as shown in Figure 6.\n\n\nCode\nmapK12Enroll = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  var cHigh = \"#FF0000\"\n  var cMidl = \"#00FF00\"\n  var cElem = \"#0000FF\"\n\n  var geojsonMarkerOptions_High = {\n      radius: 4,\n      fillColor: cHigh,\n      color: cHigh,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n\n  var geojsonMarkerOptions_Midl = {\n      radius: 4,\n      fillColor: cMidl,\n      color: cMidl,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n  var geojsonMarkerOptions_Elem = {\n      radius: 4,\n      fillColor: cElem,\n      color: cElem,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n            \n  // function to use different icons based on number of stations\n  function markerByEnrollment(feature) {\n    if (feature.properties.Enrol_High &gt;= 100) {\n      return geojsonMarkerOptions_High\n    } else if (feature.properties.Enrol_Midl &gt;= 100){\n      return geojsonMarkerOptions_Midl;\n    } else{\n      return geojsonMarkerOptions_Elem;\n    }\n  };\n\n  function getColor(c) {\n    if (c=='High School') {\n      return cHigh;\n    } else if (c=='Middle School') {\n      return cMidl;\n    } else if (c=='Elementary School') {\n      return cElem;\n    }\n  };\n          \n  // create the GeoJSON layer and call the styling function with each marker\n  var layerSchools = L.geoJSON(geojsonK12Enroll,  {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;\" + feature.properties.SchoolName + \" Enrollment&lt;/b&gt;\" +\n                    \"&lt;br&gt;&lt;b&gt;High School: &lt;/b&gt;\" + feature.properties.Enrol_High +\n                    \"&lt;br&gt;&lt;b&gt;Middle School: &lt;/b&gt;\" + feature.properties.Enrol_Midl +\n                    \"&lt;br&gt;&lt;b&gt;Elementary School: &lt;/b&gt;\" + feature.properties.Enrol_Elem);\n      var mymarker = L.circleMarker(latlng, markerByEnrollment(feature));\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'info legend');\n      var labelsBill = []; // legend title\n      var lcategories = ['High School','Middle School','Elementary School'];\n\n      for (var i = 0; i &lt; lcategories.length; i++) {\n        div.innerHTML += \n          labelsBill.push(\n            '&lt;i class=\"bi bi-circle-fill\" style=\"color:' + getColor(lcategories[i]) + '\"&gt;&lt;/i&gt; ' +\n          (lcategories[i] ? lcategories[i] : '+'));\n      }\n      div.innerHTML = labelsBill.join('&lt;br&gt;');\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n\n  //let lyrK12Enroll = L.geoJson(geojsonK12Enroll, { size: 5, color: '#FFFFFF'}).addTo(map);\n  \n}\n\n\n\n\n\n\nFigure 6: K-12 School Locations\n\n\n\n\n\nMedian Income\nMedian income & value-of-time (VOT) inputs for the model were updated with 2019 data and used to update the TAZ Median Income in the TAZ file."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#highway-network",
    "href": "v9x/v900/whats-new/2-inputdata.html#highway-network",
    "title": "Input Data",
    "section": "Highway Network",
    "text": "Highway Network\nThe highway network was expanded to incorporate the new model areas. See TAZ Geographies. The 2023 RTP fields have been updated to reflect the adopted 2023 RTP.\n\nHighway Node Numbering Schema\nUpdates to the highway node numbering schema are shown in ?@tbl-master-network-node-numbering-schema. An additional reference file called _Node Definition - v832 & v9.xlsx is found in the 3_Highway folder.\nThe highway network updates include the following:\n\nUpdated Commuter-Rail Transit (CRT) Fare Zone\n\nVineyard & Orem stations were modified to have the same fare zone (similar to North Temple & Central)\nUpdated and fixed fare zone definitions in WFRC area\n\nFixed small network error in Box Elder where a local road was drawn to the centroid of v8.3.2 TAZ 53\nA few edits to WFRC draft RTP project list\nUpdated segment ids\n\nMade consistent with the latest segment shapefile\nUpdated segments to account for recent network changes & add segment definitions to account for rail transit\n\nAdded SEGEX_RTP & SEGEX_NEED as text fields (to be populated later when script/processing updated). These are segment ID exception fields where the future SEGIDs are different than existing SEGIDs.\nPhase change for Managed Motorways in WFRC area\nA couple of phasing updates from the WFRC RTP project list\nCleaned up GIS23_32 and GIS23_42 fields\nDifferentiated what projects will be built by 2028 from what will be built by 2023\nRail SEGID additions were made to allow for easier transit result visualization.\n\nAdditionally, a MergedMasterNet - 2022-09-19a folder was added to serve as a workspace for editing and updating Merged Master Network and for exporting to v8.3.2 & v9 master networks."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#transit",
    "href": "v9x/v900/whats-new/2-inputdata.html#transit",
    "title": "Input Data",
    "section": "Transit",
    "text": "Transit\nThe transit line files and CUBE Public Transport (PT) files were updated to correspond with the 2023 RTP:\n\n2019 was thoroughly vetted to represent Aug 2019 change day\n2023: updated route alignment, headways & stops based on August 2022 change day (WFRC & MAG)\n2028: updated route alignment, headways & stops based on UTA 5-Year Service Plan (WFRC & MAG)\nRTP 2032, 2042 & 2050: rolled 2028 changes forward into plan phased years & updated based on 2023 draft plan\nNeeds 2032, 2042 & 2050: rolled 2028 changes forward into plan phased years & updated based on 2023 draft plan\n\nRoute S902 was updated so route no longer go to the I-80 Parleys Canyon external node.\n\nPublic Transport (PT) Parameters\nThe fare files were updated with 2019 fare data. The fares were updated to match the actual advertised fares, whereas the v8.3.2 model contained a 46% adjustment fares. This reduction accounts for monthly pass, education, fare-pay, senior, employer paid, and other discounts. This adjustment is now explicitly defined, as was discussed in the General Parameters section.\n\n\nGeneral Hand-Coded Support Links\nGeneral_hand_coded_walk_links.NTL files were reviewed and updated.\n\n\nTransit Route Tester\nA route tester script was added in the _chk Transit Compile on Net folder. The script checks to see if transit line files for the respective scenario compile on the scenario highway network. This can be used for reviewing transit line edits outside of the model stream."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#externals",
    "href": "v9x/v900/whats-new/2-inputdata.html#externals",
    "title": "Input Data",
    "section": "Externals",
    "text": "Externals\nExternal locations and forecasts were updated. The locations of the former and updated location of externals is shown in Figure 7. Forecasts through 2060 were generated for the updated external locations using historical data through 2019.\n\n\nCode\ngeojsonExternalOld   = FileAttachment(\"data/externalold.geojson\"  ).json()\ngeojsonExternalNew   = FileAttachment(\"data/externalnew.geojson\"  ).json()\ngeojsonMasterNetLink = FileAttachment(\"data/masternetlink.geojson\").json()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nmapExternals = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map); \n\n  var cNew = \"#FF0000\";\n  var cOld = \"#00FF00\";\n\n  var squareIcon_New = L.icon({\n    iconUrl: 'https://wfrc.org/wftdm-docs/_pictures/square_green.png',  // Replace with the path to your square-like icon image\n    iconSize: [15, 15],          // Adjust the size of the square-like icon\n    iconAnchor: [5, 5],          // Adjust the anchor point if needed\n  });\n\n  var squareIcon_Old = L.icon({\n    iconUrl: 'https://wfrc.org/wftdm-docs/_pictures/square_red.png',       // Replace with the path to your square-like icon image\n    iconSize: [15, 15],          // Adjust the size of the square-like icon\n    iconAnchor: [5, 5],          // Adjust the anchor point if needed\n  });\n\n  var cCommon = \"#FF0000\"\n  var cAdded  = \"#00FF00\"\n  var cOther  = \"#888888\"\n\n  var geolineCommon = {\n      color: cCommon,\n      weight: 2,\n      opacity: 1,\n  };\n\n  var geoLineAdded = {\n      color: cAdded,\n      weight: 2,\n      opacity: 1,\n  };\n  var geoLineOther = {\n      color: cOther,\n      weight: 2,\n      opacity: 1,\n  };\n            \n  // function to use different icons based on number of stations\n  function markerByNewNet(feature) {\n    if (feature.properties.FLG_NEWNET==3) {\n      return geolineCommon;\n    } else if (feature.properties.FLG_NEWNET==23){\n      return geoLineAdded;\n    } else{\n      return geoLineOther;\n    }\n  };\n\n  function getColor(c) {\n    if        (c=='Common') {\n      return cCommon;\n    } else if (c=='Added') {\n      return cAdded;\n    } else if (c=='Other') {\n      return cOther;\n    }\n  };\n\n  //let lyrNetwork = L.geoJson(geojsonMasterNetLink, { weight: 0.75, color: \"#888888\", fillOpacity: 0}).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n//  var lyrNetwork = L.geoJson(geojsonMasterNetLink,  { function (markerByNewNet(feature))}).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n  var externalNewLayer = L.geoJSON(geojsonExternalNew, {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;Node: \" + feature.properties.N + \"&lt;/b&gt;\");\n      var mymarker = L.marker(latlng, { icon: squareIcon_New });\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n  var externalOldLayer = L.geoJSON(geojsonExternalOld, {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;Node: \" + feature.properties.N + \"&lt;/b&gt;\");\n      var mymarker = L.marker(latlng, { icon: squareIcon_Old });\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'info legend');\n      var labelsBill = []; // legend title\n      var lcategories = ['v8.3.2','v9.0.0'];\n      var lcolors     = [cOld    ,cNew    ];\n\n      for (var i = 0; i &lt; lcategories.length; i++) {\n        div.innerHTML += \n          labelsBill.push(\n            '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' +\n          (lcategories[i] ? lcategories[i] : '+'));\n      }\n      div.innerHTML = labelsBill.join('&lt;br&gt;');\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);  \n}\n\n\n\n\n\n\nFigure 7: Externals\n\n\n\nThe updated numbering scheme can be found in Figure 8, Figure 9, and Figure 10.\n\n\n\nFigure 8: v9 External Description.\n\n\n\n\n\nFigure 9: v8.3.2 External Description.\n\n\n\n\n\nFigure 10: v9 & v8.3.2 External Description."
  },
  {
    "objectID": "v9x/v900/whats-new/2-inputdata.html#segment",
    "href": "v9x/v900/whats-new/2-inputdata.html#segment",
    "title": "Input Data",
    "section": "Segment",
    "text": "Segment\nThe Master_Segs_withFactors_20220915.shp file contains the updated segments to align with 2023 RTP network changes. Additional segments for rail transit corridors were added in the Wasatch Front area."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html",
    "href": "v9x/v900/whats-new/3-inputprocessing.html",
    "title": "Input Processing",
    "section": "",
    "text": "Changes made to the 2_ModelScripts\\0_InputProcessing folder are discussed in this section.\nGlobal changes made to the all the scripts in this folder included modifications to the script to account for removal of the CITY, COUNTY, and EXTERNAL fields from the TAZ shapefile and updates to use true shape link and node shapefiles."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#setup",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#setup",
    "title": "Input Processing",
    "section": "Setup",
    "text": "Setup\nThe folder setup routine was integrated into the HailMary.s script to run automatically. It is no longer necessary prior to running the model to copy empty folders or run the _CreateOutputFolders.s separately."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#se-processing",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#se-processing",
    "title": "Input Processing",
    "section": "SE Processing",
    "text": "SE Processing\nThe 1_DemographicsAnalysis.s script was updated to read ControlTotal_SE_AllCounties.csv. Weber County contains two sets of indexes bus on whether it is the UDOT Subarea 9057 or the Wasatch Front Subarea 9157."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#network-processing",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#network-processing",
    "title": "Input Processing",
    "section": "Network Processing",
    "text": "Network Processing\nA bug in the Connected-and-Autonomous Vehicle (CAV) calculation was fixed where the column index was needed to be incremented by 1 to link up with lookup tables.\nThe hard-coded turn penalty node numbers in the 3_TurnPenalty.s script were updated to the new master network node numbering."
  },
  {
    "objectID": "v9x/v900/whats-new/3-inputprocessing.html#time-of-day-factors",
    "href": "v9x/v900/whats-new/3-inputprocessing.html#time-of-day-factors",
    "title": "Input Processing",
    "section": "Time of Day Factors",
    "text": "Time of Day Factors\nA new file 1_CalculateTimeOfDayFac.s is created during the model that includes time of day factors for use in following scripts."
  },
  {
    "objectID": "v9x/v900/whats-new/4-hhdisag.html",
    "href": "v9x/v900/whats-new/4-hhdisag.html",
    "title": "Household Disaggregation and Auto Ownership",
    "section": "",
    "text": "The 1_LifeCycle.s script was modified to account for removal of the COUNTY field from the TAZ shapefile and for the removal of county-specific id variables from 0_GeneralParameters.block."
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html",
    "href": "v9x/v900/whats-new/6-distribution.html",
    "title": "Distribution",
    "section": "",
    "text": "Changes made to the 2_ModelScripts\\3_Distribute folder are discussed in this section. The changes described in this section were made exclusively in the 1_Distribution.s script."
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html#convergence",
    "href": "v9x/v900/whats-new/6-distribution.html#convergence",
    "title": "Distribution",
    "section": "Convergence",
    "text": "Convergence\nThe convergence criteria was updated for trip table and link convergences, as well as the check criteria.\n\nTrip Table Convergence\nFor trip table convergence, the percent change threshold was reduced from 10% to 7.5%. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe trip matrix cell is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nTrips from the current iteration are less than 1\n\nWith the exception that the cell is not converged if the trips from the current iteration is greater than zero and the trips from the previous iteration equals zero.\n\n\nLink Convergence\nFor link volume convergence, the percent change threshold was increased from 5% to 7.5%. Centroid connectors are not considered when determining convergence. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe link is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nVolume from current iteration equals zero and volume from previous iteration equals zero.\n\nWith the exception that the link is not converged if:\n\nVolume from the current iteration is greater than zero and the volume from the previous iteration equals zero, or\nVolume from the current iteration is zero and the volume from the previous iteration is greater than zero.\n\n\n\nCheck Criteria\nThe convergence check criteria was updated. The minimum of 5 iterations requirement was removed. The RGAP parameter passthrough variable from moved from the block file to main script just before each assignment call The EV RGAP parameter to value in 0GeneralParameters.block divided by 10."
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html#reports",
    "href": "v9x/v900/whats-new/6-distribution.html#reports",
    "title": "Distribution",
    "section": "Reports",
    "text": "Reports\nThe initializing and logging of trip, vehicle-miles traveled (VMT), and vehicle-hours traveled (VHT) variables were removed from the log file. The trip table and link convergence reports in the log file were updated.\nThe following new reports were added to better track convergence:\n\n_Stats - Distrib Assign - @RID@.csv\n_Stats - Distrib Loaded Net - @RID@.csv\n_Stats - Distrib Trip Table - @RID@.csv"
  },
  {
    "objectID": "v9x/v900/whats-new/6-distribution.html#other",
    "href": "v9x/v900/whats-new/6-distribution.html#other",
    "title": "Distribution",
    "section": "Other",
    "text": "Other\nA @unloadednetprefix@_@n@_convg.net file was added to Temp\\3_Distribute folder. It includes following fields (li.1=current iteration, li.2=previous iteration):\n\nAM_Cur = li.1.AM_VOL\nMD_Cur = li.1.MD_VOL\nPM_Cur = li.1.PM_VOL\nEV_Cur = li.1.EV_VOL\nDY_Cur = li.1.DY_VOL\nAM_Pre = li.2.AM_VOL\nMD_Pre = li.2.MD_VOL\nPM_Pre = li.2.PM_VOL\nEV_Pre = li.2.EV_VOL\nDY_Pre = li.2.DY_VOL\nAM_Diff = AM_Cur - AM_Pre\nMD_Diff = MD_Cur - MD_Pre\nPM_Diff = PM_Cur - PM_Pre\nEV_Diff = EV_Cur - EV_Pre\nDY_Diff = DY_Cur - DY_Pre\nAM_PctDiff = ABS(AM_Diff) / AM_Pre\nMD_PctDiff = ABS(MD_Diff) / MD_Pre\nPM_PctDiff = ABS(PM_Diff) / PM_Pre\nEV_PctDiff = ABS(EV_Diff) / EV_Pre\nDY_PctDiff = ABS(DY_Diff) / DY_Pre\nCONVLINK (if (DY_PctDiff&lt;=_ConvThreshold)  CONVLINK = 1)"
  },
  {
    "objectID": "v9x/v900/whats-new/7-mc.html",
    "href": "v9x/v900/whats-new/7-mc.html",
    "title": "Mode Choice",
    "section": "",
    "text": "Changes made to the 2_ModelScripts\\4_ModeChoice folder are discussed in this section. Updates to the mode choice portion of the model include transit skims and district summaries."
  },
  {
    "objectID": "v9x/v900/whats-new/7-mc.html#transit-skims",
    "href": "v9x/v900/whats-new/7-mc.html#transit-skims",
    "title": "Mode Choice",
    "section": "Transit Skims",
    "text": "Transit Skims\nModifications to the transit skim script to account for the new bus speeds input file."
  },
  {
    "objectID": "v9x/v900/whats-new/7-mc.html#district-summaries",
    "href": "v9x/v900/whats-new/7-mc.html#district-summaries",
    "title": "Mode Choice",
    "section": "District Summaries",
    "text": "District Summaries\nThe district summary script was modified to change COUNTY field references to CO_FIPS for county summaries due to removal of field from TAZ shapefile."
  },
  {
    "objectID": "v9x/v900/whats-new/8-assign.html",
    "href": "v9x/v900/whats-new/8-assign.html",
    "title": "Highway Assignment",
    "section": "",
    "text": "The summarize loaded networks script was modified to point the geometry input reference to the input processing output folder instead of the highway inputs folder."
  }
]