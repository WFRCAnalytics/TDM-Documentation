[
  {
    "objectID": "v9x/v900/calib-valid/3-auto-own.html",
    "href": "v9x/v900/calib-valid/3-auto-own.html",
    "title": "Version 9.0.0 - Calibration/Validation",
    "section": "",
    "text": "Auto Ownership\nThe Auto Ownership model begins with the disaggregated households by TAZ and calculates how many vehicles each group owns. Households by vehicle ownership is grouped by 0, 1, 2, and 3+ vehicles. Auto ownership is based on utility functions for each combination of household size group, worker group, and income level (low/high). The utilities for each TAZ are then converted into probabilities. When the probabilities are multiplied by the associated number of households, then an auto ownership distribution by TAZ is created.\nThe utility functions for auto ownership contain a series of binary and linear variables. The binary variables are loop toggles that are set to 1 or 0 for household size groups, worker groups, and income levels. There are also two linear variables that are taken from TAZ attributes: population density of five nearest zones and employment within 30 minutes by transit. The coefficients for the utility function are shown in Table 1.\nThe code loops through the three groups to create utilities for each combination of binary variables for each TAZ. As can be seen in the table, for household size groups 5 and 6+, 3+ workers in a household, and high income, there are zero utility coefficients, which mean for combinations with these variables there is no utility. Additionally, the 3-vehicle utility is always set to 0 for every combination.\n\n\n\n\nTable 1: Coefficients for Vehicle Ownership Utility Functions\n\n\n\n\n\n\n\n\n\nVariable\n0-Vehicle Utility Function Coefficients\n1-Vehicle Utility Function Coefficients\n2-Vehicle Utility Function Coefficients\n3+-Vehicle Utility Function Coefficients\n\n\n\n\nConstant\n-5.007\n-2.185\n0.148\n0\n\n\nHousehold Size of 1\n3.671\n3.441\n0.951\n0\n\n\nHousehold Size of 2\n1.036\n1.016\n0.758\n0\n\n\nHousehold Size of 3\n0.186\n0.134\n-0.318\n0\n\n\nHousehold Size of 4\n0.001\n-0.738\n-0.793\n0\n\n\nHousehold Size of 5\n0\n0\n0\n0\n\n\nHousehold Size of 6+\n0\n0\n0\n0\n\n\n0 Worker in Household\n0.998\n0.514\n0\n0\n\n\n1 Workers in Household\n0\n0.552\n0.081\n0\n\n\n2 Workers in Household\n0\n0\n0.07\n0\n\n\n3+ Workers in Household\n0\n0\n0\n0\n\n\nLow Income (Group 1)\n2.733\n1.557\n0.538\n0\n\n\nHigh Income (Group 2-4)\n0\n0\n0\n0\n\n\nPopulation Density of 5 nearest Zones\n0.05159\n0.07346\n0.02366\n0\n\n\nEmployment within 30 minutes by transit\n1.99e-05\n8.342e-06\n0\n0\n\n\n\n\n\n\nUsing the utility values, probabilities for the vehicle ownership groups are calculated for each TAZ for each combination. The probability is the ratio of the exponential utility of each vehicle ownership group divided by the sum of the exponential utility of all three vehicle ownership groups for each combination. The vehicle ownership probabilities are multiplied by their associated household numbers as calculated in the household disaggregation script to get the number of households in each vehicle ownership group. Additionally, several aggregations are made to calculate total number of vehicles in different groupings. When calculating the number of vehicles in a 3+-vehicle group, the value of 3.5 number of vehicles per 3+ households is used.\n???Which validation charts should I add???"
  },
  {
    "objectID": "v9x/v900/whats-new/data/crop-volume-pngs.html",
    "href": "v9x/v900/whats-new/data/crop-volume-pngs.html",
    "title": "Documentation",
    "section": "",
    "text": "Code\nfrom PIL import Image\n\n\n\n\nCode\n# 150%, Home button, zoom out once, F11 --- Windows+Shift+S click upright screen\nim = Image.open('map_pngs/vol19.png')\nim_crop = im.crop((400, 400, 800, 1600))\nim_crop.save('map_pngs/vol19-cropped.png', quality=1000)\n\n\n\n\nCode\ndef cropImage(pngName):\n    im = Image.open('map_pngs/' + pngName + '.png')\n    im_crop = im.crop((400, 400, 800, 1600))\n    im_crop.save('map_pngs/' + pngName + '-cropped.png', quality=1000)\n\n\n\n\nCode\ncropImage('vol19')\ncropImage('vol50')"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The changes made to the 0_GeneralParameters.block file are discussed in this section.\n\n\nWith the update to the TAZ inputs, the TAZ references were made in various locations.\n\n\nTAZ and highway node references were update with new zone numbers as shown in Table 1.\n\n\n\n\nTable 1: Renumbered Range and Highway TAZs\n\n\nRange\nCode\nTAZ\n\n\n\n\nUsed Zones\nUsedZones\n3629\n\n\nBox Elder County Range\nBoxElderRange\n1-153\n\n\nWeber County Range\nWeberRange\n154-581\n\n\nDavis County Range\nDavisRange\n582-905\n\n\nSalt Lake County Range\nSLRange\n906-2216\n\n\nUtah County Range\nUtahRange\n2217-3546\n\n\nDummy Zones\nDummyzones\n3547-3600\n\n\nExternal Zones\nExternalzones\n3601-3629\n\n\nNorth Brigham City\nNorthBC\n3604,3605,3606\n\n\nHighway Nodes\nHwyNodes\n10000-99999\n\n\n\n\n\n\nThe following ranges were removed: RegionRange, WFRCRange, MAGRange.\n\n\n\nCollege and university were updated with new zone numbers. See Table 2. Where noted, several colleges were effectively discontinued, meaning references to these schools are still in the code base, but enrollment was set to zero. ???ADD INPUTS DOC REFERENCE???\n\n\n\n\nTable 2: Renumbered College and University Zones\n\n\nCollege or University\nCampus\nAddress\nCode\nTAZ\nStatus\n\n\n\n\nEnsign College\nMain\n95 N 300 WSalt Lake City, UT 84101\nEnsign\n1029\nExisting\n\n\nWestminster College\nMain\n1840 S 1300 ESalt Lake City, UT 84105\nWestmin\n1263\nExisting\n\n\nUniversity of Utah\nMain\n201 Presidents CirSalt Lake City, UT 84112\nUOFU_Main\n1051\nExisting\n\n\n\nMedical\n30 N 1900 ESalt Lake City, UT 84132\nUOFU_Med\n1007\nDiscontinued\n\n\nWeber State University\nMain\n3848 Harrison BlvdOgden, UT 84403\nWSU_Main\n437\nExisting\n\n\n\nDavis\n2750 University Park BlvdLayton, UT, 84041\nWSU_Davis\n693\nExisting\n\n\n\nWest\n5627 S 3500 WRoy, UT, 84067\nWSU_West\n521\nDiscontinued\n\n\nSalt LakeCommunity College\nMain\n4600 S Redwood RdTaylorsville, UT 84123\nSLCC_Main\n1580\nExisting\n\n\n\nSouth City\n1575 S State StreetSalt Lake City, UT 84115\nSLCC_SC\n1231\nExisting\n\n\n\nJordan\n3491 W 9000 SWest Jordan, UT 84088\nSLCC_JD\n1776\nExisting\n\n\n\nMeadbrook\n218 W 3900 SSalt Lake City, UT 84107\nSLCC_Mead\n1491\nDiscontinued\n\n\n\nMiller\n9750 S 300 WSandy, UT 84070\nSLCC_ML\n1886\nExisting\n\n\n\nLibrary\n231 E 400 SSalt Lake City, UT 84111\nSLCC_LB\n1085\nDiscontinued\n\n\n\nHighland\n3760 S Highland DriveSalt Lake City, UT 84106\nSLCC_HL\n1525\nDiscontinued\n\n\n\nAirport\n551 2200 WSalt Lake City, UT 84116\nSLCC_Airp\n979\nDiscontinued\n\n\n\nWestpointe\n2150 W Dauntless AveSalt Lake City, UT 84116\nSLCC_West\n959\nDiscontinued\n\n\n\nHerriman\n14200 S 4000 WHerriman, UT\nSLCC_HM\n2031\nDiscontinued\n\n\nBrigham Young University\nMain\n1 N University HillProvo, UT 84602\nBYU\n2939\nExisting\n\n\nUtah Valley University\nMain\n800 West University ParkwayOrem, UT 84058\nUVU_Main\n2848\nExisting\n\n\n\nGeneva\n951 S Geneva RdOrem, UT 84058\nUVU_Geneva\n2882\nDiscontinued\n\n\n\nLehi\n2301 W. Ashton BlvdLehi, UT 84043\nUVU_Lehi\n2606\nExisting\n\n\n\nVineyard\nMill RdVineyard, UT\nUVU_Vine\n2809\nFuture\n\n\n\nPayson\nFuture Nebo Belt RdPayson, UT\nUVU_Payson\n3336\nFuture\n\n\n\n\n\n\n\n\n\nSpecial generators were updated with new zone numbers, as shown in Table 3.\n\n\n\n\nTable 3: Renumbered College and University Zones\n\n\nSpecial Generator\nCode\nTAZ\n\n\n\n\nLagoon Amusement Park\nLagoon\n781\n\n\nSalt Lake City International Airport\nAiport\n965\n\n\nLDS Salt Lake Temple Square\nTempleSquare\n1035\n\n\nSalt Lake City Main Library\nSLC_Library\n1147\n\n\n\n\n\n\n\n\n\n\nThe income break points for Salt Lake City International Airport were updated as shown in Table 4.\n\n\n\n\nTable 4: Airport Income Levels\n\n\nCategory Break Point\nCode\nIncome\n\n\n\n\nLow\nIncome_Lo\n$45,000\n\n\nMedium\nIncome_Md\n$75,000\n\n\nHigh\nIncome_Hi\n$125,000\n\n\n\n\n\n\n\n\n\nRemoved the county identification section section containing the following variables: CountyRange, CountyName1, CountyName2, CountyName3, CountyName4, CountyName5, CO_Name1, CO_Name2, CO_Name3, CO_Name4, CO_Name5.\n\n\n\nRemoved the air quality conformity section containing the following variables broken down by each county and 3 cities: RE_ID, WE_ID, DA_ID, SL_ID, UT_ID, BE_ID, OC_ID, SC_ID, PC_ID.\n\n\n\nThe updated regional median income was $74,946 from 2019 5-year ACS, in 2019 dollars. This represents average for just the Wasatch Front region.\n\n\n\n\n\nThe vehicle occupancy rates were updated expanded to additional trips purposes. See Table 5 and Table 6. Variables were renamed where indicated. Auto occupancy parameters were updated based on 2012 Household Travel Survey (reprocessed). Values represent average persons per vehicle for just the Wasatch Front model space. External trips are average for IX + XI, all other parameters are averages for II trips.\n???SHOW PREVIOUS VALUES???\n\n\n\n\nTable 5: Average Auto-Occupancy Codes and Rates\n\n\nTrip Purpose\nCode\nPrevious Code\nUpdated Value\n\n\n\n\nHome-Based Work\nVehOcc_HBW\nVEH_OCCUPANCY_HBW\n1.10\n\n\nHome-Based Shopping\nVehOcc_HBShp\nVEH_OCCUPANCY_HBSHP\n1.63\n\n\nHome-Based Other\nVehOcc_HBOth\nVEH_OCCUPANCY_HBOTH\n1.68\n\n\nHome-Based School\nVehOcc_HBSch\nVEH_OCCUPANCY_HBSCH\n1.76\n\n\nHome-Based College\nVehOcc_HBC\nVEH_OCCUPANCY_HBC\n1.12\n\n\nNon-Home-Based Work\nVehOcc_NHBW\nVEH_OCCUPANCY_NHBW\n1.21\n\n\nNon-Home-Based Non-Work\nVehOcc_NHBNW\nVEH_OCCUPANCY_NHBNW\n1.76\n\n\nRecreation\nVehOcc_Rec\n\n1.68\n\n\nHome-Based Other (sub-category)\nVehOcc_HBO\nVEH_OCCUPANCY_HBO\n1.67\n\n\nNon-Home-Based (sub-category)\nVehOcc_NHB\nVEH_OCCUPANCY_NHB\n1.54\n\n\nExternal Work\nVehOcc_ExtWrk\n\n1.16\n\n\nExternal Home-Based Other\nVehOcc_ExtHBO\n\n1.82\n\n\nNon-Home-Based\nVehOcc_ExtNHB\n\n1.73\n\n\nExternal Recreation\nVehOcc_ExtRec\n\n1.73\n\n\n\n\n\n\n???WE SHOULD PROBABLY SHOW PREVIOUS VALUES???\n\n\n\n\nTable 6: Average Auto-Occupancy Codes and Rates for Vehicles with 3+ Persons\n\n\nTrip Purpose\nCode\nPrevious Code\nUpdated Value\n\n\n\n\nHome-Based Work\nVehOcc_3p_HBW\nVEH_OCC_3P_HBW\n3.53\n\n\nHome-Based Shopping\nVehOcc_3p_HBShp\n\n3.49\n\n\nHome-Based Other\nVehOcc_3p_HBOth\n\n3.73\n\n\nHome-Based School\nVehOcc_3p_HBSch\n\n3.88\n\n\nHome-Based College\nVehOcc_3p_HBC\nVEH_OCC_3P_HBC\n3.24\n\n\nNon-Home-Based Work\nVehOcc_3p_NHBW\n\n3.71\n\n\nNon-Home-Based Non-Work\nVehOcc_3p_NHBNW\n\n3.71\n\n\nRecreation\nVehOcc_3p_Rec\n\n3.73\n\n\nHome-Based Other (sub-category)\nVehOcc_3p_HBO\nVEH_OCC_3P_HBO\n3.68\n\n\nNon-Home-Based (sub-category)\nVehOcc_3p_NHB\nVEH_OCC_3P_NHB\n3.71\n\n\n\n\n\n\n\n\n\nValue of time was updated for 2019 dollars, as shown in Table 7.\n\n\n\n\nTable 7: Value of Time\n\n\nCategory\nCode\nValue of Time (???UNITS???)\n\n\n\n\nAuto Work Trips\nVOT_Auto_Wrk\n22\n\n\nAuto Work Trips - Low Income\nVOT_Auto_Wrk_Lo\n9\n\n\nAuto Work Trips - High Income\nVOT_Auto_Wrk_Hi\n24\n\n\nAuto Personal Trips\nVOT_Auto_Per\n17\n\n\nAuto Personal Trips - Low Income\nVOT_Auto_Per_Lo\n7\n\n\nAuto Personal Trips - High Income\nVOT_Auto_Per_Hi\n19\n\n\nAuto External Trips\nVOT_Auto_Ext\n20\n\n\nLight Trucks\nVOT_LT\n37\n\n\nMedium Trucks\nVOT_MD\n50\n\n\nHeavy Trucks\nVOT_HV\n63\n\n\nToll Trips\nVOT_Toll\n63\n\n\nHigh-Occupancy Toll Trips\nVOT_HOT_DA\n63\n\n\n\n\n\n\n\n\n\nAuto operating cost (AOC) were updated based on 2019 fuel cost & economy and vehicle maintenance. See Table 8.\n\n\n\n\nTable 8: Auto Operating Costs\n\n\nCategory\nCode\nAuto Operating Cost (???UNITS???)\n\n\n\n\nPersonal Vehicle Auto\nAOC_Auto\n21.7\n\n\nCommercial Vehicle - Light Truck\nAOC_LT\n27.3\n\n\nCommercial Vehicle - Medium Truck\nAOC_MD\n55.5\n\n\nCommercial Vehicle - Heavy Truck\nAOC_HV\n74.3\n\n\n\n\n\n\n\n\n\nToll and HOT Costs were updated as shown in Table 9. Toll costs reflect a toll of approximately $5.00 for a 10.25 mi trip (average work distance) or $3.00 for a 6.5 mi trip (average trip distance of all trips) in 2019 dollars. The toll costs apply to links with a functional type of 40. HOT costs reflect a toll of approximately $3.50 for a 10.25 mi trip (average work distance) or $2.20 for a 6.5 mi trip (average trip distance of all trips) in 2019 dollars. HOT costs are applicable to links with a functional type of 38.\n\n\n\n\nTable 9: Toll and High-Occupancy Toll Costs\n\n\nCategory\nCode\nCost (cent/mile)\n\n\n\n\nToll Peak Cost\nCost_Toll_Pk\n48\n\n\nToll Off-Peak Cost\nCost_Toll_Ok\n48\n\n\nHigh-Occupancy Toll Peak Cost\nCost_HOT_Pk\n34\n\n\nHigh-Occupancy Toll Off-Peak Cost\nCost_HOT_Ok\n17\n\n\n\n\n\n\n\n\n\nAll transit skim prefix global variable tokens were replaced with values in scripts. Transit skim prefix variables were removed from the General Parameters file.\n\n\n\n\nAdditional k-factors were added for calibration purposes to include work trips, truck trips, and external trips. In v8.3.2 there were only three k-factors defined for non-work personal trips. The calibration adjustment k-factors reset to 1, as shown in Table 10.\n\n\n\n\nTable 10: K-Factors\n\n\nCounty-to-County Pair\nPurpose\nCode\nv9.0.0\nv8.3.2\n\n\n\n\nSalt Lake to Utah County\nWork\nSL_UT_KFAC_Wrk\n1\n–\n\n\n\nOther\nSL_UT_KFAC_Oth\n1\n0.85\n\n\n\nTruck\nSL_UT_KFAC_Trk\n1\n–\n\n\n\nExternal\nSL_UT_KFAC_Ext\n1\n–\n\n\nSalt Lake to Davis County\nWork\nSL_DA_KFAC_Wrk\n1\n–\n\n\n\nOther\nSL_DA_KFAC_Oth\n1\n0.95\n\n\n\nTruck\nSL_DA_KFAC_Trk\n1\n–\n\n\n\nExternal\nSL_DA_KFAC_Ext\n1\n–\n\n\nWeber to Box Elder County\nWork\nWE_BE_KFAC_Wrk\n1\n–\n\n\n\nOther\nWE_BE_KFAC_Oth\n1\n1.00\n\n\n\nTruck\nWE_BE_KFAC_Trk\n1\n–\n\n\n\nExternal\nWE_BE_KFAC_Ext\n1\n–\n\n\n\n\n\n\n\n\n\nThe rail to core bus route multiplier RAIL2COR_MULTIPLIER was changed from 0.40 to 0.33.\nPeriod and Production/Attraction factors were removed."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#zone-parameters",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#zone-parameters",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "With the update to the TAZ inputs, the TAZ references were made in various locations.\n\n\nTAZ and highway node references were update with new zone numbers as shown in Table 1.\n\n\n\n\nTable 1: Renumbered Range and Highway TAZs\n\n\nRange\nCode\nTAZ\n\n\n\n\nUsed Zones\nUsedZones\n3629\n\n\nBox Elder County Range\nBoxElderRange\n1-153\n\n\nWeber County Range\nWeberRange\n154-581\n\n\nDavis County Range\nDavisRange\n582-905\n\n\nSalt Lake County Range\nSLRange\n906-2216\n\n\nUtah County Range\nUtahRange\n2217-3546\n\n\nDummy Zones\nDummyzones\n3547-3600\n\n\nExternal Zones\nExternalzones\n3601-3629\n\n\nNorth Brigham City\nNorthBC\n3604,3605,3606\n\n\nHighway Nodes\nHwyNodes\n10000-99999\n\n\n\n\n\n\nThe following ranges were removed: RegionRange, WFRCRange, MAGRange.\n\n\n\nCollege and university were updated with new zone numbers. See Table 2. Where noted, several colleges were effectively discontinued, meaning references to these schools are still in the code base, but enrollment was set to zero. ???ADD INPUTS DOC REFERENCE???\n\n\n\n\nTable 2: Renumbered College and University Zones\n\n\nCollege or University\nCampus\nAddress\nCode\nTAZ\nStatus\n\n\n\n\nEnsign College\nMain\n95 N 300 WSalt Lake City, UT 84101\nEnsign\n1029\nExisting\n\n\nWestminster College\nMain\n1840 S 1300 ESalt Lake City, UT 84105\nWestmin\n1263\nExisting\n\n\nUniversity of Utah\nMain\n201 Presidents CirSalt Lake City, UT 84112\nUOFU_Main\n1051\nExisting\n\n\n\nMedical\n30 N 1900 ESalt Lake City, UT 84132\nUOFU_Med\n1007\nDiscontinued\n\n\nWeber State University\nMain\n3848 Harrison BlvdOgden, UT 84403\nWSU_Main\n437\nExisting\n\n\n\nDavis\n2750 University Park BlvdLayton, UT, 84041\nWSU_Davis\n693\nExisting\n\n\n\nWest\n5627 S 3500 WRoy, UT, 84067\nWSU_West\n521\nDiscontinued\n\n\nSalt LakeCommunity College\nMain\n4600 S Redwood RdTaylorsville, UT 84123\nSLCC_Main\n1580\nExisting\n\n\n\nSouth City\n1575 S State StreetSalt Lake City, UT 84115\nSLCC_SC\n1231\nExisting\n\n\n\nJordan\n3491 W 9000 SWest Jordan, UT 84088\nSLCC_JD\n1776\nExisting\n\n\n\nMeadbrook\n218 W 3900 SSalt Lake City, UT 84107\nSLCC_Mead\n1491\nDiscontinued\n\n\n\nMiller\n9750 S 300 WSandy, UT 84070\nSLCC_ML\n1886\nExisting\n\n\n\nLibrary\n231 E 400 SSalt Lake City, UT 84111\nSLCC_LB\n1085\nDiscontinued\n\n\n\nHighland\n3760 S Highland DriveSalt Lake City, UT 84106\nSLCC_HL\n1525\nDiscontinued\n\n\n\nAirport\n551 2200 WSalt Lake City, UT 84116\nSLCC_Airp\n979\nDiscontinued\n\n\n\nWestpointe\n2150 W Dauntless AveSalt Lake City, UT 84116\nSLCC_West\n959\nDiscontinued\n\n\n\nHerriman\n14200 S 4000 WHerriman, UT\nSLCC_HM\n2031\nDiscontinued\n\n\nBrigham Young University\nMain\n1 N University HillProvo, UT 84602\nBYU\n2939\nExisting\n\n\nUtah Valley University\nMain\n800 West University ParkwayOrem, UT 84058\nUVU_Main\n2848\nExisting\n\n\n\nGeneva\n951 S Geneva RdOrem, UT 84058\nUVU_Geneva\n2882\nDiscontinued\n\n\n\nLehi\n2301 W. Ashton BlvdLehi, UT 84043\nUVU_Lehi\n2606\nExisting\n\n\n\nVineyard\nMill RdVineyard, UT\nUVU_Vine\n2809\nFuture\n\n\n\nPayson\nFuture Nebo Belt RdPayson, UT\nUVU_Payson\n3336\nFuture\n\n\n\n\n\n\n\n\n\nSpecial generators were updated with new zone numbers, as shown in Table 3.\n\n\n\n\nTable 3: Renumbered College and University Zones\n\n\nSpecial Generator\nCode\nTAZ\n\n\n\n\nLagoon Amusement Park\nLagoon\n781\n\n\nSalt Lake City International Airport\nAiport\n965\n\n\nLDS Salt Lake Temple Square\nTempleSquare\n1035\n\n\nSalt Lake City Main Library\nSLC_Library\n1147"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#special-trip-table-parameters",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#special-trip-table-parameters",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The income break points for Salt Lake City International Airport were updated as shown in Table 4.\n\n\n\n\nTable 4: Airport Income Levels\n\n\nCategory Break Point\nCode\nIncome\n\n\n\n\nLow\nIncome_Lo\n$45,000\n\n\nMedium\nIncome_Md\n$75,000\n\n\nHigh\nIncome_Hi\n$125,000"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#county-identification",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#county-identification",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Removed the county identification section section containing the following variables: CountyRange, CountyName1, CountyName2, CountyName3, CountyName4, CountyName5, CO_Name1, CO_Name2, CO_Name3, CO_Name4, CO_Name5."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#air-quality-conformity-reports",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#air-quality-conformity-reports",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Removed the air quality conformity section containing the following variables broken down by each county and 3 cities: RE_ID, WE_ID, DA_ID, SL_ID, UT_ID, BE_ID, OC_ID, SC_ID, PC_ID."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#household-disaggregation-parameters",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#household-disaggregation-parameters",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The updated regional median income was $74,946 from 2019 5-year ACS, in 2019 dollars. This represents average for just the Wasatch Front region."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#distribution-mode-choice-and-assignment-parameters",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#distribution-mode-choice-and-assignment-parameters",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The vehicle occupancy rates were updated expanded to additional trips purposes. See Table 5 and Table 6. Variables were renamed where indicated. Auto occupancy parameters were updated based on 2012 Household Travel Survey (reprocessed). Values represent average persons per vehicle for just the Wasatch Front model space. External trips are average for IX + XI, all other parameters are averages for II trips.\n???SHOW PREVIOUS VALUES???\n\n\n\n\nTable 5: Average Auto-Occupancy Codes and Rates\n\n\nTrip Purpose\nCode\nPrevious Code\nUpdated Value\n\n\n\n\nHome-Based Work\nVehOcc_HBW\nVEH_OCCUPANCY_HBW\n1.10\n\n\nHome-Based Shopping\nVehOcc_HBShp\nVEH_OCCUPANCY_HBSHP\n1.63\n\n\nHome-Based Other\nVehOcc_HBOth\nVEH_OCCUPANCY_HBOTH\n1.68\n\n\nHome-Based School\nVehOcc_HBSch\nVEH_OCCUPANCY_HBSCH\n1.76\n\n\nHome-Based College\nVehOcc_HBC\nVEH_OCCUPANCY_HBC\n1.12\n\n\nNon-Home-Based Work\nVehOcc_NHBW\nVEH_OCCUPANCY_NHBW\n1.21\n\n\nNon-Home-Based Non-Work\nVehOcc_NHBNW\nVEH_OCCUPANCY_NHBNW\n1.76\n\n\nRecreation\nVehOcc_Rec\n\n1.68\n\n\nHome-Based Other (sub-category)\nVehOcc_HBO\nVEH_OCCUPANCY_HBO\n1.67\n\n\nNon-Home-Based (sub-category)\nVehOcc_NHB\nVEH_OCCUPANCY_NHB\n1.54\n\n\nExternal Work\nVehOcc_ExtWrk\n\n1.16\n\n\nExternal Home-Based Other\nVehOcc_ExtHBO\n\n1.82\n\n\nNon-Home-Based\nVehOcc_ExtNHB\n\n1.73\n\n\nExternal Recreation\nVehOcc_ExtRec\n\n1.73\n\n\n\n\n\n\n???WE SHOULD PROBABLY SHOW PREVIOUS VALUES???\n\n\n\n\nTable 6: Average Auto-Occupancy Codes and Rates for Vehicles with 3+ Persons\n\n\nTrip Purpose\nCode\nPrevious Code\nUpdated Value\n\n\n\n\nHome-Based Work\nVehOcc_3p_HBW\nVEH_OCC_3P_HBW\n3.53\n\n\nHome-Based Shopping\nVehOcc_3p_HBShp\n\n3.49\n\n\nHome-Based Other\nVehOcc_3p_HBOth\n\n3.73\n\n\nHome-Based School\nVehOcc_3p_HBSch\n\n3.88\n\n\nHome-Based College\nVehOcc_3p_HBC\nVEH_OCC_3P_HBC\n3.24\n\n\nNon-Home-Based Work\nVehOcc_3p_NHBW\n\n3.71\n\n\nNon-Home-Based Non-Work\nVehOcc_3p_NHBNW\n\n3.71\n\n\nRecreation\nVehOcc_3p_Rec\n\n3.73\n\n\nHome-Based Other (sub-category)\nVehOcc_3p_HBO\nVEH_OCC_3P_HBO\n3.68\n\n\nNon-Home-Based (sub-category)\nVehOcc_3p_NHB\nVEH_OCC_3P_NHB\n3.71\n\n\n\n\n\n\n\n\n\nValue of time was updated for 2019 dollars, as shown in Table 7.\n\n\n\n\nTable 7: Value of Time\n\n\nCategory\nCode\nValue of Time (???UNITS???)\n\n\n\n\nAuto Work Trips\nVOT_Auto_Wrk\n22\n\n\nAuto Work Trips - Low Income\nVOT_Auto_Wrk_Lo\n9\n\n\nAuto Work Trips - High Income\nVOT_Auto_Wrk_Hi\n24\n\n\nAuto Personal Trips\nVOT_Auto_Per\n17\n\n\nAuto Personal Trips - Low Income\nVOT_Auto_Per_Lo\n7\n\n\nAuto Personal Trips - High Income\nVOT_Auto_Per_Hi\n19\n\n\nAuto External Trips\nVOT_Auto_Ext\n20\n\n\nLight Trucks\nVOT_LT\n37\n\n\nMedium Trucks\nVOT_MD\n50\n\n\nHeavy Trucks\nVOT_HV\n63\n\n\nToll Trips\nVOT_Toll\n63\n\n\nHigh-Occupancy Toll Trips\nVOT_HOT_DA\n63\n\n\n\n\n\n\n\n\n\nAuto operating cost (AOC) were updated based on 2019 fuel cost & economy and vehicle maintenance. See Table 8.\n\n\n\n\nTable 8: Auto Operating Costs\n\n\nCategory\nCode\nAuto Operating Cost (???UNITS???)\n\n\n\n\nPersonal Vehicle Auto\nAOC_Auto\n21.7\n\n\nCommercial Vehicle - Light Truck\nAOC_LT\n27.3\n\n\nCommercial Vehicle - Medium Truck\nAOC_MD\n55.5\n\n\nCommercial Vehicle - Heavy Truck\nAOC_HV\n74.3\n\n\n\n\n\n\n\n\n\nToll and HOT Costs were updated as shown in Table 9. Toll costs reflect a toll of approximately $5.00 for a 10.25 mi trip (average work distance) or $3.00 for a 6.5 mi trip (average trip distance of all trips) in 2019 dollars. The toll costs apply to links with a functional type of 40. HOT costs reflect a toll of approximately $3.50 for a 10.25 mi trip (average work distance) or $2.20 for a 6.5 mi trip (average trip distance of all trips) in 2019 dollars. HOT costs are applicable to links with a functional type of 38.\n\n\n\n\nTable 9: Toll and High-Occupancy Toll Costs\n\n\nCategory\nCode\nCost (cent/mile)\n\n\n\n\nToll Peak Cost\nCost_Toll_Pk\n48\n\n\nToll Off-Peak Cost\nCost_Toll_Ok\n48\n\n\nHigh-Occupancy Toll Peak Cost\nCost_HOT_Pk\n34\n\n\nHigh-Occupancy Toll Off-Peak Cost\nCost_HOT_Ok\n17\n\n\n\n\n\n\n\n\n\nAll transit skim prefix global variable tokens were replaced with values in scripts. Transit skim prefix variables were removed from the General Parameters file."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#calibration-adjustment-k-factors",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#calibration-adjustment-k-factors",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Additional k-factors were added for calibration purposes to include work trips, truck trips, and external trips. In v8.3.2 there were only three k-factors defined for non-work personal trips. The calibration adjustment k-factors reset to 1, as shown in Table 10.\n\n\n\n\nTable 10: K-Factors\n\n\nCounty-to-County Pair\nPurpose\nCode\nv9.0.0\nv8.3.2\n\n\n\n\nSalt Lake to Utah County\nWork\nSL_UT_KFAC_Wrk\n1\n–\n\n\n\nOther\nSL_UT_KFAC_Oth\n1\n0.85\n\n\n\nTruck\nSL_UT_KFAC_Trk\n1\n–\n\n\n\nExternal\nSL_UT_KFAC_Ext\n1\n–\n\n\nSalt Lake to Davis County\nWork\nSL_DA_KFAC_Wrk\n1\n–\n\n\n\nOther\nSL_DA_KFAC_Oth\n1\n0.95\n\n\n\nTruck\nSL_DA_KFAC_Trk\n1\n–\n\n\n\nExternal\nSL_DA_KFAC_Ext\n1\n–\n\n\nWeber to Box Elder County\nWork\nWE_BE_KFAC_Wrk\n1\n–\n\n\n\nOther\nWE_BE_KFAC_Oth\n1\n1.00\n\n\n\nTruck\nWE_BE_KFAC_Trk\n1\n–\n\n\n\nExternal\nWE_BE_KFAC_Ext\n1\n–"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/1-genparams.html#other",
    "href": "v9x/v900/whats-new/2023-04-14/1-genparams.html#other",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The rail to core bus route multiplier RAIL2COR_MULTIPLIER was changed from 0.40 to 0.33.\nPeriod and Production/Attraction factors were removed."
  },
  {
    "objectID": "v9x/v900/calib-valid/7-assign.html",
    "href": "v9x/v900/calib-valid/7-assign.html",
    "title": "Version 9.0.0 - Calibration/Validation",
    "section": "",
    "text": "CO_FIPS\nSEGID\nValid\nATYPENAME\nMod_AWDT\nObs_AWDT\nDiff\nPct_Dev\nDiff_Sq\nMod_Car\n...\nDiff_MD\nPct_Dev_MD\nDiff_Sq_MD\nMod_HV\nObs_HV\nDiff_HV\nPct_Dev_HV\nDiff_Sq_HV\nModelVMT\nObserveVMT\n\n\n\n\n0\n49\n0006_146.9\nPrincipal\nRural\n1549.2\n1492.7280\n56.4720\n0.037831\n3.189087e+03\n1279.8\n...\n99.453066\n1.914513\n9.890912e+03\n118.0\n94.041864\n23.958136\n0.254760\n5.739923e+02\n4708.053705\n4536.434025\n\n\n1\n49\n0006_149.9\nPrincipal\nRural\n1601.0\n2401.9440\n-800.9440\n-0.333457\n6.415113e+05\n1341.9\n...\n-66.743514\n-0.294357\n4.454697e+03\n99.1\n226.022930\n-126.922930\n-0.561549\n1.610943e+04\n1085.450236\n1628.476378\n\n\n2\n49\n0006_150.6\nPrincipal\nRural\n1808.8\n2401.9440\n-593.1440\n-0.246943\n3.518198e+05\n1520.1\n...\n-44.343514\n-0.195567\n1.966347e+03\n106.3\n226.022930\n-119.722930\n-0.529694\n1.433358e+04\n3568.949724\n4739.284263\n\n\n3\n49\n0006_152.6\nMinor\nRural\n2719.5\n2378.3280\n341.1720\n0.143450\n1.163983e+05\n2270.4\n...\n-77.500345\n-0.211460\n6.006303e+03\n160.1\n298.004498\n-137.904498\n-0.462760\n1.901765e+04\n860.109226\n752.205131\n\n\n4\n49\n0006_152.9\nPrincipal\nRural\n3959.5\n3606.0087\n353.4913\n0.098028\n1.249561e+05\n3239.2\n...\n-102.473923\n-0.186835\n1.050090e+04\n274.3\n415.412202\n-141.112202\n-0.339692\n1.991265e+04\n11574.505020\n10541.170810\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n6969\n57\n3470_000.0\nAll\nSuburban\n6077.7\n1882.2632\n4195.4368\n2.228932\n1.760169e+07\n5196.7\n...\n379.987895\n1.585846\n1.443908e+05\n261.4\n163.756898\n97.643102\n0.596269\n9.534175e+03\n6316.868272\n1956.333594\n\n\n6970\n49\nMAG_6017\nAll\nUrban\n56076.4\n2250.4976\n53825.9024\n23.917334\n2.897228e+09\n43951.4\n...\n7158.120413\n28.994379\n5.123869e+07\n4720.0\n108.473984\n4611.526016\n42.512737\n2.126617e+07\n43174.572650\n1732.712373\n\n\n6971\n49\nMAG_6164\nAll\nUrban\n14518.3\n547.3000\n13971.0000\n25.527133\n1.951888e+08\n12295.3\n...\n1482.661190\n24.695046\n2.198284e+06\n680.3\n26.379860\n653.920140\n24.788613\n4.276115e+05\n2552.950731\n96.239225\n\n\n6972\n35\nWFRC_8004\nAll\nSuburban\n4967.6\n7288.4928\n-2320.8928\n-0.318432\n5.386543e+06\n4471.1\n...\n-479.645878\n-0.576258\n2.300602e+05\n143.8\n419.817185\n-276.017185\n-0.657470\n7.618549e+04\n3199.134400\n4693.789363\n\n\n6973\n35\nWFRC_8263\nNaN\nNaN\nNaN\n7288.4928\nNaN\n0.000000\nNaN\nNaN\n...\nNaN\n0.000000\nNaN\nNaN\n419.817185\nNaN\n0.000000\nNaN\nNaN\n2769.627264\n\n\n\n\n6974 rows × 26 columns\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof vvSelect = Inputs.select(new Map([['Volume','Volume'], ['VMT','VMT']]), {value: 'Variable', label: \"Select Summary Variable:\"})\n//viewof bCountySelect2 = Inputs.select(new Map([['Box Elder',3], ['Weber',57], ['Davis',11], ['Salt Lake',35], ['Utah',49], ['Region', 'All']]), {value: 'CO_FIPS', label: \"Select Region:\"})\n\n\n\n\n\n\n\n\n\nCode\nvvp = transpose(vvpct)\nvvpL = transpose(vvpctLong)\nvvaL = transpose(vvabsLong)\nvvaLR = transpose(vvabsLongR)\ntable_vvData = vvp.filter(function(dataL) {\n    return vvSelect == dataL.Variable;\n})\nstack_vvaData = vvaLR.filter(function(dataL) {\n    return vvSelect == dataL.Variable; //&&\n           //bCountySelect2 == dataL.CO_FIPS;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nModel v. ObservedRegional Summary Table\n\n\n\n\nCode\nimport {GroupedBarChart} from \"@d3/grouped-bar-chart\"\nimport {Legend, Swatches} from \"@d3/color-legend\"\nimport {howto, altplot} from \"@d3/example-components\"\nchart2 = GroupedBarChart(stack_vvaData, {\n    x: d =&gt; d.FunctionalType,\n    y: d =&gt; d.Value,\n    z: d =&gt; d.DataSource,\n    yLabel: \"Value\",\n    zDomain: ['Model','Observed'],\n    width,\n    height: 500,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nInputs.table(table_vvData, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalType\",\n    \"All\",\n    \"Box Elder\",\n    \"Weber\",\n    'Davis',\n    'Salt Lake',\n    'Utah'\n  ],\n  header: {\n    FunctionalType:\"FT\",\n    All: 'Region'\n  }})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof bCountySelect = Inputs.select(new Map([['Box Elder',3], ['Weber',57], ['Davis',11], ['Salt Lake',35], ['Utah',49], ['Region', 'All']]), {value: 'CO_FIPS', label: \"Select Region:\"})\n\n\n\n\n\n\n\n\n\nCode\nvolT = transpose(vol)\nvmtT = transpose(vmt)\nfiltered_volData = volT.filter(function(dataL) {\n    return bCountySelect == dataL.CO_FIPS;\n})\nfiltered_vmtData = vmtT.filter(function(dataL){\n    return bCountySelect == dataL.CO_FIPS;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 1: Average Daily Comparison by Facility Type (Volume).\n\n\nCode\nInputs.table(filtered_volData, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalType\",\n    \"NumberOfSegs\",\n    \"ModelVolume\",\n    \"CountVolume\",\n    'VolDiff',\n    'VolPctDiff',\n    'RMSE',\n    'PctRMSE'\n  ],\n  header: {\n    FunctionalType:\"FT\",\n    NumberOfSegs:\"NumSegs\",\n    ModelVolume:\"Model\",\n    CountVolume:\"Observe\",\n    VolDiff:'Diff',\n    VolPctDiff:'PctDiff',\n    RMSE:'RMSE',\n    PctRMS:'PctRMSE'\n  }})\n\n\n\n\n\n\n\nTable 2: Average Daily Comparison by Facility Type (VMT).\n\n\nCode\nInputs.table(filtered_vmtData, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalType\",\n    \"NumberOfSegs\",\n    \"ModelVMT\",\n    \"ObserveVMT\",\n    'VMTDiff',\n    'VMTPctDiff'\n  ],\n  header: {\n    FunctionalType:\"FT\",\n    NumberOfSegs:\"NumSegs\",\n    ModelVMT:\"Model\",\n    ObserveVMT:\"Observe\",\n    VMTDiff:'Diff',\n    VMTPctDiff:'PctDiff'\n  }})\n\n\n\n\n\n\n\n\n\n\n\n???Hard to find regression model that starts at (0,0) – Good enough???\n???Hard to create pct error graphs with bins???\n???Should I just do screen shots of the validation charts???\n\n\n\n\n\n\n\nCode\nviewof vehSelect = Inputs.select(new Map([['All','All'], ['Car','Car'], ['MD', 'MD'], ['HV','HV']]), {value: 'Vehicle', label: \"Select Vehicle:\"})\n\n\n\n\n\n\n\n\n\nCode\nvalidT = transpose(validc)\nfiltered_vehData = validT.filter(function(dataL) {\n    return vehSelect == dataL.Vehicle;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nML = require(\"https://www.lactame.com/lib/ml/6.0.0/ml.min.js\")\nvehData_lm = new ML.SimpleLinearRegression(filtered_vehData.map(d =&gt; d.Observed), filtered_vehData.map(d =&gt; d.Model))\nvehData_coefficients = vehData_lm.coefficients \n\nvehData_corr = vehData_lm.score(filtered_vehData.map(d =&gt; d.Observed), filtered_vehData.map(d =&gt; d.Model))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nchart = Plot.plot({\n  marks: [\n    Plot.dot(filtered_vehData, { // Add scatterplot (blue points)\n      x: \"Observed\",\n      y: \"Model\",\n      fill: \"blue\",\n      r: 4,\n      opacity: 0.4\n    }),\n    Plot.linearRegressionY(filtered_vehData, {\n      x: \"Observed\",\n      y: \"Model\"\n    }),\n    Plot.text( // Add text annotation for model estimates (shown in blue)\n      [`y = ${vehData_coefficients[1].toFixed(1)}x - ${-vehData_coefficients[0].toFixed(1)}\n        \n        𝘙 ² = ${vehData_corr.r2.toFixed(2)}\n        \n        𝘳 = ${vehData_corr.r.toFixed(2)}` \n      ],\n      {frameAnchor: \"bottom-right\", \n       dy: -20,\n       fontSize: 16, \n       fill: \"blue\", \n       fontWeight: 600} \n    )\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n???Add screen shots of the TTT to get the segment-level validation map of model vs. obseved for all vehicles, cars and LT, MD, and HV???\n\n\n\nAccess to opportunities, also referred to as accessibility or ATO, is a way to measure how well people can connect to jobs, or vice versa. ATO metrics quantify how well the current and future transportation system work with land use. Both shorter travel times and an increased presence of employment and other opportunities result in higher accessibility scores.\nA script to calculate ATO metrics, 1_Access_to_Opportunity.s located in the 2_ModelScripts\\7_PostProcessing folder, has been added to the model’s _HailMary.s batch script and runs automatically with every model run. The script sums the number of jobs and households that are within a typical commute travel shed (in minutes) by auto and transit. The typical commute travel shed is defined using a distance decay curve estimated from the 2012 household travel survey. Metrics that combine the jobs and households are also calculated.\nResults from the ATO script are output into 7_PostProcessing\\Access_to_Opportunity_@DemographicYear@.dbf. Results can be joined with the TAZ shapefile to visualize the data, such as is shown in Figure 1 and Figure 2.\n??? Using the CompJobHHByTran and CompJobHHByAuto fields…is that right???&lt;/mark\n\n\n\n\n\nFigure 1: Access to opportunity by auto mode.\n\n\n\n\n\n\n\n\n\nFigure 2: Access to opportunity by transit mode."
  },
  {
    "objectID": "v9x/v900/calib-valid/7-assign.html#table-summaries",
    "href": "v9x/v900/calib-valid/7-assign.html#table-summaries",
    "title": "Version 9.0.0 - Calibration/Validation",
    "section": "",
    "text": "CO_FIPS\nSEGID\nValid\nATYPENAME\nMod_AWDT\nObs_AWDT\nDiff\nPct_Dev\nDiff_Sq\nMod_Car\n...\nDiff_MD\nPct_Dev_MD\nDiff_Sq_MD\nMod_HV\nObs_HV\nDiff_HV\nPct_Dev_HV\nDiff_Sq_HV\nModelVMT\nObserveVMT\n\n\n\n\n0\n49\n0006_146.9\nPrincipal\nRural\n1549.2\n1492.7280\n56.4720\n0.037831\n3.189087e+03\n1279.8\n...\n99.453066\n1.914513\n9.890912e+03\n118.0\n94.041864\n23.958136\n0.254760\n5.739923e+02\n4708.053705\n4536.434025\n\n\n1\n49\n0006_149.9\nPrincipal\nRural\n1601.0\n2401.9440\n-800.9440\n-0.333457\n6.415113e+05\n1341.9\n...\n-66.743514\n-0.294357\n4.454697e+03\n99.1\n226.022930\n-126.922930\n-0.561549\n1.610943e+04\n1085.450236\n1628.476378\n\n\n2\n49\n0006_150.6\nPrincipal\nRural\n1808.8\n2401.9440\n-593.1440\n-0.246943\n3.518198e+05\n1520.1\n...\n-44.343514\n-0.195567\n1.966347e+03\n106.3\n226.022930\n-119.722930\n-0.529694\n1.433358e+04\n3568.949724\n4739.284263\n\n\n3\n49\n0006_152.6\nMinor\nRural\n2719.5\n2378.3280\n341.1720\n0.143450\n1.163983e+05\n2270.4\n...\n-77.500345\n-0.211460\n6.006303e+03\n160.1\n298.004498\n-137.904498\n-0.462760\n1.901765e+04\n860.109226\n752.205131\n\n\n4\n49\n0006_152.9\nPrincipal\nRural\n3959.5\n3606.0087\n353.4913\n0.098028\n1.249561e+05\n3239.2\n...\n-102.473923\n-0.186835\n1.050090e+04\n274.3\n415.412202\n-141.112202\n-0.339692\n1.991265e+04\n11574.505020\n10541.170810\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n6969\n57\n3470_000.0\nAll\nSuburban\n6077.7\n1882.2632\n4195.4368\n2.228932\n1.760169e+07\n5196.7\n...\n379.987895\n1.585846\n1.443908e+05\n261.4\n163.756898\n97.643102\n0.596269\n9.534175e+03\n6316.868272\n1956.333594\n\n\n6970\n49\nMAG_6017\nAll\nUrban\n56076.4\n2250.4976\n53825.9024\n23.917334\n2.897228e+09\n43951.4\n...\n7158.120413\n28.994379\n5.123869e+07\n4720.0\n108.473984\n4611.526016\n42.512737\n2.126617e+07\n43174.572650\n1732.712373\n\n\n6971\n49\nMAG_6164\nAll\nUrban\n14518.3\n547.3000\n13971.0000\n25.527133\n1.951888e+08\n12295.3\n...\n1482.661190\n24.695046\n2.198284e+06\n680.3\n26.379860\n653.920140\n24.788613\n4.276115e+05\n2552.950731\n96.239225\n\n\n6972\n35\nWFRC_8004\nAll\nSuburban\n4967.6\n7288.4928\n-2320.8928\n-0.318432\n5.386543e+06\n4471.1\n...\n-479.645878\n-0.576258\n2.300602e+05\n143.8\n419.817185\n-276.017185\n-0.657470\n7.618549e+04\n3199.134400\n4693.789363\n\n\n6973\n35\nWFRC_8263\nNaN\nNaN\nNaN\n7288.4928\nNaN\n0.000000\nNaN\nNaN\n...\nNaN\n0.000000\nNaN\nNaN\n419.817185\nNaN\n0.000000\nNaN\nNaN\n2769.627264\n\n\n\n\n6974 rows × 26 columns\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof vvSelect = Inputs.select(new Map([['Volume','Volume'], ['VMT','VMT']]), {value: 'Variable', label: \"Select Summary Variable:\"})\n//viewof bCountySelect2 = Inputs.select(new Map([['Box Elder',3], ['Weber',57], ['Davis',11], ['Salt Lake',35], ['Utah',49], ['Region', 'All']]), {value: 'CO_FIPS', label: \"Select Region:\"})\n\n\n\n\n\n\n\n\n\nCode\nvvp = transpose(vvpct)\nvvpL = transpose(vvpctLong)\nvvaL = transpose(vvabsLong)\nvvaLR = transpose(vvabsLongR)\ntable_vvData = vvp.filter(function(dataL) {\n    return vvSelect == dataL.Variable;\n})\nstack_vvaData = vvaLR.filter(function(dataL) {\n    return vvSelect == dataL.Variable; //&&\n           //bCountySelect2 == dataL.CO_FIPS;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nModel v. ObservedRegional Summary Table\n\n\n\n\nCode\nimport {GroupedBarChart} from \"@d3/grouped-bar-chart\"\nimport {Legend, Swatches} from \"@d3/color-legend\"\nimport {howto, altplot} from \"@d3/example-components\"\nchart2 = GroupedBarChart(stack_vvaData, {\n    x: d =&gt; d.FunctionalType,\n    y: d =&gt; d.Value,\n    z: d =&gt; d.DataSource,\n    yLabel: \"Value\",\n    zDomain: ['Model','Observed'],\n    width,\n    height: 500,\n    colors: [\"#376092\", \"#77933c\"]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nInputs.table(table_vvData, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalType\",\n    \"All\",\n    \"Box Elder\",\n    \"Weber\",\n    'Davis',\n    'Salt Lake',\n    'Utah'\n  ],\n  header: {\n    FunctionalType:\"FT\",\n    All: 'Region'\n  }})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof bCountySelect = Inputs.select(new Map([['Box Elder',3], ['Weber',57], ['Davis',11], ['Salt Lake',35], ['Utah',49], ['Region', 'All']]), {value: 'CO_FIPS', label: \"Select Region:\"})\n\n\n\n\n\n\n\n\n\nCode\nvolT = transpose(vol)\nvmtT = transpose(vmt)\nfiltered_volData = volT.filter(function(dataL) {\n    return bCountySelect == dataL.CO_FIPS;\n})\nfiltered_vmtData = vmtT.filter(function(dataL){\n    return bCountySelect == dataL.CO_FIPS;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 1: Average Daily Comparison by Facility Type (Volume).\n\n\nCode\nInputs.table(filtered_volData, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalType\",\n    \"NumberOfSegs\",\n    \"ModelVolume\",\n    \"CountVolume\",\n    'VolDiff',\n    'VolPctDiff',\n    'RMSE',\n    'PctRMSE'\n  ],\n  header: {\n    FunctionalType:\"FT\",\n    NumberOfSegs:\"NumSegs\",\n    ModelVolume:\"Model\",\n    CountVolume:\"Observe\",\n    VolDiff:'Diff',\n    VolPctDiff:'PctDiff',\n    RMSE:'RMSE',\n    PctRMS:'PctRMSE'\n  }})\n\n\n\n\n\n\n\nTable 2: Average Daily Comparison by Facility Type (VMT).\n\n\nCode\nInputs.table(filtered_vmtData, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalType\",\n    \"NumberOfSegs\",\n    \"ModelVMT\",\n    \"ObserveVMT\",\n    'VMTDiff',\n    'VMTPctDiff'\n  ],\n  header: {\n    FunctionalType:\"FT\",\n    NumberOfSegs:\"NumSegs\",\n    ModelVMT:\"Model\",\n    ObserveVMT:\"Observe\",\n    VMTDiff:'Diff',\n    VMTPctDiff:'PctDiff'\n  }})"
  },
  {
    "objectID": "v9x/v900/calib-valid/7-assign.html#validation-charts",
    "href": "v9x/v900/calib-valid/7-assign.html#validation-charts",
    "title": "Version 9.0.0 - Calibration/Validation",
    "section": "",
    "text": "???Hard to find regression model that starts at (0,0) – Good enough???\n???Hard to create pct error graphs with bins???\n???Should I just do screen shots of the validation charts???\n\n\n\n\n\n\n\nCode\nviewof vehSelect = Inputs.select(new Map([['All','All'], ['Car','Car'], ['MD', 'MD'], ['HV','HV']]), {value: 'Vehicle', label: \"Select Vehicle:\"})\n\n\n\n\n\n\n\n\n\nCode\nvalidT = transpose(validc)\nfiltered_vehData = validT.filter(function(dataL) {\n    return vehSelect == dataL.Vehicle;\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nML = require(\"https://www.lactame.com/lib/ml/6.0.0/ml.min.js\")\nvehData_lm = new ML.SimpleLinearRegression(filtered_vehData.map(d =&gt; d.Observed), filtered_vehData.map(d =&gt; d.Model))\nvehData_coefficients = vehData_lm.coefficients \n\nvehData_corr = vehData_lm.score(filtered_vehData.map(d =&gt; d.Observed), filtered_vehData.map(d =&gt; d.Model))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nchart = Plot.plot({\n  marks: [\n    Plot.dot(filtered_vehData, { // Add scatterplot (blue points)\n      x: \"Observed\",\n      y: \"Model\",\n      fill: \"blue\",\n      r: 4,\n      opacity: 0.4\n    }),\n    Plot.linearRegressionY(filtered_vehData, {\n      x: \"Observed\",\n      y: \"Model\"\n    }),\n    Plot.text( // Add text annotation for model estimates (shown in blue)\n      [`y = ${vehData_coefficients[1].toFixed(1)}x - ${-vehData_coefficients[0].toFixed(1)}\n        \n        𝘙 ² = ${vehData_corr.r2.toFixed(2)}\n        \n        𝘳 = ${vehData_corr.r.toFixed(2)}` \n      ],\n      {frameAnchor: \"bottom-right\", \n       dy: -20,\n       fontSize: 16, \n       fill: \"blue\", \n       fontWeight: 600} \n    )\n  ]\n})"
  },
  {
    "objectID": "v9x/v900/calib-valid/7-assign.html#map-analysis",
    "href": "v9x/v900/calib-valid/7-assign.html#map-analysis",
    "title": "Version 9.0.0 - Calibration/Validation",
    "section": "",
    "text": "???Add screen shots of the TTT to get the segment-level validation map of model vs. obseved for all vehicles, cars and LT, MD, and HV???"
  },
  {
    "objectID": "v9x/v900/calib-valid/7-assign.html#ato-analysis",
    "href": "v9x/v900/calib-valid/7-assign.html#ato-analysis",
    "title": "Version 9.0.0 - Calibration/Validation",
    "section": "",
    "text": "Access to opportunities, also referred to as accessibility or ATO, is a way to measure how well people can connect to jobs, or vice versa. ATO metrics quantify how well the current and future transportation system work with land use. Both shorter travel times and an increased presence of employment and other opportunities result in higher accessibility scores.\nA script to calculate ATO metrics, 1_Access_to_Opportunity.s located in the 2_ModelScripts\\7_PostProcessing folder, has been added to the model’s _HailMary.s batch script and runs automatically with every model run. The script sums the number of jobs and households that are within a typical commute travel shed (in minutes) by auto and transit. The typical commute travel shed is defined using a distance decay curve estimated from the 2012 household travel survey. Metrics that combine the jobs and households are also calculated.\nResults from the ATO script are output into 7_PostProcessing\\Access_to_Opportunity_@DemographicYear@.dbf. Results can be joined with the TAZ shapefile to visualize the data, such as is shown in Figure 1 and Figure 2.\n??? Using the CompJobHHByTran and CompJobHHByAuto fields…is that right???&lt;/mark\n\n\n\n\n\nFigure 1: Access to opportunity by auto mode.\n\n\n\n\n\n\n\n\n\nFigure 2: Access to opportunity by transit mode."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Code\nL = require('leaflet@1.2.0')\nhtml`&lt;link href='${resolve('leaflet@1.2.0/dist/leaflet.css')}' rel='stylesheet' /&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ngeojsonTazOld    = FileAttachment(\"data/tazOld.geojson\"   ).json()\ngeojsonTazNew    = FileAttachment(\"data/tazNew.geojson\"   ).json()\ngeojsonK12Enroll = FileAttachment(\"data/k12enroll.geojson\").json()\ngeojsonCity      = FileAttachment(\"data/city.geojson\"     ).json()\ngeojsonSDst      = FileAttachment(\"data/sdst.geojson\"     ).json()\ngeojsonMDst      = FileAttachment(\"data/mdst.geojson\"     ).json()\ngeojsonLDst      = FileAttachment(\"data/ldst.geojson\"     ).json()"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#global-data",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#global-data",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Global Data",
    "text": "Global Data\nThis section includes a discussion of any changes made within the 0_GlobalData subfolder in the model inputs.\n\nTrip Tables\nThe college base distribution source file _Source - CollegeBaseDistribution - 2022-08-30.xlsx and model lookup file BaseDistribution.csv were updated to the v9.0.0 Traffic Analysis Zone (TAZ) structure. The centroid of the v8.3.2 TAZ were spatially joined to the v9.0.0 TAZ to find their new TAZ designation.\n\n\nHousehold Disaggregation and Auto Ownership\nUsing parameters developed statewide based on 2020 census block data, 2020 ACS block group data, and 2019 population by age group data, the age percent lookup files _Source - TAZ_AgePct_Lookup - 2022-06-07.xlsb and Lookup - BYTAZAgePct - AllCo.csv were updated to v9.0.0 TAZ & 2019 base year.\n\n\nMode Choice\nBus speed ratios were updated in the bus_speed_ratios.csv file. A companion file showing additional calculations is included in the new _source - bus_speed_ratios.xlsx file.\nThe factors to calculate bus speeds from congested auto speeds from the distribution loaded network were re-estimated based on General Transit Feed Specification (GTFS) data from August through November 2019. The functional groups were redefined and expanded to include area type as well as peak and off-peak time periods.\n\n\nCode\n# Convert bus speeds input into long format\nimport pandas as pd\n\n# add name data to expand model CSV\ndfAreaTypes = pd.DataFrame([\n  ['Rur','Rural'     ],\n  ['Trn','Transition'],\n  ['Sub','Suburban'  ],\n  ['Urb','Urban'     ],\n  ['CBD','CBD-Like'  ]\n], columns=('AreaType','AreaTypeName'))\n\ndfTimePeriods = pd.DataFrame([\n  ['Pk','Peak'    ],\n  ['Ok','Off-Peak'],\n  ['DY','Daily'   ]\n], columns=('TimePeriod','TimePeriodName'))\n\ndfFunctionalClasses = pd.DataFrame([\n  [1, 'Col', 'Collectors & Locals'],\n  [2, 'Min', 'Minor Arterials'    ],\n  [3, 'Maj', 'Major Arterials'    ],\n  [4, 'Exp', 'Expressways'        ],\n  [5, 'Fwy', 'Freeways & Ramps'   ]\n], columns=('FC','FunctionalClass','FunctionalClassName'))\n\n# read in bus speed ratios\ndfBusSpeedRatios = pd.read_csv(r\"A:\\1 - TDM\\3 - Model Dev\\1 - WF\\2 - Sandbox\\v9.0Beta\\WF TDM v9.0 - 2023-04-28\\1_Inputs\\0_GlobalData\\4_ModeChoice\\bus_speed_ratios.csv\").rename(columns={';FC':'FC'})\n\n# create a list of column names to use as variable names\nvarCols = dfBusSpeedRatios.columns.to_list()\n\n# remove the ID columns from variable columns list\nvarCols.remove('Functional Class')\n\n# melt table to get long format using FC and FC Name as ids\ndfBusSpeedRatios_long = pd.melt(dfBusSpeedRatios, id_vars=['FC'], value_vars=varCols, var_name='TimePeriod_AreaType', value_name='BusSpeedRatio')\n\n# get Time Period and Area Type from TimePeriod_AreaType field\ndfBusSpeedRatios_long['TimePeriod'] = dfBusSpeedRatios_long['TimePeriod_AreaType'].str.split('_').str[0]\ndfBusSpeedRatios_long['AreaType'  ] = dfBusSpeedRatios_long['TimePeriod_AreaType'].str.split('_').str[1]\n\ndfBusSpeedRatios_long = dfBusSpeedRatios_long.merge(dfFunctionalClasses,on='FC'        )\ndfBusSpeedRatios_long = dfBusSpeedRatios_long.merge(dfTimePeriods      ,on='TimePeriod')\ndfBusSpeedRatios_long = dfBusSpeedRatios_long.merge(dfAreaTypes        ,on='AreaType'  )\n\n# limit columns and export csv\ndfBusSpeedRatios_long = dfBusSpeedRatios_long[['FunctionalClass','FunctionalClassName','TimePeriod','TimePeriodName','AreaType','AreaTypeName','BusSpeedRatio']]\n\n## create objects for observable js\n#ojs_define(busdata = dfBusSpeedRatios_long, typed=True)\n#ojs_define(fcnames = dfBusSpeedRatios_long[['FunctionalClassName']].drop_duplicates())\n#ojs_define(tpnames = dfBusSpeedRatios_long[['TimePeriodName'     ]].drop_duplicates())\n#ojs_define(atnames = dfBusSpeedRatios_long[['AreaTypeName'       ]].drop_duplicates())\n\ndfBusSpeedRatios_long.to_csv(r'data\\bus_speed_ratios_long.csv', index=False)\n\n# export function class list csv\ndfBusSpeedRatios_long[['FunctionalClass','FunctionalClassName']].drop_duplicates().to_csv('data\\\\functionalclass.csv', index=False)\ndfBusSpeedRatios_long[['TimePeriod'     ,'TimePeriodName'     ]].drop_duplicates().to_csv('data\\\\timeperiod.csv'     , index=False)\ndfBusSpeedRatios_long[['AreaType'       ,'AreaTypeName'       ]].drop_duplicates().to_csv('data\\\\areatype.csv'       , index=False)\n\ndfBusSpeedRatios_Previous = pd.DataFrame([\n   ['Collectors'                        , 0.60],\n   ['Minor Arterials\\n(Urb/CBD)'        , 0.65],\n   ['Minor Arterials\\n(Sub/Rur)'        , 0.65],\n   ['Principal Arterials\\n& Expressways', 0.55],\n   ['Freeway Ramps'                     , 0.75],\n   ['Freeways'                          , 0.95]\n], columns=('FunctionalClass','BusSpeedRatio'))\n\ndfBusSpeedRatios_Previous.to_csv(r'data\\bus_speed_ratios_previous.csv', index=False)\n\n\n\nBus Speeds PlotBus Speeds DataPrevious Bus Speeds\n\n\n\n\nCode\nfaDataBusSpeeds     = FileAttachment(\"data\\\\bus_speed_ratios_long.csv\").csv({ typed: true });\nfaFunctionalClasses = FileAttachment(\"data\\\\functionalclass.csv\"      ).csv({ typed: true });\nfaTimePeriods       = FileAttachment(\"data\\\\timeperiod.csv\"           ).csv({ typed: true });\nfaAreaTypes         = FileAttachment(\"data\\\\areatype.csv\"             ).csv({ typed: true });\n\nviewof facetSelect  = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'TimePeriodName'     , label: \"Columns:\"});\nviewof domainSelect = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'AreaTypeName'       , label: \"X-Axis:\"});\nviewof strokeSelect = Inputs.select(new Map([['Time Period', 'TimePeriodName'], ['Area Type', 'AreaTypeName'], ['Functional Class', 'FunctionalClassName']]), {value: 'FunctionalClassName', label: \"Series:\"});\n\n// FILTER DATA\n//viewof functionalclasses_checked = Inputs.checkbox(faFunctionalClasses.map(function(d) {return d.FunctionalClassName}),\n//                                                   {value: faFunctionalClasses.map(function(d) {return d.FunctionalClassName}),\n//                                                    label: \"Function Class\"});\n//viewof timeperiods_checked       = Inputs.checkbox(faTimePeriods      .map(function(d) {return d.TimePeriodName     }),\n//                                                   {value: faTimePeriods      .map(function(d) {return d.TimePeriodName     }),\n//                                                    label: \"Time Period\"   });\n//filteredBusData = faDataBusSpeeds.filter(function(busspeed) {\n//  return functionalclasses_checked.includes(busspeed.FunctionalClassName) &&\n//         timeperiods_checked      .includes(busspeed.TimePeriodName     )// &&\n//         //areatypes        .includes(busspeed.AreaTypeName  );\n//});\n\ndomainFromSelect = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return faTimePeriods      .map(function(d) {return d.TimePeriod     }); break;\n    case 'AreaTypeName'       : return faAreaTypes        .map(function(d) {return d.AreaType       }); break;\n    case 'FunctionalClassName': return faFunctionalClasses.map(function(d) {return d.FunctionalClass}); break;\n    default                   : return                                                                       ;\n  }\n}\n\nxPlotDomainSelect = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return \"TimePeriod\"     ; break;\n    case 'AreaTypeName'       : return \"AreaType\"       ; break;\n    case 'FunctionalClassName': return \"FunctionalClass\"; break;\n    default                   : return                         ;\n  }\n}\n\nxLabel = {\n  switch(domainSelect) {\n    case 'TimePeriodName'     : return \"Time Period\"     ;      break;\n    case 'AreaTypeName'       : return \"Area Type\"       ;      break;\n    case 'FunctionalClassName': return \"Functional Class\";      break;\n    default                   : return                               ;\n  }\n}\n\ndomainFacetSelect = {\n  switch(facetSelect) {\n    case 'TimePeriodName'     : return faTimePeriods      .map(function(d) {return d.TimePeriodName     }); break;\n    case 'AreaTypeName'       : return faAreaTypes        .map(function(d) {return d.AreaTypeName       }); break;\n    case 'FunctionalClassName': return faFunctionalClasses.map(function(d) {return d.FunctionalClassName}); break;\n    default                   : return;  }\n}\n\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  facet: {data: faDataBusSpeeds, x: facetSelect, label: xLabel},\n  x: {label: xLabel, domain: domainFromSelect},\n  y: {label: \"Bus Speed Ratio\" , domain: [0, 1]},\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 16 } },\n  style: {\n    fontSize: 12\n  },\n  marks: [\n    Plot.frame(),\n    Plot.line(faDataBusSpeeds, {x: xPlotDomainSelect, y: \"BusSpeedRatio\", stroke: strokeSelect, strokeWidth: 2}),\n    Plot.dot (faDataBusSpeeds, {x: xPlotDomainSelect, y: \"BusSpeedRatio\", stroke: strokeSelect, r: 4, fill: strokeSelect})\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nInputs.table(faDataBusSpeeds, {\n  style: {\n    fontSize: 16,\n  },\n  columns: [\n    \"FunctionalClassName\",\n    \"TimePeriodName\",\n    \"AreaTypeName\",\n    \"BusSpeedRatio\"\n  ],\n  header: {\n    FunctionalClassName: \"Functional Class\",\n    TimePeriodName: \"Time Period\",\n    AreaTypeName: \"Area Type\",\n    BusSpeedRatio: \"Bus Speed Ratio\"\n  }})\n\n\n\n\n\n\n\n\n\n\n\nCode\nfaDataBusSpeeds_previous = FileAttachment(\"data\\\\bus_speed_ratios_previous.csv\").csv({ typed: true });\n\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  style: {\n    fontSize: 16,\n  },\n  x: {label: \"Functional Class\", tickRotate: 90, domain: faDataBusSpeeds_previous.map(function(d) {return d.FunctionalClass})//,\n      //tickFormat: (d) =&gt; {\n//          const label = d.toString(); // Convert the tick value to a string\n//          const maxWidth = 15; // Specify the maximum width for each label\n//          const words = label.split(\" \"); // Split the label into words\n//\n//          let line = \"\";\n//          let lines = [];\n//\n//          words.forEach((word) =&gt; {\n//            if (line.length + word.length &gt; maxWidth) {\n//              lines.push(line);\n//              line = \"\";\n//            }\n//            line += word + \" \";\n//          });\n//\n//          lines.push(line);\n//\n//          return lines;\n//      }\n    },\n  y: {label: \"Bus Speed Ratio\" , domain: [0, 1]},\n  color: { type: \"categorical\", legend: true },\n  marks: [\n    Plot.frame(),\n    Plot.barY(faDataBusSpeeds_previous, {x: \"FunctionalClass\", y: \"BusSpeedRatio\", stroke: \"FunctionalClass\", fill: \"FunctionalClass\"})\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n???PERHAPS CONSOLIDATE 3 DROPDOWNS INTO SINGLE ONE TO AVOID STRANGE VIEWS OF CHARTS???\n???NEED TO FIX OVERLAPPING CHART LABELS???\n\n\nAssignment\nDiurnal and production/attraction factors were calculated in _source - Diurnal & PA factors.xlsx and exported to a model lookup table called Diurnal & PA factors.csv. Corresponding factors were removed from the 0GeneralParameters.block file."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#traffic-analysis-zones-taz",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#traffic-analysis-zones-taz",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Traffic Analysis Zones (TAZ)",
    "text": "Traffic Analysis Zones (TAZ)\nThe v9.0.0 TAZ zone set includes new geographies, new TAZ numbering ranges, zone attributes, and districts, as well as a new \\_Source subfolder.\n\nGeographies\nChanges in TAZ geographies include both expansion of the model area and splitting and/or changing zone boundaries. The expanded model area now includes TAZs in additional portions of Box Elder County, all of western Weber County, and the entirety of Davis, Salt Lake and Utah Counties. External dummy zones (represented as quadrilaterals) were removed from the TAZ shapefile.\nAdditional area in the expanded WFRC and MAG areas include the following:\n\nCanyon areas of the Wasatch mountains up to the eastern boundary of Salt Lake, Utah, and Davis counties, and additionally the canyon areas up to eastern boundary of Box Elder County for the portion of Box Elder County that was in the v8.3.2 model.\nCanyon areas of the Wasatch mountains up to the ridge line of Weber County, excluding the Ogden Valley (Huntsville, Eden, Liberty) and other portions of eastern Weber County which remain in UDOT’s transportation planning jurisdiction.\nCanyon areas of the Oquirrh mountain range up to the western boundary of Salt Lake County\nGreat Salt Lake areas to the western boundary of Salt Lake, Davis, and Weber counties\n\nThe additional areas and reconfigured TAZs result in 694 additional zones, 688 internal zones and 6 new external zones. A comparison of zone counts is found in Table 1.\n\n\n\n\nTable 1: TAZ Count Comparions\n\n\nCategory\nv9.0.0\nv8.3.2\nDifference\n\n\n\n\nInternal Used Zones\n3,546\n2,858\n688\n\n\nExternal Count\n29\n23\n6\n\n\nAll New Used Zones\n3,575\n2,881\n694\n\n\nInternal Unused Zones\n54\n0\n54\n\n\nMax Used Zone\n3,629\n2,881\n748\n\n\n\n\n\n\nThe interactive map in Figure 1 can be explored to visualize the difference in v9.0.0 and v8.3.2 TAZs.\n\n\nCode\nmapTaz = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let lcolors = ['#0000FF'    ,'#FFFF00'   ]\n  let llabels = ['v8.3.2 TAZ' ,'v9.0.0 TAZ'];\n\n  let lyrTAZOld = L.geoJson(geojsonTazOld, { weight: 3.00, color: lcolors[0]}).addTo(map);\n  let lyrTAZNew = L.geoJson(geojsonTazNew, { weight: 0.75, color: lcolors[1]}).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'legend');\n      div.innerHTML = '';\n      for (var i = 0; i &lt; llabels.length; i++) {\n        div.innerHTML += '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + llabels[i] + '&lt;br/&gt;';\n      }\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 1: TAZ Geography Comparison Map\n\n\n\n\n\nTAZ Ranges\nThe new and previous internal and external ranges of TAZIDs by for each county are shown in Table 2.\n\n\n\n\nTable 2: TAZ Ranges\n\n\nCounty\nv9.0.0 Internal\nv9.0.0 External\nv8.3.2 Internal\nv8.3.2. External\n\n\n\n\nBox Elder County\n1-153\n3601-3606\n1-135\n136-140\n\n\nWeber County\n154-581\n3607-3609\n141-420\n421-423\n\n\nDavis County\n582-905\nN/A\n424-654\nN/A\n\n\nSalt Lake County\n906-2216\n3610-3615\n655-1781\n1782-1788\n\n\nUtah County\n2217-3546\n3616-3629\n1789-2873\n2874-2881\n\n\n\n\n\n\n\n\nAttributes\nThis section describes the changes made to the attributes of the TAZ shapefile.\n\nREMM Space\nTo indicate which TAZs are included in the Real Estate Market Model (REMM) space, the REMM field was added with a value of 1 indicating that it is part of REMM and 0 indicating it is not part of REMM, as shown in Figure 2.\n\n\nCode\nmapTazRemmSpace = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let remmColors = ['#00887F'   ,'#BD0026'       ]\n  let remmLabels = ['REMM Space','Non-REMM Space'];\n  \n  let lyrTAZNew = L.geoJson(geojsonTazNew, {\n                            style: function(feature) {\n                              var d = feature.properties.REMM;\n                              return d==1 ? {color:remmColors[0], weight:1, opacity:0.95} :\n                                     d==0 ? {color:remmColors[1], weight:1, opacity:0.95} : \n                                            {color:    '#000000', weight:1, opacity:0.95} ;\n                            }\n  }).addTo(map);\n  \n  var legend = L.control({position: 'bottomleft'});\n  legend.onAdd = function (map) {\n    var div = L.DomUtil.create('div', 'legend');\n    div.innerHTML = '';\n    for (var i = 0; i &lt; remmLabels.length; i++) {\n      div.innerHTML += '&lt;i style=\"background:' + remmColors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + remmLabels[i] + '&lt;br/&gt;';\n    }\n\n    // Add CSS style for the background color\n    div.style.backgroundColor = 'lightgray';\n    div.style.padding = '10px';\n    \n    return div;\n  };\n  legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 2: TAZ REMM Space\n\n\n\n\n\nParking Costs\nThe values in the permanent parking cost field PRKCSTPERM and temporary parking cost field PRKCSTTEMP were updated based on 2022 parking rates obtained from Salt Lake City, web searches, and field visits.\nA new methodology for calculating parking cost was envisioned but not implemented for v9.0.0. Accordingly, updates to parking data were done in a way to facilitate the change to the new methodology in the future. These updates include a new polygon source file for downtown and university areas. However, since the envisioned methodology removes the use of parking cost fields for Lagoon and Salt Lake City International Airport, they were not included in this new shapefile.\n\nDowntown and University Areas\nParking costs were developed for downtown areas for Ogden, Salt Lake City, and Provo, as well as major university areas along the Wasatch Front. A new source polygon shapefile was developed to hold rates for Home-Based Work (HBW), Home-Based College (HBC), Home-Based Other (HBO), and Non-Home-Based (NHB) trip purposes. While rates are included for these four purposes, the v9.0.0 model only utilizes HBW for permanent parking and HBO for temporary parking. The future methodology will incorporate all four purposes.\n???WHERE IS NEW SHAPEFILE… SHOW MAP OF NEW SHAPEFILE???\n\n\nLagoon and Salt Lake City International Airport\nThe Airport & Lagoon parking costs were updated based on current parking rate information and the assumptions described in this section.\nThe cost of permanent parking for the Lagoon TAZ was set to $0 based on the assumption that workers at Lagoon do not pay for parking. The temporary parking was set to $6 as calculated by dividing the 2022 advertised parking rate of $18 per day by an assumed average occupancy of 3 people per vehicle. The cost of temporary parking in previous models was $5 in 2010 dollars. The resulting $1 increase in 2019 dollars (20%) over 9 years seems reasonable.\nThe cost of permanent parking at the Salt Lake City International Airport was set to $0 based on the assumption that workers at the airport do not pay for parking. The cost of temporary parking was set to $1.25 based on a weighted average of short-term premium and economy rates and drop offs and a assumed average vehicle occupancy rate.\nThe 2022 the cost for the short-term premium parking in the garage is $5.00 per hour. Short-term economy rate is $2.00 per hour. And for drop-offs there is no charge for parking. The assumed occupancy rate of 2 people per vehicle would result in per-person rates of $2.50, $1.00, and $0.00, respectively. The average of the three per-person rates is $1.75. Given the unknown distribution of travelers, but assuming more drop-offs than parking, a lower value than $1.75 should be expected. The 2019 cost was chosen to be $1.25.\nCompared to the previous temporary parking values of $1 in 2010 dollars, the chosen cost represents a 25 cent increase in 2019 dollars (25%) over 9 years. This growth seems reasonable, especially given the recent improvements to the airport. Additional justification for the chosen increase is the CPI adjustment, which for the 2010 value of $1.00 in results in a 2019 value of $1.18.\n\n\n\n\nDistricts\nSmall District definitions and names were updated to include a larger number of TAZs than previous models’ small districts. There are now 129 total small districts sequentially numbered from northwest to southeast in each medium district. The small district name field DSML_NAME includes a prefix of Medium District index followed by a colon and then the sequential small district count (e.g. 15:1). Small districts were modified in conjunction with origin-destination data from StreetLight. Districts are shown in Figure 3.\n\n\nCode\nmapDistricts = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  let lcolors     = ['#FF0000'       ,'#00FF00'        ,'#0000FF'        ];\n  let llabels     = ['Small District','Medium District','Large District' ];\n\n  let lyrLDst = L.geoJson(geojsonLDst, { weight: 12.00, color: lcolors[2], fillOpacity: 0}).addTo(map);\n  let lyrMDst = L.geoJson(geojsonMDst, { weight:  6.00, color: lcolors[1], fillOpacity: 0}).addTo(map);\n  let lyrSDst = L.geoJson(geojsonSDst, { weight:  2.00, color: lcolors[0], fillOpacity: 0}).addTo(map);\n\n  lyrSDst.eachLayer(function(layer) {\n    var name = layer.feature.properties.DSML_NAME; // Assuming the attribute field is named \"DSML_NAME\"\nlayer.bindTooltip(name); // Add tooltip\n    // OR\n    // layer.bindPopup(name); // Add popup\n  });\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'legend');\n      div.innerHTML = '';\n      for (var i = 0; i &lt; llabels.length; i++) {\n        div.innerHTML += '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' + llabels[i] + '&lt;br/&gt;';\n      }\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n}\n\n\n\n\n\n\nFigure 3: Districts\n\n\n\nTwo additional polygon shapefiles were added to the Districts subfolder:\n\nThe Wasatch Front subarea is included in WF_Subarea.shp\nThe REMM district areas is included in Dist_REMM_Area.shp\n\n???SHOW SHAPEFILES???\n\n\nSource\nThe _Source subfolder was added and includes the following shapefile data sets: Cities, Counties, Districts, and Environmental Constraints. Additionally, a __ViewTAZDistricts folder with ArcGIS Pro project & mapping files was added.\n???SHOW SHAPEFILES???"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#socioeconomic-data",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#socioeconomic-data",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Socioeconomic Data",
    "text": "Socioeconomic Data\nForecasts and control totals were updated based on new census data, updated base year parcel data, and the results of the REMM Model.\n\nForecasts\nThe SE forecasts were updated for the WFRC areas. Box Elder updates were taken from the UDOT SE Forecasts from June 8, 2022. The rest of the WFRC area was updated with draft REMM - 2022-10-11 results using draft 2023 fiscally constrained plan. ???ADD REFERENCE TO REMM DOCUMENTATION??? The MAG area continues to use the 2019 fiscally constrained plan.\nThe updated SE forecasts can be found using the Household and Job Forecasts Web App. This map only contains the latest forecast and not any iterative step, such as the SE datasets in the model folder. Click on the View Advanced Version link in the header to enable the “Changes” option where you can see the change in forecasts between v8.3.2 and v9.0.0. You can explore the data in the embedded web application in Figure 4\n\n\nCode\nhtml`&lt;div style=\"width: 765px; height: 680px; transform: scale(0.85); transform-origin: 0 0;\"&gt;\n         &lt;iframe width=\"900\" height=\"800\" src=\"https://wfrc.org/household-job-forecast-map/\" title=\"Household and Job Forecast\"&gt;&lt;/iframe&gt;\n     &lt;/div&gt;`\n\n\n\n\n\n\nFigure 4: Embedded Household and Job Forecast Map\n\n\n\n???MAYBE ADD SOME CHARTS OR MAPS IN ADDITION TO WEB APP???\n\n\nControl Totals\nUpdates to the county control totals were made based on projections from the Gardner Policy Institute as found in the ControlTotal_SE_AllCounties.csv file. See Figure 5 for a comparison chart. The comparisons show that overall projections are lower than the for the SE data in the v8.3.2 model. Also, the affect of home-based job employment from COVID-19 can be seen in the new v9.0.0 dataset.\n???NEED TO EXPLAIN WHY PRE-2019 IS SO DIFFERENT FOR SOME CATEGORIES LIKE HBJ???\n\n\nCode\nfaControlTotals = FileAttachment(\"data/controltotal.csv\").csv({ typed: true });\nfaCounties      = FileAttachment(\"data/counties.csv\"    ).csv({ typed: true });\n\ncats = new Map([['Total Population'               , 'TOTPOP'    ],\n                ['Group Quarter Population'       , 'GQ_Pop'    ],\n                ['Household Population'           , 'HH_Pop'    ],\n                ['Households'                     , 'HH'        ],\n                ['Household Size'                 , 'HH_Size'   ],\n                ['Population 0-17'                , 'POP_00_17' ],\n                ['Population 18-64'               , 'POP_18_64' ],\n                ['Population 65+'                 , 'POP_65P'   ],\n                ['All Employment'                 , 'ALLEMP'    ],\n                ['Retail Employment'              , 'RETL'      ],\n                ['Food Employment'                , 'FOOD'      ],\n                ['Manufacturing Employment'       , 'MANU'      ],\n                ['Wholesale Employment'           , 'WSLE'      ],\n                ['Office Employment'              , 'OFFI'      ],\n                ['Government/Education Employment', 'GVED'      ],\n                ['Health Employment'              , 'HLTH'      ],\n                ['Other Employment'               , 'OTHR'      ],\n                ['Agriculture Employment'         , 'AGRI'      ],\n                ['Mining Employment'              , 'MING'      ],\n                ['Construction Employment'        , 'CONS'      ],\n                ['Home-Based Job Employment'      , 'HBJ'       ],\n                ['Jobs per Household'             , 'Job_HH'    ],\n                ['Working Population per Job'     , 'WrkPop_Job']])\n\nviewof selectCounty   = Inputs.select(faCounties.map(function(d) {return d.CO_NAME}), {value: 'Salt Lake', label: 'County: '});\nviewof selectCategory = Inputs.select(cats, {value: 'HH_Pop', label: 'Category: '});\n// FILTER DATA\nfilteredControlTotals = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         selectCategory == ct.Category;\n});\n\nmaxY = Math.max(...filteredControlTotals.map(item =&gt; item.ControlTotal));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d =&gt; d},\n  y: {label: 'Control Total', domain: [0, maxY]},\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 16 } },\n  marginLeft: 60,\n  style: {\n    fontSize: 12\n  },\n  marks: [\n    Plot.line(filteredControlTotals, {x: 'YEAR', y: 'ControlTotal', stroke: 'ModelVersion', strokeWidth: 3}),\n  ]\n})\n\n\n\n\n\n\nFigure 5: County Control Totals by Category\n\n\n\n???WORK AT HOME IS EXACLTY THE SAME BETWEEN VERSIONS???.\nThe source worksheet for these input files are found in the _Source - ControlTotal_SE - 2022-08-31.xlsx file. Other files in this directory were removed.\n\n\nSource Files\nThe _Income & K-12 Source folder was renamed as _ source - HBSch Enroll & Med Inc folder. The Kindergarten through 12th grade (K-12) enrollment data was updated using the 2019 statewide school enrollment database. Additionally, a point shapefile dataset was included, as shown in Figure 6.\n\n\nCode\nmapK12Enroll = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let greyLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n    attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map);\n\n  var cHigh = \"#FF0000\"\n  var cMidl = \"#00FF00\"\n  var cElem = \"#0000FF\"\n\n  var geojsonMarkerOptions_High = {\n      radius: 4,\n      fillColor: cHigh,\n      color: cHigh,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n\n  var geojsonMarkerOptions_Midl = {\n      radius: 4,\n      fillColor: cMidl,\n      color: cMidl,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n  var geojsonMarkerOptions_Elem = {\n      radius: 4,\n      fillColor: cElem,\n      color: cElem,\n      weight: 2,\n      opacity: 1,\n      fillOpacity: 1.0,\n  };\n            \n  // function to use different icons based on number of stations\n  function markerByEnrollment(feature) {\n    if (feature.properties.Enrol_High &gt;= 100) {\n      return geojsonMarkerOptions_High\n    } else if (feature.properties.Enrol_Midl &gt;= 100){\n      return geojsonMarkerOptions_Midl;\n    } else{\n      return geojsonMarkerOptions_Elem;\n    }\n  };\n\n  function getColor(c) {\n    if (c=='High School') {\n      return cHigh;\n    } else if (c=='Middle School') {\n      return cMidl;\n    } else if (c=='Elementary School') {\n      return cElem;\n    }\n  };\n          \n  // create the GeoJSON layer and call the styling function with each marker\n  var layerSchools = L.geoJSON(geojsonK12Enroll,  {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;\" + feature.properties.SchoolName + \" Enrollment&lt;/b&gt;\" +\n                    \"&lt;br&gt;&lt;b&gt;High School: &lt;/b&gt;\" + feature.properties.Enrol_High +\n                    \"&lt;br&gt;&lt;b&gt;Middle School: &lt;/b&gt;\" + feature.properties.Enrol_Midl +\n                    \"&lt;br&gt;&lt;b&gt;Elementary School: &lt;/b&gt;\" + feature.properties.Enrol_Elem);\n      var mymarker = L.circleMarker(latlng, markerByEnrollment(feature));\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'info legend');\n      var labelsBill = []; // legend title\n      var lcategories = ['High School','Middle School','Elementary School'];\n\n      for (var i = 0; i &lt; lcategories.length; i++) {\n        div.innerHTML += \n          labelsBill.push(\n            '&lt;i class=\"bi bi-circle-fill\" style=\"color:' + getColor(lcategories[i]) + '\"&gt;&lt;/i&gt; ' +\n          (lcategories[i] ? lcategories[i] : '+'));\n      }\n      div.innerHTML = labelsBill.join('&lt;br&gt;');\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);\n\n  //let lyrK12Enroll = L.geoJson(geojsonK12Enroll, { size: 5, color: '#FFFFFF'}).addTo(map);\n  \n}\n\n\n\n\n\n\nFigure 6: K-12 School Locations\n\n\n\nIn the _Source - Med Income & Value of Time - 2022-07-16.xlsb file, the median income & value-of-time (VOT) inputs for the model were updated with 2019 data and used to update the TAZ Median Income in the TAZ file."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#highway-network",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#highway-network",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Highway Network",
    "text": "Highway Network\nChanges include expansion of the highway network area to the extents of the expanded TAZ areas. See TAZ Geographies All v8.3.2 highway and transit nodes are used by v9.0.0. The naming conventions for Link and node fields were set to correspond with the 2023 Regional Transportation Plan (RTP). 2019 RTP fields are also in the highway network for reference and will be dropped before model release. 2023 RTP fields were initially populated with 2019 RTP values and are being updated to reflect draft 2023 RTP.\n\nHighway Node Numbering Schema\nUpdates to the highway node numbering schema are shown in Table 3. An additional reference file called _Node Definition - v832 & v9.xlsx is found in the 3_Highway folder.\n\n\n\n\nTable 3: Master Network Node Numbering Schema\n\n\nMPO\nTransit Nodes\nHighway Nodes\nv9.0.0 Expansion Areas\n\n\n\n\nWFRC\n10,000 - 19,999\n20,000 - 49,999\n90,000 - 94,999\n\n\nMAG\n50,000 - 59,999\n60,000 - 89,999\n95,000 - 99,999\n\n\n\n\n\n\n\n\nDated Updates\nThe highway network updates are listed by their file date.\n\n2022-10-05\nThe 2022-10-05 master network file includes most recently updated MAG merged master network with updated 2032, 2042 & 2050 Needs fields. Snapped updated MAG network with MasterNet - 2022-09-08.net that included WFRC’s latest changes.\n???WHY IS 2022-09-08 MENTIONED BUT NOT LISTED BELOW???\n\n\n2022-09-19a\nThis 2022-09-19a master network file includes the following changes:\n\nUpdated Commuter-Rail Transit (CRT) Fare Zone\n\nVineyard & Orem stations were modified to have the same fare zone (similar to North Temple & Central)\nUpdated and fixed fare zone definitions in WFRC area\n\nFixed small network error in Box Elder where a local road was drawn to the centroid of v8.3.2 TAZ 53\nA few edits to WFRC draft RTP project list\nUpdated segment ids\n\nMade consistent with the latest segment shapefile\nUpdated segments to account for recent network changes & add segment definitions to account for rail transit\n\nAdded SEGEX_RTP & SEGEX_NEED as text fields (to be populated later when script/processing updated). These are segment ID exception fields where the future SEGIDs are different than existing SEGIDs.\n\nAdditionally, a MergedMasterNet - 2022-09-19a folder was added to serve as a workspace for editing and updating Merged Master Network and for exporting to v8.3.2 & v9.0.0 master networks.\n\n\n2022-10-11\nThe 2022-10-11 master network file includes the following changes:\n\nPhase change for Managed Motorways in WFRC area\nA couple of phasing updates from the WFRC RTP project list\nCleaned up GIS23_32 and GIS23_42 fields\nDifferentiated what projects will be built by 2028 from what will be built by 2023\n\n\n\n2023-02-02 and 2023-01-26\nIn the MergedMasterNet - 2023-02-02.net and MasterNet_v9 – 2023-01-26.net several link SEGIDs were updated to create transit segments, and split some links to account for transit segmentation. Rail SEGID additions were made to allow for easier transit result visualization.\n\n\n\nComparison\n???SHOW COMPARISON BETWEEN 2019 RTP and 2023 RTP WITH DYNAMIC MAP SELECTING SCENARIO TO COMPARE???"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#transit",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#transit",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Transit",
    "text": "Transit\nThe transit line files and CUBE Public Transport (PT) files were updated.\n\nTransit Line Files\nThe following updates were made to correspond with the 2023 RTP:\n\n2019 was thoroughly vetted to represent Aug 2019 change day\n2023: updated route alignment, headways & stops based on Aug 2022 change day (WFRC & MAG)\n2028: updated route alignment, headways & stops based on UTA 5-Year Service Plan (WFRC & MAG)\nRTP 2032, 2042 & 2050: rolled 2028 changes forward into plan phased years & updated based on 2023 draft plan\nNeeds 2032, 2042 & 2050: rolled 2028 changes forward into plan phased years & updated based on 2023 draft plan\n\nThe transit line files were renumbered according to new highway node numbering schema.\nRoute S902 in wfrc_sl_exp_xxxx.lin files were updated so route no longer goes to the I-80 Parleys Canyon external node.\n\n\nPublic Transport (PT) Parameters\nThe node numbers in the transit factor files were updated to correspond with the new highway network nodes. The fare files were updated with 2019 fare data. The fares were updated to match the actual advertised fares, whereas the v8.3.2 model contained a 46% adjustment fares. This reduction accounts for monthly pass, education, fare-pay, senior, employer paid, and other discounts. This adjustment will be added into the General Parameters file and incorporated into the scripts in a future version. ???ADD REFERENCE??? As such, an additional set of fare files with a Discounted suffix were created and are being used consistent v8.3.2 and methodology.\n\n\nGeneral Hand-Coded Support Links\nGeneral_hand_coded_walk_links.NTL files were updated to account for new highway node numbering and TAZs.\n\n\nTransit Route Tester\nA _chk Transit Compile on Net folder was added with a separate route tester script for each model scenario. The script checks to see if transit line files for the respective scenario compile on the scenario highway network. The scripts create scenario networks in the _temp - Scenario Net folder. A .VPR file has scenario transit lines pre-loaded onto the network. This can be used for easy transit line edits.\nThe scripts create error reports (e.g. check - 1 - BY_2023.txt) that contain any issues if the transit network fails to compile on the highway network. Opening this file and searching for ‘F(’ will indicate any inconsistencies.\n\n\nComparison\n???SHOW COMPARISON BETWEEN 2019 RTP and 2023 RTP WITH DYNAMIC MAP SELECTING SCENARIO TO COMPARE???"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#externals",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#externals",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Externals",
    "text": "Externals\nWith the change in model extents, a corresponding change in external locations was necessitated. Additionally, the forecasts were updated with additional years of observed data.\n\nLocation\nThe locations of the former and updated location of externals is shown in Figure 7.\n\n\nCode\ngeojsonExternalOld   = FileAttachment(\"data/externalold.geojson\"  ).json()\ngeojsonExternalNew   = FileAttachment(\"data/externalnew.geojson\"  ).json()\ngeojsonMasterNetLink = FileAttachment(\"data/masternetlink.geojson\").json()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nmapExternals = {\n\n  let container = DOM.element('div', { style: `width:${width}px;height:${width/1.6}px` });\n  yield container;\n  \n  let map = L.map(container).setView([40.7608, -111.8910], 8.25);\n\n  let osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; &lt;a href=\"https://www.openstreetmap.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n  }).addTo(map); \n\n  var cNew = \"#FF0000\";\n  var cOld = \"#00FF00\";\n\n  var squareIcon_New = L.icon({\n    iconUrl: 'https://wfrc.org/wftdm-docs/_pictures/square_green.png',  // Replace with the path to your square-like icon image\n    iconSize: [15, 15],          // Adjust the size of the square-like icon\n    iconAnchor: [5, 5],          // Adjust the anchor point if needed\n  });\n\n  var squareIcon_Old = L.icon({\n    iconUrl: 'https://wfrc.org/wftdm-docs/_pictures/square_red.png',       // Replace with the path to your square-like icon image\n    iconSize: [15, 15],          // Adjust the size of the square-like icon\n    iconAnchor: [5, 5],          // Adjust the anchor point if needed\n  });\n\n  var cCommon = \"#FF0000\"\n  var cAdded  = \"#00FF00\"\n  var cOther  = \"#888888\"\n\n  var geolineCommon = {\n      color: cCommon,\n      weight: 2,\n      opacity: 1,\n  };\n\n  var geoLineAdded = {\n      color: cAdded,\n      weight: 2,\n      opacity: 1,\n  };\n  var geoLineOther = {\n      color: cOther,\n      weight: 2,\n      opacity: 1,\n  };\n            \n  // function to use different icons based on number of stations\n  function markerByNewNet(feature) {\n    if (feature.properties.FLG_NEWNET==3) {\n      return geolineCommon;\n    } else if (feature.properties.FLG_NEWNET==23){\n      return geoLineAdded;\n    } else{\n      return geoLineOther;\n    }\n  };\n\n  function getColor(c) {\n    if        (c=='Common') {\n      return cCommon;\n    } else if (c=='Added') {\n      return cAdded;\n    } else if (c=='Other') {\n      return cOther;\n    }\n  };\n\n  //let lyrNetwork = L.geoJson(geojsonMasterNetLink, { weight: 0.75, color: \"#888888\", fillOpacity: 0}).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n//  var lyrNetwork = L.geoJson(geojsonMasterNetLink,  { function (markerByNewNet(feature))}).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n  var externalNewLayer = L.geoJSON(geojsonExternalNew, {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;Node: \" + feature.properties.N + \"&lt;/b&gt;\");\n      var mymarker = L.marker(latlng, { icon: squareIcon_New });\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  // create the GeoJSON layer and call the styling function with each marker\n  var externalOldLayer = L.geoJSON(geojsonExternalOld, {\n    pointToLayer: function (feature, latlng) {\n      var mypopup = L.popup().setContent(\"&lt;b&gt;Node: \" + feature.properties.N + \"&lt;/b&gt;\");\n      var mymarker = L.marker(latlng, { icon: squareIcon_Old });\n      mymarker.bindPopup(mypopup);\n      return mymarker;\n    }\n  }).addTo(map);\n\n  var legend = L.control({position: 'bottomleft'});\n    legend.onAdd = function (map) {\n      var div = L.DomUtil.create('div', 'info legend');\n      var labelsBill = []; // legend title\n      var lcategories = ['v8.3.2','v9.0.0'];\n      var lcolors     = [cOld    ,cNew    ];\n\n      for (var i = 0; i &lt; lcategories.length; i++) {\n        div.innerHTML += \n          labelsBill.push(\n            '&lt;i style=\"background:' + lcolors[i] + '\"&gt;&nbsp;&lt;/i&gt; ' +\n          (lcategories[i] ? lcategories[i] : '+'));\n      }\n      div.innerHTML = labelsBill.join('&lt;br&gt;');\n\n      // Add CSS style for the background color\n      div.style.backgroundColor = 'lightgray';\n      div.style.padding = '10px';\n      \n      return div;\n    };\n    legend.addTo(map);  \n}\n\n\n\n\n\n\nFigure 7: Externals\n\n\n\nThe updated numbering scheme can be found in the Figure 8, Figure 9, and Figure 10.\n\n\n\nFigure 8: v9 External Description.\n\n\n\n\n\nFigure 9: v8.3.2 External Description.\n\n\n\n\n\nFigure 10: v9 & v8.3.2 External Description.\n\n\n\n\nForecasts\nForecasts through 2060 were generated for the updated external locations using historical data through 2019. The files can be found in the Ext_Vol_Control folder. The _Source_ExternalTAZ_HistoricalAADT v9 - 2022-04-04a.xlsx file contains the spreadsheet used to generate the forecast file used in the model: external_year_vol.csv.\n???ADD DYNAMIC CHART SHOWING HISTORIC AND FORECAST DATA WITH DROPDOWN FOR EXTERNAL # AND NAME???\n\n\nSubarea Extraction Matrices\nThe external matrices from USTM were updated. AM, MD, PM, EV, and DY external matrices were replaced from USTM’s subarea extraction process for the following years: - 2015 – copied DY matrix from 2019 - 2019 - 2023 – copied DY matrix from 2019 - 2028 – copied DY matrix from 2032 - 2032 - 2042 - 2050 - USTM version used: ‘USTM_v3.0 - 2022-09-15’ which included TAZ, MasterNet, SE & loaded nets from ‘WF TDM v9.0 - 2022-10-05’"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#segment",
    "href": "v9x/v900/whats-new/2023-04-14/2-inputdata.html#segment",
    "title": "Version 9.0.0 - What’s New?",
    "section": "Segment",
    "text": "Segment\nThe Master_Segs_withFactors_20220915.shp file contains the updated segments to align with 2023 RTP network changes. Additional segments were added to account for rail transit corridors. The corresponding Stamping_Polygons\\SegmentPolygon_forTDM_20220915.shp file was also updated."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/4-hhdisag.html",
    "href": "v9x/v900/whats-new/2023-04-14/4-hhdisag.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Household Disaggregation and Auto Ownership\nThe 1_LifeCycle.s was modified to account for removal of the COUNTY field from the TAZ shapefile and respective ids for county-specific variables removed from 0_GeneralParameters.block."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/6-distribution.html",
    "href": "v9x/v900/whats-new/2023-04-14/6-distribution.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The changes described in this section were made in the 1_Distribution.s script.\n\n\nThe convergence criteria was updated for trip table and link convergences, as well as the check criteria.\n\n\nFor trip table convergence, the percent change threshold was reduced from 10% to 7.5%. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe trip matrix cell is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nTrips from the current iteration are less than 1\n\nWith the exception that the cell is not converged if the trips from the current iteration is greater than zero and the trips from the previous iteration equals zero.\n\n\n\nFor link volume convergence, the percent change threshold was increased from 5% to 7.5%. Centroid connectors are not considered when determining convergence. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe link is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nVolume from current iteration equals zero and volume from previous iteration equals zero.\n\nWith the exception that the link is not converged if:\n\nVolume from the current iteration is greater than zero and the volume from the previous iteration equals zero, or\nVolume from the current iteration is zero and the volume from the previous iteration is greater than zero.\n\n\n\n\nThe convergence check criteria was updated. The minimum of 5 iterations requirement was removed. The RGAP parameter passthrough variable from moved from the block file to main script just before each assignment call The EV RGAP parameter to value in 0GeneralParameters.block divided by 10.\n\n\n\n\nThe initializing and logging of trip, vehicle-miles traveled (VMT), and vehicle-hours traveled (VHT) variables were removed from the log file. The trip table and link convergence reports in the log file were updated.\nThe following new reports were added to better track convergence:\n\n_Stats - Distrib Assign - @RID@.csv\n_Stats - Distrib Loaded Net - @RID@.csv\n_Stats - Distrib Trip Table - @RID@.csv\n\n\n\n\nA @unloadednetprefix@_@n@_convg.net file was added to Temp\\3_Distribute folder. It includes following fields (li.1=current iteration, li.2=previous iteration):\n\nAM_Cur = li.1.AM_VOL\nMD_Cur = li.1.MD_VOL\nPM_Cur = li.1.PM_VOL\nEV_Cur = li.1.EV_VOL\nDY_Cur = li.1.DY_VOL\nAM_Pre = li.2.AM_VOL\nMD_Pre = li.2.MD_VOL\nPM_Pre = li.2.PM_VOL\nEV_Pre = li.2.EV_VOL\nDY_Pre = li.2.DY_VOL\nAM_Diff = AM_Cur - AM_Pre\nMD_Diff = MD_Cur - MD_Pre\nPM_Diff = PM_Cur - PM_Pre\nEV_Diff = EV_Cur - EV_Pre\nDY_Diff = DY_Cur - DY_Pre\nAM_PctDiff = ABS(AM_Diff) / AM_Pre\nMD_PctDiff = ABS(MD_Diff) / MD_Pre\nPM_PctDiff = ABS(PM_Diff) / PM_Pre\nEV_PctDiff = ABS(EV_Diff) / EV_Pre\nDY_PctDiff = ABS(DY_Diff) / DY_Pre\nCONVLINK (if (DY_PctDiff&lt;=_ConvThreshold)  CONVLINK = 1)\n\n???NOT SURE WHAT THIS WAS SUPPOSED TO MEAN. IT IS ALL ALONE IN DOCUMENT: 4pd_mainbody_distribution.block"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/6-distribution.html#convergence",
    "href": "v9x/v900/whats-new/2023-04-14/6-distribution.html#convergence",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The convergence criteria was updated for trip table and link convergences, as well as the check criteria.\n\n\nFor trip table convergence, the percent change threshold was reduced from 10% to 7.5%. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe trip matrix cell is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nTrips from the current iteration are less than 1\n\nWith the exception that the cell is not converged if the trips from the current iteration is greater than zero and the trips from the previous iteration equals zero.\n\n\n\nFor link volume convergence, the percent change threshold was increased from 5% to 7.5%. Centroid connectors are not considered when determining convergence. For each iteration, only cells where the trips in the current iterations are greater than zero are considered. Cells with trips greater than zero are counted as significant trips and form the denominator in the percent converged calculation.\nThe link is considered converged if:\n\nPercent change from previous iteration is within 7.5%, or\nVolume from current iteration equals zero and volume from previous iteration equals zero.\n\nWith the exception that the link is not converged if:\n\nVolume from the current iteration is greater than zero and the volume from the previous iteration equals zero, or\nVolume from the current iteration is zero and the volume from the previous iteration is greater than zero.\n\n\n\n\nThe convergence check criteria was updated. The minimum of 5 iterations requirement was removed. The RGAP parameter passthrough variable from moved from the block file to main script just before each assignment call The EV RGAP parameter to value in 0GeneralParameters.block divided by 10."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/6-distribution.html#reports",
    "href": "v9x/v900/whats-new/2023-04-14/6-distribution.html#reports",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The initializing and logging of trip, vehicle-miles traveled (VMT), and vehicle-hours traveled (VHT) variables were removed from the log file. The trip table and link convergence reports in the log file were updated.\nThe following new reports were added to better track convergence:\n\n_Stats - Distrib Assign - @RID@.csv\n_Stats - Distrib Loaded Net - @RID@.csv\n_Stats - Distrib Trip Table - @RID@.csv"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/6-distribution.html#other",
    "href": "v9x/v900/whats-new/2023-04-14/6-distribution.html#other",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "A @unloadednetprefix@_@n@_convg.net file was added to Temp\\3_Distribute folder. It includes following fields (li.1=current iteration, li.2=previous iteration):\n\nAM_Cur = li.1.AM_VOL\nMD_Cur = li.1.MD_VOL\nPM_Cur = li.1.PM_VOL\nEV_Cur = li.1.EV_VOL\nDY_Cur = li.1.DY_VOL\nAM_Pre = li.2.AM_VOL\nMD_Pre = li.2.MD_VOL\nPM_Pre = li.2.PM_VOL\nEV_Pre = li.2.EV_VOL\nDY_Pre = li.2.DY_VOL\nAM_Diff = AM_Cur - AM_Pre\nMD_Diff = MD_Cur - MD_Pre\nPM_Diff = PM_Cur - PM_Pre\nEV_Diff = EV_Cur - EV_Pre\nDY_Diff = DY_Cur - DY_Pre\nAM_PctDiff = ABS(AM_Diff) / AM_Pre\nMD_PctDiff = ABS(MD_Diff) / MD_Pre\nPM_PctDiff = ABS(PM_Diff) / PM_Pre\nEV_PctDiff = ABS(EV_Diff) / EV_Pre\nDY_PctDiff = ABS(DY_Diff) / DY_Pre\nCONVLINK (if (DY_PctDiff&lt;=_ConvThreshold)  CONVLINK = 1)\n\n???NOT SURE WHAT THIS WAS SUPPOSED TO MEAN. IT IS ALL ALONE IN DOCUMENT: 4pd_mainbody_distribution.block"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/7-mc.html",
    "href": "v9x/v900/whats-new/2023-04-14/7-mc.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Updates to the Mode Choice portion of the model include drive access links, transit skims, and district summaries.\n\n\nThe 04_Create_drive_access_links.s script was modified to reference the new ControlTotal_SE_AllCounties.csv input file. The control total lookup index calculation was updated to account for Weber County indexing between two sub-areas. The 9057 prefix is for the UDOT Subarea and 9157 prefix for the WFRC Subarea.\n\n\n\nThe 05_Skim_Tran.s script was modified to account for the new bus speeds inputs. ???INCLUDE REFERENCE HERE TO INPUT DATA - BUS SPEEDS??? The lookup index is based on updated Functional Class groups shown in Table 1.\n\n\n\n\nTable 1: Updated Functional Class Groups for Bus Speed\n\n\nFunctional Class\nFT\n\n\n\n\nCollectors & Locals\n1, 4-10\n\n\nMinor Arterials\n3\n\n\nPrincipal Arterials\n2\n\n\nExpressways\n11-19\n\n\nFreeways & Ramps\n20-49\n\n\n\n\n\n\n\n\n\nThe 18_SumToDistricts_FinalTripTables.s script was modified to change COUNTY field references to CO_FIPS for county summaries due to removal of field from TAZ shapefile."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/7-mc.html#drive-access-links",
    "href": "v9x/v900/whats-new/2023-04-14/7-mc.html#drive-access-links",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The 04_Create_drive_access_links.s script was modified to reference the new ControlTotal_SE_AllCounties.csv input file. The control total lookup index calculation was updated to account for Weber County indexing between two sub-areas. The 9057 prefix is for the UDOT Subarea and 9157 prefix for the WFRC Subarea."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/7-mc.html#transit-skims",
    "href": "v9x/v900/whats-new/2023-04-14/7-mc.html#transit-skims",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The 05_Skim_Tran.s script was modified to account for the new bus speeds inputs. ???INCLUDE REFERENCE HERE TO INPUT DATA - BUS SPEEDS??? The lookup index is based on updated Functional Class groups shown in Table 1.\n\n\n\n\nTable 1: Updated Functional Class Groups for Bus Speed\n\n\nFunctional Class\nFT\n\n\n\n\nCollectors & Locals\n1, 4-10\n\n\nMinor Arterials\n3\n\n\nPrincipal Arterials\n2\n\n\nExpressways\n11-19\n\n\nFreeways & Ramps\n20-49"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/7-mc.html#district-summaries",
    "href": "v9x/v900/whats-new/2023-04-14/7-mc.html#district-summaries",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The 18_SumToDistricts_FinalTripTables.s script was modified to change COUNTY field references to CO_FIPS for county summaries due to removal of field from TAZ shapefile."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/8-assign.html",
    "href": "v9x/v900/whats-new/2023-04-14/8-assign.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Highway Assignment\nThe 4_SummarizeLoadedNetworks.s script was modified to point the GEOMI reference to 0_InputProcessing\\UpdatedMasterNet\\GIS\\@MasterPrefix@ - Link.shp instead of the 1_Inputs\\3_Highway folder."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/10-modelresults.html",
    "href": "v9x/v900/whats-new/2023-04-14/10-modelresults.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "This section compares the model results between v9.0.0 and v8.3.2 for roadway volumes and transit.\n\n\nThe comparison between daily volumes at the segment level can be found in Figure 1 for 2019 and 2050. Decreases in volume in v9.0.0 compared to v8.3.2 are shown in blue, while increases are shown in red. Salt Lake and northern Davis counties display a drop in roadway volumes, most apparent on I-15. Weber, southern Davis, and Utah Counties show increases. Most of the changes are relatively minor, with the largest decreases occurring on the freeways in Salt Lake County. However, given the large daily volume for these roadways, the percent change is relatively low.\n\n\n\n\n\n\n\n(a) 2019\n\n\n\n\n\n\n\n(b) 2050\n\n\n\n\n\n\n\nFigure 1: Model Daily Volumes Comparison (v9.0 vs v8.3.2)\n\n\n???WOULD BE BETTER TO REMOVE LINKS THAT HAVE ZERO LANES, NOTE MUTLIPLE UTAH LAKE CROSSING LINKS IN BOTH 2019 and 2050.\n???MAY BE GOOD TO INCLUDE TRUCK VOLUME COMPARISON???\n\n\n\nTransit comparisons were done with ridership, trips mode share, and boardings mode share. Overall ridership increases significantly in v9.0.0, and Core Bus ridership takes a larger share of trips and boardings than in v8.3.2.\n\n\nTransit ridership in v9.0.0 compared to v8.3.2 shows significant increase in 2032, 2042, and 2050. See Figure 2. The total ridership in 2050 for v9.0.0 is 332,000 daily trips compared to the v8.3.2 model that showed 258,000 daily trips, which represents a 29% increase. The increase is largely due to the improvements in commuter rail with increased frequency and speed. ???VERIFY!!???\n\n\n\n\n                                                \nFigure 2: Daily Transit Ridership - All Purposes\n\n\n\n???NEED TO GET RID OF DATE TIME STAMP AND OTHER ’CODE’S IN MODEL LEGEND “Transit” instead of “4: Transit”???\nFor Home-Based College (HBC) trips, the v9.0.0 model shows lower projections. See Figure 3. This is mostly due to many of the lower enrollment colleges being removed from the trips tables. The uptick in HBC trips in 2042 and 2050 in v9.0.0 follow similar increases the updated enrollment trends. ???ADD REFERENCE TO COLLEGES SECTION IN INPUTS???\n\n\n\n\n                                                \nFigure 3: Daily Transit Ridership - Home-Based College\n\n\n\n\n\n\nA comparison of the share of trips amongst the various modes of transit was done for both Trips and Boardings.\n\n\nThe transit ridership trip shares by mode can be found in Figure 4 for v9.0.0 and Figure 5 for v8.3.2. The main difference in v9.0.0 trip share by mode is the large increase in Core Bus trips in 2032 from almost nothing in 2028, while in v8.3.2 the increase in Core Bus trips is spread out between 2024 and 2030. This large increase is consistent with the transit inputs into the model with a large number of Core Bus routes coming into production in 2032, replacing mostly local bus service. The new Core Buy takes most of the local bus ridership it is replacing, but also quite a lot of ridership from Light Rail Transit (Mode 7).\n???MAP SHOWING TRANSIT CHANGES, LIKE ROADWAY VOLUMES WOULD BE USEFUL???\n\n\n\n\n                                                \nFigure 4: Transit Trips Share by Mode - v9.0\n\n\n\n\n\n\n\n                                                \nFigure 5: Transit Trips Share by Mode - v8.3.2\n\n\n\n???ANYWAY TO GET THESE CHARTS SIDE-BY-SIDE… ALSO LOT OF WHITE SPACE BETWEEN CHART AND CAPTION, WHICH MAKES IT A LITTLE CONFUSING???\n\n\n\n\nTransit boardings for v9.0.0 are found in Figure 6 and for v8.3.2 are found in Figure 7. Boardings follow the same pattern as trips, but boardings are able to differentiate between modes better than trips that are categorized hierarchically.\n\n\n\n\n                                                \nFigure 6: Transit Boardings Share by Mode - v9.0\n\n\n\n\n\n\n\n                                                \nFigure 7: Transit Boardings Share by Mode - v8.3.2\n\n\n\n???SAME COMMENTS FOR THESE TWO AS THE TWO ABOVE???\n\n\n\n\nThe comparison of base year (2019) station-level boardings for commuter-rail transit (CRT) is found in Figure 8. CRT boardings were found to be higher than observed for Davis County and lower than observed for Utah County. An adjustment of 5 additional minutes to in-vehicle-time for trips to/from Davis County and 5 fewer minute to in-vehicle-time for Utah County was made to attempt to bring the model more in-line with observations. ???VERIFY!!!???\nAdditional investigation was conducted into why Provo and Lehi were particularly low in the model. The findings did not turn up any obvious errors in the transit or model network. So, the conclusion is that further adjustments to CRT will be possible in the Mode Choice Update project that is currently being undertaken for the next release of the model.\n\n\n\n\n                                                \nFigure 8: 2019 Daily CRT Boardings by Station - Model vs Observed"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/10-modelresults.html#road-volume-comparisons",
    "href": "v9x/v900/whats-new/2023-04-14/10-modelresults.html#road-volume-comparisons",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The comparison between daily volumes at the segment level can be found in Figure 1 for 2019 and 2050. Decreases in volume in v9.0.0 compared to v8.3.2 are shown in blue, while increases are shown in red. Salt Lake and northern Davis counties display a drop in roadway volumes, most apparent on I-15. Weber, southern Davis, and Utah Counties show increases. Most of the changes are relatively minor, with the largest decreases occurring on the freeways in Salt Lake County. However, given the large daily volume for these roadways, the percent change is relatively low.\n\n\n\n\n\n\n\n(a) 2019\n\n\n\n\n\n\n\n(b) 2050\n\n\n\n\n\n\n\nFigure 1: Model Daily Volumes Comparison (v9.0 vs v8.3.2)\n\n\n???WOULD BE BETTER TO REMOVE LINKS THAT HAVE ZERO LANES, NOTE MUTLIPLE UTAH LAKE CROSSING LINKS IN BOTH 2019 and 2050.\n???MAY BE GOOD TO INCLUDE TRUCK VOLUME COMPARISON???"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/10-modelresults.html#transit-comparisons",
    "href": "v9x/v900/whats-new/2023-04-14/10-modelresults.html#transit-comparisons",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "Transit comparisons were done with ridership, trips mode share, and boardings mode share. Overall ridership increases significantly in v9.0.0, and Core Bus ridership takes a larger share of trips and boardings than in v8.3.2.\n\n\nTransit ridership in v9.0.0 compared to v8.3.2 shows significant increase in 2032, 2042, and 2050. See Figure 2. The total ridership in 2050 for v9.0.0 is 332,000 daily trips compared to the v8.3.2 model that showed 258,000 daily trips, which represents a 29% increase. The increase is largely due to the improvements in commuter rail with increased frequency and speed. ???VERIFY!!???\n\n\n\n\n                                                \nFigure 2: Daily Transit Ridership - All Purposes\n\n\n\n???NEED TO GET RID OF DATE TIME STAMP AND OTHER ’CODE’S IN MODEL LEGEND “Transit” instead of “4: Transit”???\nFor Home-Based College (HBC) trips, the v9.0.0 model shows lower projections. See Figure 3. This is mostly due to many of the lower enrollment colleges being removed from the trips tables. The uptick in HBC trips in 2042 and 2050 in v9.0.0 follow similar increases the updated enrollment trends. ???ADD REFERENCE TO COLLEGES SECTION IN INPUTS???\n\n\n\n\n                                                \nFigure 3: Daily Transit Ridership - Home-Based College\n\n\n\n\n\n\nA comparison of the share of trips amongst the various modes of transit was done for both Trips and Boardings.\n\n\nThe transit ridership trip shares by mode can be found in Figure 4 for v9.0.0 and Figure 5 for v8.3.2. The main difference in v9.0.0 trip share by mode is the large increase in Core Bus trips in 2032 from almost nothing in 2028, while in v8.3.2 the increase in Core Bus trips is spread out between 2024 and 2030. This large increase is consistent with the transit inputs into the model with a large number of Core Bus routes coming into production in 2032, replacing mostly local bus service. The new Core Buy takes most of the local bus ridership it is replacing, but also quite a lot of ridership from Light Rail Transit (Mode 7).\n???MAP SHOWING TRANSIT CHANGES, LIKE ROADWAY VOLUMES WOULD BE USEFUL???\n\n\n\n\n                                                \nFigure 4: Transit Trips Share by Mode - v9.0\n\n\n\n\n\n\n\n                                                \nFigure 5: Transit Trips Share by Mode - v8.3.2\n\n\n\n???ANYWAY TO GET THESE CHARTS SIDE-BY-SIDE… ALSO LOT OF WHITE SPACE BETWEEN CHART AND CAPTION, WHICH MAKES IT A LITTLE CONFUSING???\n\n\n\n\nTransit boardings for v9.0.0 are found in Figure 6 and for v8.3.2 are found in Figure 7. Boardings follow the same pattern as trips, but boardings are able to differentiate between modes better than trips that are categorized hierarchically.\n\n\n\n\n                                                \nFigure 6: Transit Boardings Share by Mode - v9.0\n\n\n\n\n\n\n\n                                                \nFigure 7: Transit Boardings Share by Mode - v8.3.2\n\n\n\n???SAME COMMENTS FOR THESE TWO AS THE TWO ABOVE???"
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/10-modelresults.html#commuter-rail-station-boardings",
    "href": "v9x/v900/whats-new/2023-04-14/10-modelresults.html#commuter-rail-station-boardings",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The comparison of base year (2019) station-level boardings for commuter-rail transit (CRT) is found in Figure 8. CRT boardings were found to be higher than observed for Davis County and lower than observed for Utah County. An adjustment of 5 additional minutes to in-vehicle-time for trips to/from Davis County and 5 fewer minute to in-vehicle-time for Utah County was made to attempt to bring the model more in-line with observations. ???VERIFY!!!???\nAdditional investigation was conducted into why Provo and Lehi were particularly low in the model. The findings did not turn up any obvious errors in the transit or model network. So, the conclusion is that further adjustments to CRT will be possible in the Mode Choice Update project that is currently being undertaken for the next release of the model.\n\n\n\n\n                                                \nFigure 8: 2019 Daily CRT Boardings by Station - Model vs Observed"
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/4-assign.html",
    "href": "v8x/v831/whats-new/2020-05-08/4-assign.html",
    "title": "Version 8.3.1 - What’s New?",
    "section": "",
    "text": "Assignment Output Folder\nSubfolders were added to the final assignment folder, ‘5_AssignHwy’, in the scenario output folder to keep assignment output more organized. The new folders are shown in Figure 1.\n\n\n\nFigure 1: New assignment folder structure.\n\n\nThe ‘0_ConvergeReports’ folder contain the highway assignment convergence reports. These reports were previously written to the assignment temp folder. The ‘1_ODTables’ contain the output of the ‘01_Convert_PA_to_OD.s’ script. The binary ‘.NET’, loaded network files are found in ‘2a_Networks’ and their shapefile equivalents are found in ‘2b_Shapefiles’. The network and matrix output from select link analyses are found in ‘3_SelectLink’. Segment summaries from the new segment processing script are found in ‘4_Summaries’. The period skims produced form the final loaded network travel times are found in ‘5_FinalNetSkims’."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/5-ato.html",
    "href": "v8x/v831/whats-new/2020-05-08/5-ato.html",
    "title": "Version 8.3.1 - What’s New?",
    "section": "",
    "text": "Access to Opportunity\nAccess to opportunities, also referred to as accessibility or ATO, is a way to measure how well people can connect to jobs, or vice versa. ATO metrics quantify how well the current and future transportation system work with land use. Both shorter travel times and an increased presence of employment and other opportunities result in higher accessibility scores.\nA script to calculate ATO metrics, ‘1_Access_to_Opportunity.s’ located in the ‘2_ModelScripts\\7_PostProcessing’ folder, has been added to the model’s ’_HailMary.s’ batch script and runs automatically with every model run. The script sums the number of jobs and households that are within a typical commute travel shed (in minutes) by auto and transit. The typical commute travel shed is defined using a distance decay curve estimated from the 2012 household travel survey. Metrics that combine the jobs and households are also calculated.\nResults from the ATO script are output into ‘7_PostProcessing\\Access_to_Opportunity_@DemographicYear@.dbf’. Results can be joined with the TAZ shapefile to visualize the data, such as Figure 1\n\n\n\nFigure 1: Example report from the WFRC website displaying results at the TAZ level."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-05-08/6-misc.html",
    "href": "v8x/v831/whats-new/2020-05-08/6-misc.html",
    "title": "Version 8.3.1 - What’s New?",
    "section": "",
    "text": "Miscellaneous Changes\nA small bug was fixed in the ‘1_TripTable.s’ script in the ‘2_ModelScripts\\0_InputProcessing\\d_TripTable’ folder. The control totals for the Salt Lake International Airport and Lagoon zones were being assigned to the other location’s output. This fix will cause a localized change to the volumes near the airport and Lagoon.\nA small bug fix was made to the ‘1_NetProcessor.s’ script in the ‘2_ModelScripts\\0_InputProcessing\\ c_NetworkProcessing’ folder. When socioeconomic data is loaded on to the TAZ centroids, home-based job employment had supplanted the construction job variable. This fix only affects labeling of socioeconomic data on the highway network in Cube and does not affect any travel model results.\nTIME fields on the network were edited to have four decimal places of precision instead of two (added to improve speed calculations). Subfolder structure was removed for ‘0_DeleteTempFiles.s’ script in ‘2_ModelScripts\\7_PostProcessing’ folder and corresponding edits were made in the ’_HailMary.s’ batch script.\n’_HailMary.s’ was updated to include more detail in the email functions. The ‘Compare2Assignments.s’ script in the ‘2_ModelScripts\\7_PostProcessing\\2_Compare2Nets’ folder was updated to include SEGID, correct field names for free flow speed, and add Area Type comparison. The associated DEFAULT.VPR file was also cleaned up. A script to compare two master networks, ‘Compare_MasterNet.s’, was also added to the ‘2_ModelScripts\\7_PostProcessing\\2_Compare2Nets’ folder."
  },
  {
    "objectID": "v8x/v831/whats-new/2020-08-17/1-20200817-update.html",
    "href": "v8x/v831/whats-new/2020-08-17/1-20200817-update.html",
    "title": "Version 8.3.1 - What’s New?",
    "section": "",
    "text": "Updated Networks – Aug 17, 2020\nThe ‘WF TDM v8.3.1 - 2020-05-08’ model version included most but not all of the highway and transit network changes that were part of MAG’s RTP amendment. Because the networks reflect the “official” MAG amended plan, the travel model was reissued with a new date stamp. However, since there were no changes to the model itself or the other modeling inputs, the version number of the travel model remained the same.\nFigure 1 shows where lanes were added (green) or were taken away (orange) between ‘WF TDM v8.3.1 - 2020-05-08’ and ‘WF TDM v8.3.1 - 2020-08-17’ highway networks. Express bus routes were also removed from the MAG line files in the 2030, 2040 & 2050 Funded & Needed Transit folders .\n\n\n\nFigure 1: Added lanes between v8.3.1 2020-05-08 and v8.3.1 2020-08-17"
  },
  {
    "objectID": "v8x/v831/whats-new/downloads.html",
    "href": "v8x/v831/whats-new/downloads.html",
    "title": "Downloads",
    "section": "",
    "text": "The What’s New Documents for the various iterations of version 8 can also be downloaded as complete word documents or pdf documents. These complete downloads are provided below:\n\nVersion 8.3.2\n\n\n\n\n\n\nVersion 8.3.1\n\n\n\n\n\n\nVersion 8.3\n\n[Still Need to Find it]"
  },
  {
    "objectID": "v8x/v831/whats-new/index.html",
    "href": "v8x/v831/whats-new/index.html",
    "title": "What’s New? - Version 8",
    "section": "",
    "text": "These are the What’s New Documents for the Wasatch Front Travel Demand Model (TDM) that were released during various iterations of version 8.\nFor access to v8.3.2 of the TDM visit https://github.com/WFRCAnalytics/WF-TDM-v8.3.2.\nFor access to the v8.3.1, v8.3, and other iterations of version 8, please email Chad Worthen at cworthen@wfrc.org."
  },
  {
    "objectID": "v8x/v832/downloads.html",
    "href": "v8x/v832/downloads.html",
    "title": "Version 8.3.2 - Downloads",
    "section": "",
    "text": "The downloads for the Version 8.3.2 documentation is shown below by category.\n\nWhat’s New Document\n\n v8.3.2 2022-02-04 Whats New \n v8.3.2 2021-11-10 Whats New \n\n\n\nInputs\n\n v8.3.2 2022-02-04 Inputs \n\n\n\nCalibration & Validation Report\n\n v8.3.2 2022-02-04 Calib Valid \n v8.3.2 2021-10-17 Calib Valid"
  },
  {
    "objectID": "v8x/v832/index.html",
    "href": "v8x/v832/index.html",
    "title": "Version 8.3.2",
    "section": "",
    "text": "This is the documentation for the Wasatch Front Travel Demand Model for Version 8.3.2. The documentation includes:\n\nWhat’s New Document\nInputs Document\nCalibration & Validation Report\n\nFor access to this version of the TDM visit https://github.com/WFRCAnalytics/WF-TDM-v8.3.2."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/1-genparams.html",
    "href": "v8x/v832/whats-new/2021-11-10/1-genparams.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "General Parameters\nFor highway calibration purposes, KFACs were defined for the following county-to-county trips:\n\nKFAC for Utah County to/from Salt Lake County trips is set to 0.85.\nKFAC for Davis County to/from Salt Lake County trips is set to 0.95.\n\nFor transit calibration purposes, the BRT Mode 5 multiplier was set to 0.40. The Mode 9 multiplier was removed, since BRT Mode 9 was calibrated independently of LRT for v8.3.2."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/10-modelresults.html",
    "href": "v8x/v832/whats-new/2021-11-10/10-modelresults.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Model Results - Comparison with v8.3.1\nFigure 1 shows a comparison of daily roadway volume in the v8.3.2 model compared to the v8.3.1 model. Roadway links in red demonstrate an increase in traffic and green show a decrease in traffic between the new and the old model. The thicker the line and darker the color, the greater the magnitude of change. At the region level, the changes show that v.8.3.2 includes greater county-to-county flows as demonstrated in the 2019 base year with volume between Salt Lake County and both Davis and Utah Counties increasing while roadways such as I-80, I-215, and SR-201 showing decreasing traffic. This pattern is continued in the 2050 model with the intensity of change increasing on north/south freeways and arterials.\n\n\n\nFigure 1: Model Daily Volumes Comparison (v8.3.2 vs v8.3.1).\n\n\nComparison of the highway volume validations of the v8.3.2 and v8.3.1 models are shown in Figure 2. There are separate charts by facility type and by county, as well as vehicle type. Medium and heavy truck trip generations and trip-length-frequencies were adjusted in the calibration process to bring model truck volumes closer in line with observed. Overall, for all vehicles the v8.3.2 model is closer to observed with all facility types within 4% of observed. Utah County improves significantly to only 1% low while Box Elder, Weber, and Davis counties are a couple percent lower than v8.3.1. When looked at by facility type, medium and heavy trucks see major improvements with minor arterials and major collectors and are much closer to observed by significant margins, but overall are slightly lower than observed as compared to v8.3.1.\n\n\n\nFigure 2: Highway Volumes Validation (v8.3.2 and v8.3.1).\n\n\nFigure 3, Figure 4, and Figure 5 show a comparison between daily model volumes by vehicle type with observed traffic volumes. There are slight changes in the All Vehicles figures between v8.3.2 and v8.3.1. Greater improvements are seen in the Medium and Heavy Truck figures, especially in the Box Elder and the Mountain View Corridor areas.\n\n\n\nFigure 3: All Vehicles Daily Volumes Comparison (Model vs Observed).\n\n\n\n\n\nFigure 4: Medium Trucks Daily Volumes Comparison (Model vs Observed).\n\n\n\n\n\nFigure 5: Heavy Trucks Daily Volumes Comparison (Model vs Observed)\n\n\nTransit ridership between v8.3.1 and v8.3.1 were compared at the trips, boardings, and mode share levels. Figure 6 and Figure 7 show a comparison of daily transit ridership and boardings for both the v8.3.2 and the v8.3.1 models. The v8.3.1 and v8.3.2 model transit was calibrated to the UTA On-Board Survey for 2015 and 2019, respectively, so the ridership for each of those models falls right on the OBS target. The boardings for the model are estimated but are close to average annual boardings as reported by UTA. Boardings between 2015 and 2019 have been relatively flat. The increase to 2050 is based on increased transit attractiveness and more supportive land use as built into the model.\n\n\n\nFigure 6: Daily Transit Ridership - All Modes.\n\n\n\n\n\nFigure 7: Daily Boardings - All Modes.\n\n\nShare by transit mode is shown in Figure 8 and Figure 9 for v8.3.2 and v8.3.1, respectively. In v8.3.2, Core Bus routes (Mode 5) show a greater portion of trips in v8.3.2 than in v8.3.1. These additional trips come mostly from Light Rail, which actually sees a decrease in mode share in 2030. Commuter Rail shares remain relatively consistent, as well as BRT.\n\n\n\nFigure 8: Share by Transit Mode – v8.3.2.\n\n\n\n\n\nFigure 9: Share by Transit Mode – v8.3.1.\n\n\nEven though the transit ridership forecasts are lower by 23% in v8.3.2 compared to v8.3.1, the 2019 to 2050 ratios for each model are similar with 2.0 in v8.3.2 and 2.2 in v8.3.1.\n\n\n\nFigure 10: Comparison of 2019 and 2050 ratios.\n\n\nAs mentioned in a previous section, county-level adjustments were made in Davis and Utah counties to help better align station boardings in the model with observed. The comparison of the models with observed is shown in Figure 11. Due to these adjustments, there is a slight increase in Utah County boardings. However, Provo Station decreased slightly to just over half of what is observed. Davis County boardings proved to be more sensitive to the adjustment and a significant decrease is shown but still higher than observed boardings.\n\n\n\nFigure 11: 2019 Daily FrontRunner Boardings by Station Compared to Observed."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Speed factor changes were made to the following locations:\n\nUS-89 North Davis County SFAC_BASE adjusted to 0.82\nLegacy Pkwy South of Parrish SFAC_BASE and SFAC_FUT set to 0.95\nUniversity Avenue from 300 South to 700 N SFAC_BASE and SFAC_FUT set to 0.85\nFreedom Boulevard from 300 South to 500 N SFAC_BASE and SFAC_FUT set to 0.85\nProvo Center Street from 500 West to University Ave SFAC_BASE and SFAC_FUT set to 0.60\n\nCapacity factors changes were made to the following locations:\n\nProvo Center Street from 500 West to University Ave CFAC_BASE and CFAC_FUT set to 0.85\n\n\n\nThe highway network was updated in the MAG and WFRC areas to reflect the third round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. Figure 1 shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.\n\n\n\nFigure 1: Lane Change between 2019 and 2050 for Model v8.3.2 2022-02-04.\n\n\n\n\n\nThe speed of rail transit is coded onto rail-only links within the master highway network. Transit speed for LRT were updated to reflect 2019 operations. Most of the speed changes were less than 5 mph. Figure 2 shows where light rail speeds were changed.\n\n\n\nFigure 2: Change in Transit Speeds for LRT in Salt Lake County. Green: Increase in Speeds — Red: Decrease in Speeds.\n\n\ntbl-lrt-speed shows the resulting average speeds along entire light rail routes. The net effect of the update was generally lower speeds, with the TRAX-Blue line and the S-Line having the largest drops in speed with a drop of 8.2% and 14.5%, respectively.\n\n\nCode\nfrom IPython.display import Markdown\nfrom tabulate import tabulate\ntable = [[\"TRAX-Blue\" ,'24.4','22.4','-2.0','-8.2% '],\n         [\"TRAX-Green\",'19.2','18.6','-0.6','-3.1% '],\n         [\"TRAX-Red\"  ,'24.4','23.6','-0.8','-3.3% '],\n         [\"S-Line\"    ,'13.8','11.8','-2.0','-14.5%']]\nMarkdown(tabulate(\n  table, \n  headers=[\"Route\",\"Before Updates\", \"After Updates\", \"Difference\", \"% Difference\"]\n))\n\n\n\n\nTable 1: Average Travel Speed (MPH) by Route for LRT\n\n\nRoute\nBefore Updates\nAfter Updates\nDifference\n% Difference\n\n\n\n\nTRAX-Blue\n24.4\n22.4\n-2\n-8.2%\n\n\nTRAX-Green\n19.2\n18.6\n-0.6\n-3.1%\n\n\nTRAX-Red\n24.4\n23.6\n-0.8\n-3.3%\n\n\nS-Line\n13.8\n11.8\n-2\n-14.5%\n\n\n\n\n\n\nAdditional changes include the following:\n\nFrontRunner speeds were adjusted to match the 2019 schedule\nSeveral SEGID changes to match UDOT 2019 Segment shapefile\nCorrected I-15 SB to include lane drop north of Lehi 2100 North interchange and lane add south of interchange to match constructefacility\nUpdated GIS link & node shapefiles\n\n\n\n\n\n\n\nHand-coded walk-access links are an additional input for transit beyond the automatically generated walk-access links. Auto-generated walk-access links are created between zone centroids and transit stops within a certain distance as defined by area of the zone, as long as they do not cross barriers as defined by functional type. Hand-coded walk-access links are user-defined, supplemental walk access where an auto-generated link would not be created or where walk access is more attractive than the TAZ structure and auto-generated links would suggest.\nThe update process removed a majority of the general hand-coded walk access links, reducing the number from 234 to 31 links. Areas that retained or added hand-coded links include SLC International Airport, Hill Air Force Base, University of Utah, and Utah Valley University. Figure 3 shows hand-coded walk-access links before and after the updates.\n\n\n\nFigure 3: Hand-Coded Walk Access Links.\n\n\n\n\n\nPark-and-Ride lots are coded onto nodes within the master highway network and are defined by what transit mode they service. To be used by the travel model, park-and-ride nodes need to be coded at nodes that serve as rail or bus stops. Figure 4 (a) shows what changes were made to park-and-ride lots, which include 17 additional locations, 49 removed locations, and 14 locations that were modified by changing the mode they service. Most of the park-and-ride lots removals were due to redundancy on highway nodes adjacent to another park-and-ride lot at a rail node. The park-and-ride lots additions mostly included new lots along express bus routes. The resulting park-and-ride lot locations, including ones that were not edited, are shown in Figure 4 (b).\n\n\n\n\n\n\n\n(a) Park-And-Ride Lot Changes\n\n\n\n\n\n\n\n(b) Park-And-Ride Lots After Updates\n\n\n\n\nFigure 4: Park-And-Ride Lots. Red: Removed — Green: Added — Blue: Modified\n\n\n\n\n\nTransit line files were updated based on actual 2019 route configuration. Transit line files include route alignments, stop locations, and peak/off-peak headway designation. Additionally, 2024, 2030, 2040, 2050, 2030UF, 2040UF, 2050UF transit was updated to reflect 2019 input changes.\nA general edit that was made to all lines that connect directly to rail was the removal of bus stops on a roadway node directly adjacent to a stop at a rail node. Only the rail node stop remains. Due to the amount of lines affected by this change, they are not listed individually in the line details below. There were also a couple of highway network edits made in relation to transit line changes:\n\nAt the Blue Line end-of-line in Draper, the centroid connector for the rail station connection to the highway network moved offintersection of Pioneer Road / 1300 East intersection and connected directly to Pioneer Drive.\nA connection between 24th Street and Wall Avenue in Ogden was added to represent the existing connection on each side of theviaduct. The associated transit-only link was removed.\n\nThe line file changes are shown in the lists below, arranged by file and route name. Only lines that have changes, other than those listed above, are included.\nmag_brt_2019.lin\n\nBRT_ProOrm:\n\nstops removed:\n\n24779 - Geneva Road\n26400 - 900 E/Campus Ln\n26487 - 750 S/100 W\n\nStops moved:\n\n22881 to 26206 (from intersection of University Pkwy/900 E to the west)\n25972 to 23019 (moved further west to intersection of 400 E/700 N)\n23069 to 26203 (moved further north off of intersection of 200 N/Univ Ave)\n23066 to 26202 (moved further south off of intersection of 300 S/Univ Ave)\n26184 to 26192 (moved off University Ave and onto Town Centre Blvd)\n23160 to 24332 (moved west of intersection East Bay Blvd/1860 S)\n\nAlignment changed: Off of University Avenue between 920 S and Town Centre Drive and onto Town Centre Blvd\n\n\nmag_exp_2019.lin\n\nM807_NoCnty: Many stops removed. Realignment changed at each end of route. Reverse direction removed.\nM806_EglMtn: Headway changed from 30/0 to 45/0. Many stops removed. Realignment changed at Eagle Mtn end-of-line and to stay on freeway through American Fork. Reverse direction removed.\n\nmag_lcl_2019.lin\n\nM805_Santaquin: Headway 1/2 changed from 30/0 to 45/60. Stop added: 23552 (Santaquin end of line moved one node to west). Three stops removed in SF, only 25321 remains. Three stops removed in Provo: 26487, 26488, 23152.\nM809_AM-PG: Changed from two-way route to one-way route. Stops removed: 24769, 22358, 24162, 25729, 22389, 25727, 25513, 22514, 22390, 25726, 22392, 22394. Stops added: 24189, 22395.\nM821_Psn: Various stops removed.\nM822_Psn: Various stops removed.\nM831_WPr: Alignment changed around UVU. Various stops removed.\nM833_CntrPr: Various stops removals.\nM834_EstPr: Alignment changed at Univ Pkwy/2230 N. Various stops removed.\nM841_UVU: UVU main campus end-of-line moved one further node to 26601. Various stops removed.\nM850_StateStreet: Alignment Changed: Ashton Blvd & 2100 N, PG downtown, which required addition of reverse direction and change to one-way route due to one-way links. Various stops removals.\nM862_Orem: Alignment changed around UVU to use campus circulator roadway. Various stops removed.\nM864_Thanksgiving Point: Various stops removed.\nM871_SLtoUtahCnty: Northern end-of-line alignment changed to match updated highway network connection to Blue Line Draper Station.\n\nrail_2019.lin\n\nOGPNShuttle: Route removed, since service to Pleasant View discontinued in 2015.\n\nwfrc_og_lcl_2019.lin\n\nO601: Connection to Wall Avenue was removed from transit-only link and put on new highway network connection.\nO603: Southern end-of-line moved to McKay Dee Hospital.\nO606: Northern end-of-line moved from Harrison Blvd to Monroe Blvd.\nO608: Northern end-of-line moved from Harrison Blvd to Monroe Blvd.\nO628: Southern end-of-line extended to match southern circulation around Layton IHC.\nO630: Southern end-of-line moved from Weber State University to Ogden FrontRunner Station.\nO645: Northern end-of-line extended to US-89.\nOF618: Headway2 changed from 30 to 60.\nS470: Connection to Clearfield Station CRT added.\nS455: One stop removed in University of Utah area.\n\nwfrc_sl_exp_2019.lin\n\nS2X: Changed to two-way route. Two stops removed on 200 South near Gateway. Two stops added in University of Utah area.\nS307X: Headway 1 changed from 30 to 47.\nS313X: Alignment through Fort Union area changed.\nS354X: Extended north end-of-line to Red Line station.\nS451X: Reverse direction removed.\nS454: Stop added at Green Line airport stop. Some stops along Green Line and North Temple moved to rail stop locations.\nS456: Stop added at Farmington Station CRT. Some stops along Green Line and North Temple moved to rail stop locations.\nS471: Alignment through Bountiful modified.\nS473X: Extended southern end-of-line further to Research Park.\nS902: Headway changed from 15/0 to 60/90. Some stops added.\n\nwfrc_sl_lcl_2019.lin\n\nD461: Some stop in Woods Cross Station CRT area removed.\nS11: Eastern end-of-line shortened to stop at University of Utah Medical Center and not Red Line.\nS201: Southern end-of-line extended to South Jordan Station CRT.\nS217: Alignment changed near green line (N Temple), route removed from 2200 West.\nS218: S218 - changed ONEWAY=F to become two-way route\nS240: Alignment changed at Pieper Blvd.\nS41: West end-of-line extended one node down 5600 West.\nS463: Connection to Wood Cross Station CRT.\nS509: Alignment changed around SR-201.\nS519/520 - added ONEWAY=F to explicitly define two-way route\nS526: Headway changed from 40/40 to 60/0.\nS551: Headway 1 changed from 30 to 40. Some stops along Green Line and North Temple moved to rail stop locations.\nSF453: Eastern EOL brought to rail node 20053.\nSF514: Stop added at SoJo Station CRT.\nSF546: Connection added to Draper Town Center Station CRT.\nSF94: Eastern end-of-line extended one more node to east.\n\n\n\n\n\nThe Master Segments shapefile was updated with the following changes:\n\nDay-of-week, season, and month factors were updated using 2015-2019 data from UDOT Continuous Count Stations (CCS). To be consistent with the UDOT AADT process, any year of data without a full week of data from each month was excluded from the factor creation.\nCreated single grouping of CCS for all factors (previously weekday and month/season factors were based on separate groupings).\nChanged average weekday factor (FAC_WDAVG) to represent Tuesday through Thursday (previously Monday through Thursday).\nChanged average and max weekend factors (FAC_WEAVG, FAC_WEMAX) to represent Saturday and Sunday (previously Friday through Sunday).\n\n\n\n\nThe following were additional changes made to the model:\n\nAn additional districting grouping (‘DISTSUPER’ and ‘DSUP_NAME’) was added to the TAZ shapefile using definitions from UDOT’s recent work on the long distance model.\nThe toll zone shapefile was also modified to correct a few instances where the HOT lane links were crossing into the opposing direction HOT zone.\nThe ‘1_Inputs\\0_GlobalData\\UbanizationMap’ folder name was changed to ‘1_Inputs\\0_GlobalData\\ArcMap_mxd. The’_Urbanization_ArcMap103.mxd’ file was saved as ArcMap version 10.3 and the ArcMap version was added to the filename\nThe TDM script ’_CreateOutputFolders.s’ in ‘3_CreateScenarios’ folder was modified to account for the changed folder and file names for the urbanization.mxd."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#highway-network",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#highway-network",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Speed factor changes were made to the following locations:\n\nUS-89 North Davis County SFAC_BASE adjusted to 0.82\nLegacy Pkwy South of Parrish SFAC_BASE and SFAC_FUT set to 0.95\nUniversity Avenue from 300 South to 700 N SFAC_BASE and SFAC_FUT set to 0.85\nFreedom Boulevard from 300 South to 500 N SFAC_BASE and SFAC_FUT set to 0.85\nProvo Center Street from 500 West to University Ave SFAC_BASE and SFAC_FUT set to 0.60\n\nCapacity factors changes were made to the following locations:\n\nProvo Center Street from 500 West to University Ave CFAC_BASE and CFAC_FUT set to 0.85\n\n\n\nThe highway network was updated in the MAG and WFRC areas to reflect the third round of Regional Transportation Plan (RTP) amendments. Additional edits were made in the MAG area to conform with more recent project clarification. Figure 1 shows where lanes were added (green) or were taken away (orange) between versions 8.3 and 8.3.1 highway networks.\n\n\n\nFigure 1: Lane Change between 2019 and 2050 for Model v8.3.2 2022-02-04.\n\n\n\n\n\nThe speed of rail transit is coded onto rail-only links within the master highway network. Transit speed for LRT were updated to reflect 2019 operations. Most of the speed changes were less than 5 mph. Figure 2 shows where light rail speeds were changed.\n\n\n\nFigure 2: Change in Transit Speeds for LRT in Salt Lake County. Green: Increase in Speeds — Red: Decrease in Speeds.\n\n\ntbl-lrt-speed shows the resulting average speeds along entire light rail routes. The net effect of the update was generally lower speeds, with the TRAX-Blue line and the S-Line having the largest drops in speed with a drop of 8.2% and 14.5%, respectively.\n\n\nCode\nfrom IPython.display import Markdown\nfrom tabulate import tabulate\ntable = [[\"TRAX-Blue\" ,'24.4','22.4','-2.0','-8.2% '],\n         [\"TRAX-Green\",'19.2','18.6','-0.6','-3.1% '],\n         [\"TRAX-Red\"  ,'24.4','23.6','-0.8','-3.3% '],\n         [\"S-Line\"    ,'13.8','11.8','-2.0','-14.5%']]\nMarkdown(tabulate(\n  table, \n  headers=[\"Route\",\"Before Updates\", \"After Updates\", \"Difference\", \"% Difference\"]\n))\n\n\n\n\nTable 1: Average Travel Speed (MPH) by Route for LRT\n\n\nRoute\nBefore Updates\nAfter Updates\nDifference\n% Difference\n\n\n\n\nTRAX-Blue\n24.4\n22.4\n-2\n-8.2%\n\n\nTRAX-Green\n19.2\n18.6\n-0.6\n-3.1%\n\n\nTRAX-Red\n24.4\n23.6\n-0.8\n-3.3%\n\n\nS-Line\n13.8\n11.8\n-2\n-14.5%\n\n\n\n\n\n\nAdditional changes include the following:\n\nFrontRunner speeds were adjusted to match the 2019 schedule\nSeveral SEGID changes to match UDOT 2019 Segment shapefile\nCorrected I-15 SB to include lane drop north of Lehi 2100 North interchange and lane add south of interchange to match constructefacility\nUpdated GIS link & node shapefiles"
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#transit-network",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#transit-network",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Hand-coded walk-access links are an additional input for transit beyond the automatically generated walk-access links. Auto-generated walk-access links are created between zone centroids and transit stops within a certain distance as defined by area of the zone, as long as they do not cross barriers as defined by functional type. Hand-coded walk-access links are user-defined, supplemental walk access where an auto-generated link would not be created or where walk access is more attractive than the TAZ structure and auto-generated links would suggest.\nThe update process removed a majority of the general hand-coded walk access links, reducing the number from 234 to 31 links. Areas that retained or added hand-coded links include SLC International Airport, Hill Air Force Base, University of Utah, and Utah Valley University. Figure 3 shows hand-coded walk-access links before and after the updates.\n\n\n\nFigure 3: Hand-Coded Walk Access Links.\n\n\n\n\n\nPark-and-Ride lots are coded onto nodes within the master highway network and are defined by what transit mode they service. To be used by the travel model, park-and-ride nodes need to be coded at nodes that serve as rail or bus stops. Figure 4 (a) shows what changes were made to park-and-ride lots, which include 17 additional locations, 49 removed locations, and 14 locations that were modified by changing the mode they service. Most of the park-and-ride lots removals were due to redundancy on highway nodes adjacent to another park-and-ride lot at a rail node. The park-and-ride lots additions mostly included new lots along express bus routes. The resulting park-and-ride lot locations, including ones that were not edited, are shown in Figure 4 (b).\n\n\n\n\n\n\n\n(a) Park-And-Ride Lot Changes\n\n\n\n\n\n\n\n(b) Park-And-Ride Lots After Updates\n\n\n\n\nFigure 4: Park-And-Ride Lots. Red: Removed — Green: Added — Blue: Modified\n\n\n\n\n\nTransit line files were updated based on actual 2019 route configuration. Transit line files include route alignments, stop locations, and peak/off-peak headway designation. Additionally, 2024, 2030, 2040, 2050, 2030UF, 2040UF, 2050UF transit was updated to reflect 2019 input changes.\nA general edit that was made to all lines that connect directly to rail was the removal of bus stops on a roadway node directly adjacent to a stop at a rail node. Only the rail node stop remains. Due to the amount of lines affected by this change, they are not listed individually in the line details below. There were also a couple of highway network edits made in relation to transit line changes:\n\nAt the Blue Line end-of-line in Draper, the centroid connector for the rail station connection to the highway network moved offintersection of Pioneer Road / 1300 East intersection and connected directly to Pioneer Drive.\nA connection between 24th Street and Wall Avenue in Ogden was added to represent the existing connection on each side of theviaduct. The associated transit-only link was removed.\n\nThe line file changes are shown in the lists below, arranged by file and route name. Only lines that have changes, other than those listed above, are included.\nmag_brt_2019.lin\n\nBRT_ProOrm:\n\nstops removed:\n\n24779 - Geneva Road\n26400 - 900 E/Campus Ln\n26487 - 750 S/100 W\n\nStops moved:\n\n22881 to 26206 (from intersection of University Pkwy/900 E to the west)\n25972 to 23019 (moved further west to intersection of 400 E/700 N)\n23069 to 26203 (moved further north off of intersection of 200 N/Univ Ave)\n23066 to 26202 (moved further south off of intersection of 300 S/Univ Ave)\n26184 to 26192 (moved off University Ave and onto Town Centre Blvd)\n23160 to 24332 (moved west of intersection East Bay Blvd/1860 S)\n\nAlignment changed: Off of University Avenue between 920 S and Town Centre Drive and onto Town Centre Blvd\n\n\nmag_exp_2019.lin\n\nM807_NoCnty: Many stops removed. Realignment changed at each end of route. Reverse direction removed.\nM806_EglMtn: Headway changed from 30/0 to 45/0. Many stops removed. Realignment changed at Eagle Mtn end-of-line and to stay on freeway through American Fork. Reverse direction removed.\n\nmag_lcl_2019.lin\n\nM805_Santaquin: Headway 1/2 changed from 30/0 to 45/60. Stop added: 23552 (Santaquin end of line moved one node to west). Three stops removed in SF, only 25321 remains. Three stops removed in Provo: 26487, 26488, 23152.\nM809_AM-PG: Changed from two-way route to one-way route. Stops removed: 24769, 22358, 24162, 25729, 22389, 25727, 25513, 22514, 22390, 25726, 22392, 22394. Stops added: 24189, 22395.\nM821_Psn: Various stops removed.\nM822_Psn: Various stops removed.\nM831_WPr: Alignment changed around UVU. Various stops removed.\nM833_CntrPr: Various stops removals.\nM834_EstPr: Alignment changed at Univ Pkwy/2230 N. Various stops removed.\nM841_UVU: UVU main campus end-of-line moved one further node to 26601. Various stops removed.\nM850_StateStreet: Alignment Changed: Ashton Blvd & 2100 N, PG downtown, which required addition of reverse direction and change to one-way route due to one-way links. Various stops removals.\nM862_Orem: Alignment changed around UVU to use campus circulator roadway. Various stops removed.\nM864_Thanksgiving Point: Various stops removed.\nM871_SLtoUtahCnty: Northern end-of-line alignment changed to match updated highway network connection to Blue Line Draper Station.\n\nrail_2019.lin\n\nOGPNShuttle: Route removed, since service to Pleasant View discontinued in 2015.\n\nwfrc_og_lcl_2019.lin\n\nO601: Connection to Wall Avenue was removed from transit-only link and put on new highway network connection.\nO603: Southern end-of-line moved to McKay Dee Hospital.\nO606: Northern end-of-line moved from Harrison Blvd to Monroe Blvd.\nO608: Northern end-of-line moved from Harrison Blvd to Monroe Blvd.\nO628: Southern end-of-line extended to match southern circulation around Layton IHC.\nO630: Southern end-of-line moved from Weber State University to Ogden FrontRunner Station.\nO645: Northern end-of-line extended to US-89.\nOF618: Headway2 changed from 30 to 60.\nS470: Connection to Clearfield Station CRT added.\nS455: One stop removed in University of Utah area.\n\nwfrc_sl_exp_2019.lin\n\nS2X: Changed to two-way route. Two stops removed on 200 South near Gateway. Two stops added in University of Utah area.\nS307X: Headway 1 changed from 30 to 47.\nS313X: Alignment through Fort Union area changed.\nS354X: Extended north end-of-line to Red Line station.\nS451X: Reverse direction removed.\nS454: Stop added at Green Line airport stop. Some stops along Green Line and North Temple moved to rail stop locations.\nS456: Stop added at Farmington Station CRT. Some stops along Green Line and North Temple moved to rail stop locations.\nS471: Alignment through Bountiful modified.\nS473X: Extended southern end-of-line further to Research Park.\nS902: Headway changed from 15/0 to 60/90. Some stops added.\n\nwfrc_sl_lcl_2019.lin\n\nD461: Some stop in Woods Cross Station CRT area removed.\nS11: Eastern end-of-line shortened to stop at University of Utah Medical Center and not Red Line.\nS201: Southern end-of-line extended to South Jordan Station CRT.\nS217: Alignment changed near green line (N Temple), route removed from 2200 West.\nS218: S218 - changed ONEWAY=F to become two-way route\nS240: Alignment changed at Pieper Blvd.\nS41: West end-of-line extended one node down 5600 West.\nS463: Connection to Wood Cross Station CRT.\nS509: Alignment changed around SR-201.\nS519/520 - added ONEWAY=F to explicitly define two-way route\nS526: Headway changed from 40/40 to 60/0.\nS551: Headway 1 changed from 30 to 40. Some stops along Green Line and North Temple moved to rail stop locations.\nSF453: Eastern EOL brought to rail node 20053.\nSF514: Stop added at SoJo Station CRT.\nSF546: Connection added to Draper Town Center Station CRT.\nSF94: Eastern end-of-line extended one more node to east."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#segments-and-factors",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#segments-and-factors",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "The Master Segments shapefile was updated with the following changes:\n\nDay-of-week, season, and month factors were updated using 2015-2019 data from UDOT Continuous Count Stations (CCS). To be consistent with the UDOT AADT process, any year of data without a full week of data from each month was excluded from the factor creation.\nCreated single grouping of CCS for all factors (previously weekday and month/season factors were based on separate groupings).\nChanged average weekday factor (FAC_WDAVG) to represent Tuesday through Thursday (previously Monday through Thursday).\nChanged average and max weekend factors (FAC_WEAVG, FAC_WEMAX) to represent Saturday and Sunday (previously Friday through Sunday)."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#other-changes",
    "href": "v8x/v832/whats-new/2021-11-10/2-inputdata.html#other-changes",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "The following were additional changes made to the model:\n\nAn additional districting grouping (‘DISTSUPER’ and ‘DSUP_NAME’) was added to the TAZ shapefile using definitions from UDOT’s recent work on the long distance model.\nThe toll zone shapefile was also modified to correct a few instances where the HOT lane links were crossing into the opposing direction HOT zone.\nThe ‘1_Inputs\\0_GlobalData\\UbanizationMap’ folder name was changed to ‘1_Inputs\\0_GlobalData\\ArcMap_mxd. The’_Urbanization_ArcMap103.mxd’ file was saved as ArcMap version 10.3 and the ArcMap version was added to the filename\nThe TDM script ’_CreateOutputFolders.s’ in ‘3_CreateScenarios’ folder was modified to account for the changed folder and file names for the urbanization.mxd."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html",
    "href": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "A couple bugs were corrected in the input processing script:\n\nCorrected inbound/outbound designations for EB/WB links.\nRemoved FT=37-38 as a condition for populating link additional HOV capacity (AdHOVCap1H) values since related HOV fields are populated on GP links not HOV links. Also, corrected capacity lookup to be for FT=37 and not FT of link.\n\n\n\n\nThe walk buffer script was improved with a couple simple modifications to the routes and stops that are included in walk buffer creation: - Removed local bus route buffers along expressways and freeways (anything with FT&gt;=12). Only local bus routes along arterials or collectors are now included in route buffers. - Removed buffers that were calculated from local bus stops, which were redundant with local bus route buffers. - The remaining combined walk buffer areas are shown in green. The ’_WalkBuffer_ArcMap103.mxd’ file was updated to version 10.3 of ArcMap, and the scripts were modified to copy the walk buffer mxd to scenario folders.\n\n\n\nFigure 1: Walk Buffer Modifications."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#inboundoutbound-and-hov-capacity",
    "href": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#inboundoutbound-and-hov-capacity",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "A couple bugs were corrected in the input processing script:\n\nCorrected inbound/outbound designations for EB/WB links.\nRemoved FT=37-38 as a condition for populating link additional HOV capacity (AdHOVCap1H) values since related HOV fields are populated on GP links not HOV links. Also, corrected capacity lookup to be for FT=37 and not FT of link."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#walk-buffer-modifications",
    "href": "v8x/v832/whats-new/2021-11-10/3-inputprocessing.html#walk-buffer-modifications",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "The walk buffer script was improved with a couple simple modifications to the routes and stops that are included in walk buffer creation: - Removed local bus route buffers along expressways and freeways (anything with FT&gt;=12). Only local bus routes along arterials or collectors are now included in route buffers. - Removed buffers that were calculated from local bus stops, which were redundant with local bus route buffers. - The remaining combined walk buffer areas are shown in green. The ’_WalkBuffer_ArcMap103.mxd’ file was updated to version 10.3 of ArcMap, and the scripts were modified to copy the walk buffer mxd to scenario folders.\n\n\n\nFigure 1: Walk Buffer Modifications."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/4-hhdisag.html",
    "href": "v8x/v832/whats-new/2021-11-10/4-hhdisag.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Household Disaggregation and Auto Ownership\nSeveral changes were made to clean up and fix minor errors in the household disaggregation and auto ownership scripts:\n\nAdded Box Elder Vehicles to the totals calculated for the ‘VO_Tmp_CountyVehicleTotal.txt’ file in the ‘3_AutoOwnership.s’ file.\nCorrected VO_DebugUtility.csv header row in ‘3_AutoOwnership.s’ to keep it from repeating. Commented out debug csv creation.\nCorrected AVGINCOME in ‘Tmp_Marginal_Income_beforeIPF.dbf’.\nCommented out ‘test.csv’ creation in ‘2_ModelScripts\\1_HHDisag_AutoOwn\\1_LifeCycle.s’.\nCorrected CO_TAZID in ‘LifeCycle_Households_Population.dbf’ in ‘2_ModelScripts\\1_HHDisag_AutoOwn\\1_LifeCycle.s’.\nUpdated ‘Lookup - BYTAZAgePct - AllCo.csv’ and source materials (’_TAZ_AgePct_Lookup_Source - 2020-06-23.xlsb’) in ‘1_Inputs\\0_GlobalData\\1_HHDisag_AutoOwn’. This update reflects the updated source materials structure in the statewide spreadsheet and updated data for Summit/Wasatch counties and UDOT area. The Wasatch Front area data did not change."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/5-tripgen.html",
    "href": "v8x/v832/whats-new/2021-11-10/5-tripgen.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Trip Generation\nSeveral changes were made in the trip generation scripts:\n\nAdded factors to reduce special generation attractiveness to Temple Square, SLC Library, and many colleges.\nAdded Large District calibration factors.\nAdjusted short-haul truck light/medium/heavy trip production rates.\nUpdated county-level adjustments to short-haul truck medium/heavy productions and attractions.\nTruck speed factors are now applied to all facility types, previously they applied only to freeway."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/6-distribution.html",
    "href": "v8x/v832/whats-new/2021-11-10/6-distribution.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Distribution\nThe following changes were made in the distribution scripts:\n\nFriction factors, which were previously calibrated to the county level, were recalibrated at the large district level.\nTruck speed factors are now applied to all facility types, where previously they applied only to freeway."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/7-mc.html",
    "href": "v8x/v832/whats-new/2021-11-10/7-mc.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Mode Choice\nMode choice was recalibrated to match target values from UTA 2019 On-Board Survey.\nThe following changes were made in the transit .FAC files in PT_Parameter Folder and associated voyager script in mode choice:\n\nDecreased WAITFACTOR to 2.0 (previously 3.0).\nChanged mode-specific weight applied to transit in-vehicle times and non-transit leg times (Relative mode factor to the skimmed specific mode) for express bus to 3.50.\nChanged the following to fine-tune boardings by mode (to increase for LCL, and decrease for other modes).\nAdded initial boarding penalty for local bus of 5 minutes.\nIncreased transit transfer boarding penalty to 12 minutes for all modes but walk to local which was set at 6 minutes (previously 10 minutes for all modes).\n\nAdditional changes were made to mode choice:\n\nCombined Mode Choice scripts 11 and 12 into ‘11_12_MC_HBW_HBO_NHB_HBC.s’ to allow simultaneous running on eight cores.\nBRT Mode 9 constants were calibrated independently of LRT. However, BRT Mode 5 continues to use a multiplier of the LRT constant and was increased to 0.40 from 0.33.\nAdjustments were made to FrontRunner to bring station boardings closer to observed. Davis County boardings were significantly higher than observed, while Utah County boardings were significantly lower. A +15 multiplier of initial in-vehicle time penalty was added to all stations in Davis County, while -15 multiplier of in-vehicle time was added to all stations in Utah County. This brought boardings closer to observed, but there is still significant difference in boardings that should be accounted for when using the model for any station-level forecasts. A comparison of station model and observed volumes is found in the final section of this document comparing v8.3.2 to v8.3.1."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/8-assign.html",
    "href": "v8x/v832/whats-new/2021-11-10/8-assign.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Highway Assignment\nThe fowllowing changes were made in highway assignment scripts:\n\nSegment summary processing script was updated to include truck volumes in detailed output.\nIn harmony with the changes in distribution, truck speed factors are now applied to all facility types, were previously they applied only to freeway.\n\nAccess-to-Opportunity (ATO) scripts were moved to the Assignment folder. The following edits were made to the ATO script:\n\nMade output field names more descriptive.\nChanged output format from dbf to csv.\nAdded Free Flow auto time and straight-line time (based on auto free flow) ATO calculations/output\nUpdated script to get the ATO weights from empirical HBW distance decay curve from Household Travel Survey as a look up table rather than calculate from a step function."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/9-pp.html",
    "href": "v8x/v832/whats-new/2021-11-10/9-pp.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Post Processing\nThe TDM2MOVES folder was removed."
  },
  {
    "objectID": "v8x/v832/whats-new/2021-11-10/references.html",
    "href": "v8x/v832/whats-new/2021-11-10/references.html",
    "title": "References",
    "section": "",
    "text": "References"
  },
  {
    "objectID": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html",
    "href": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "This first part of this document contains a quick comparison between the 2022-02-04 version of the model and the 2021-11-10 version of the model.\n\n\nThe following changes were made the Distribution and Final Assignment scripts of the model\n\nChanged truck penalty from speed factor to a speed reduction penalty\n\nUpdated toll calculations:\nUpdate COST function\n\nUpdate TC function\nGeneral model cleanup\n\nAdditionally the Scenario Folder was updated with updated default ControlCenter.block files, a rolled date of model version, Fixed Cluster START & STARTHIDE typo, and added ‘blank folder setup’ folder.\n\n\n\nFigure 1 and Figure 2 contain a daily total volume comparison and a daily truck volume comparison. Daily total volumes are very similar between the two models. There is a slight shift of volume off of I-15 and onto parallel corridors. The largest volume shifts in 2050 are between I-215 and Bangerter Highway. Figure 1 shows one-way volumes.\n\n\n\nFigure 1: Daily Total Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10.\n\n\nDaily truck volumes show more differences with volumes dropping between the two models. The drop in volumes is less than a 1,500 trucks per day on freeways but is widespread throughout the region. Figure 2 shows one-way volumes.\n\n\n\nFigure 2: Daily Truck Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10."
  },
  {
    "objectID": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#changes",
    "href": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#changes",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "The following changes were made the Distribution and Final Assignment scripts of the model\n\nChanged truck penalty from speed factor to a speed reduction penalty\n\nUpdated toll calculations:\nUpdate COST function\n\nUpdate TC function\nGeneral model cleanup\n\nAdditionally the Scenario Folder was updated with updated default ControlCenter.block files, a rolled date of model version, Fixed Cluster START & STARTHIDE typo, and added ‘blank folder setup’ folder."
  },
  {
    "objectID": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#model-results",
    "href": "v8x/v832/whats-new/2022-02-04/1-20220204-update.html#model-results",
    "title": "Version 8.3.2 - What’s New?",
    "section": "",
    "text": "Figure 1 and Figure 2 contain a daily total volume comparison and a daily truck volume comparison. Daily total volumes are very similar between the two models. There is a slight shift of volume off of I-15 and onto parallel corridors. The largest volume shifts in 2050 are between I-215 and Bangerter Highway. Figure 1 shows one-way volumes.\n\n\n\nFigure 1: Daily Total Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10.\n\n\nDaily truck volumes show more differences with volumes dropping between the two models. The drop in volumes is less than a 1,500 trucks per day on freeways but is widespread throughout the region. Figure 2 shows one-way volumes.\n\n\n\nFigure 2: Daily Truck Volume Difference v8.3.2 2022-02-04 vs v8.3.2 2021-11-10."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html",
    "href": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The changes in the input processing scripts are listed here by their corresponding subfolder.\n\n\nThe 0_FolderSetup.s script was updated, renamed, and added to the HailMary.s script. Additionally, UpdatedMasterNet and UpdatedMasterNet\\GIS folders were added to 0_InputProcessing folder. These changes were also made to _CreateOutputFolders.s and _BlankFolderSetup in the Scenarios\\_default folder.\nTo account for removal of the fields from the TAZ shapefile, the references to CITY and COUNTY fields were removed from the 1_InputSetup.s script.\nThe copied locations of a few files in the \\_CopyToFolders folder were updated. VPR files in the 2_ModelScripts\\_CopyToFolders\\Distrib_ConvVPR folder are now copied to the Temp\\3_Distribute folder. The _Urbanization.mxd and _WalkBuffer.mxd in the 2_ModelScripts\\_CopyToFolders\\ArcMap_mxd folder are copied to the 0_InputProcessing folder.\n\n\n\nThe 1_DemographicsAnalysis.s script was updated to read ControlTotal_SE_AllCounties.csv. The control total lookup index calculation was updated to account for Weber County indexing between two sub-areas. The 9057 prefix is for the UDOT Subarea and 9157 prefix for the WFRC Subarea.\n\n\n\nThe 0_Update_TAZID_Distance.s script was updated to export out true shape link and node shapefiles.\nTo account for the removal of CITY and COUNTY fields from the TAZ shapefile, the 1_NetProcessor.s and 4_Create_walk_xfer_access_links.s script was updated to remove references to those fields and the COUNTY field in the c_PNR_nodes.dbf output was changed to CO_FIPS.\nThe 1_NetProcessor.s was updated script to export out true shape Link/Node shapefiles.\nA bug in the Connected-and-Autonomous Vehicle (CAV) calculation was fixed where the column index was needed to be incremented by 1 to link up with lookup tables.\nThe hard-coded turn penalty node numbers in the 3_TurnPenalty.s script were updated to the new v8.3.2/v9.0.0 master network node numbering.\n\n\n\nThe EXTERNAL field reference in the 2_External_TripTables.s script was replaced with a reference to the General_Parameters.block token @external_zones@ to account for removal of field from TAZ shapefile.\n\n\n\nA new folder called e_TimeOfDayFactors was added with a 1_CalculateTimeOfDayFac.s script to output a new file with time of day factors for use in following scripts."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#setup",
    "href": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#setup",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The 0_FolderSetup.s script was updated, renamed, and added to the HailMary.s script. Additionally, UpdatedMasterNet and UpdatedMasterNet\\GIS folders were added to 0_InputProcessing folder. These changes were also made to _CreateOutputFolders.s and _BlankFolderSetup in the Scenarios\\_default folder.\nTo account for removal of the fields from the TAZ shapefile, the references to CITY and COUNTY fields were removed from the 1_InputSetup.s script.\nThe copied locations of a few files in the \\_CopyToFolders folder were updated. VPR files in the 2_ModelScripts\\_CopyToFolders\\Distrib_ConvVPR folder are now copied to the Temp\\3_Distribute folder. The _Urbanization.mxd and _WalkBuffer.mxd in the 2_ModelScripts\\_CopyToFolders\\ArcMap_mxd folder are copied to the 0_InputProcessing folder."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#se-processing",
    "href": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#se-processing",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The 1_DemographicsAnalysis.s script was updated to read ControlTotal_SE_AllCounties.csv. The control total lookup index calculation was updated to account for Weber County indexing between two sub-areas. The 9057 prefix is for the UDOT Subarea and 9157 prefix for the WFRC Subarea."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#network-processing",
    "href": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#network-processing",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The 0_Update_TAZID_Distance.s script was updated to export out true shape link and node shapefiles.\nTo account for the removal of CITY and COUNTY fields from the TAZ shapefile, the 1_NetProcessor.s and 4_Create_walk_xfer_access_links.s script was updated to remove references to those fields and the COUNTY field in the c_PNR_nodes.dbf output was changed to CO_FIPS.\nThe 1_NetProcessor.s was updated script to export out true shape Link/Node shapefiles.\nA bug in the Connected-and-Autonomous Vehicle (CAV) calculation was fixed where the column index was needed to be incremented by 1 to link up with lookup tables.\nThe hard-coded turn penalty node numbers in the 3_TurnPenalty.s script were updated to the new v8.3.2/v9.0.0 master network node numbering."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#trip-table",
    "href": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#trip-table",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "The EXTERNAL field reference in the 2_External_TripTables.s script was replaced with a reference to the General_Parameters.block token @external_zones@ to account for removal of field from TAZ shapefile."
  },
  {
    "objectID": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#time-of-day-factors",
    "href": "v9x/v900/whats-new/2023-04-14/3-inputprocessing.html#time-of-day-factors",
    "title": "Version 9.0.0 - What’s New?",
    "section": "",
    "text": "A new folder called e_TimeOfDayFactors was added with a 1_CalculateTimeOfDayFac.s script to output a new file with time of day factors for use in following scripts."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Wasatch Front Travel Demand Model Documentation",
    "section": "",
    "text": "This website documents the progress of the Wasatch Front Travel Demand Model (TDM). The main topics of this site regard the What’s New? Documentation, the complete Model Documentation, the Calibration/Validation Report, and various other resources worth noting – all for different model versions.\nWasatch Front Regional Council (WFRC) alongside Mountainland Association of Governments (MAG) facilitates the development and documentation of the TDM."
  },
  {
    "objectID": "index.html#modeling-region",
    "href": "index.html#modeling-region",
    "title": "Wasatch Front Travel Demand Model Documentation",
    "section": "Modeling Region",
    "text": "Modeling Region\nFigure 1 shows the modeling area for the Wasatch Front region. It is composed of the urbanized areas within Box Elder, Davis, Salt Lake, Utah, and Weber counties.\n\n\n\nFigure 1: Wasatch Front Modeling Area"
  },
  {
    "objectID": "index.html#model-characteristics",
    "href": "index.html#model-characteristics",
    "title": "Wasatch Front Travel Demand Model Documentation",
    "section": "Model Characteristics",
    "text": "Model Characteristics\nIn addition to the region, below is a list of some of the important model characteristics that exist.\n\nModel Type: Trip-based\nGeographic Projection: NAD 1983 UTM Zone 12\nScenario Years\n\n2019 (base year), 2023 (plan opening year), and 2028 (STIP year)\nPlan Years: 2032, 2042, 2050\n\nModel day: average weekday\nTime Periods: AM, midday, PM, evening, and daily\nInternal TAZs: 3546 (1-3546) & External Stations: 29 (3601-3629)\nTrip Types: internal resident, external, and commercial (light, medium, and heavy - trucks)\nUnique Components\n\nExternal forces: telecommute, eCommerce, CAVs\nRobust Mode Choice Auto (drive alone, shared ride, drive alone toll, shared ride - toll) and Transit (walk/drive to local bus, core route, express bus, BRT, light - rail & commuter rail)\nCan model Tollway, HOT & HOV facilities\nCan model Managed Motorways facilities\n\nCurrent version: v9 Beta (2022-12-19)\nRun Time: 5-7 hours\nSubarea ID: 1 (used for the statewide model)"
  },
  {
    "objectID": "index.html#software",
    "href": "index.html#software",
    "title": "Wasatch Front Travel Demand Model Documentation",
    "section": "Software",
    "text": "Software\nThe most recent version of the Wasatch Front TDM uses Cube 6.4.5 as the model software and AcrGIS 10.6 as the mapping software. The model is run using Cube Scripts (Hailmary)."
  },
  {
    "objectID": "index.html#points-of-contact",
    "href": "index.html#points-of-contact",
    "title": "Wasatch Front Travel Demand Model Documentation",
    "section": "Points of Contact",
    "text": "Points of Contact\nWith questions regarding the development of the model, reach out to the following persons:\n\nMatt DeLora (MAG): mdelora@magutah.org\nSuzie Swim (WFRC): sswim@wfrc.org"
  },
  {
    "objectID": "v9x/v900/index.html",
    "href": "v9x/v900/index.html",
    "title": "Version 9.0.0",
    "section": "",
    "text": "Preface\nThis is the documentation for the Wasatch Front Travel Demand Model for Version 9.0.0. The documentation includes:\n\nWhat’s New Document\nCalibration & Validation Report\n\nFor access to this version of the TDM visit https://github.com/WFRCAnalytics/WF-TDM-v9.0."
  }
]