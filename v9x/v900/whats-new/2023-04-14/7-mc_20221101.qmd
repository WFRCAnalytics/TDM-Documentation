---
title:  "Version 9.0.0 - What's New?"
date-modified: last-modified
author: "WFRC / MAG"
---

# Mode Choice

**'05_Skim_Tran.s'**

 - Added lookup FILEI reference to new '1_Inputs\\0_GlobalData\\4_ModeChoice\\bus_speed_ratios.csv' input file
 - Defined new 'Bus_Speed_Ratio' lookup function & indices
   - Function index (columns in lookup table) based on Period & Area Type
      - Peak        = Area Type ID
      - Off-Peak = Area Type ID + 5
   - Lookup index (rows in lookup table) based on updated Functional Class groups
 - Updated Functional Class groups:

```{python}
#| label: tbl-hway-count
#| tbl-cap: Updated Functional Class Groups
#| echo: False
from IPython.display import Markdown
from tabulate import tabulate
table = [['1', 'Collectors & Locals', '1, 4-10'],
         ['2', 'Minor Arterials'    , '3'      ],
         ['3', 'Principal Arterials', '2'      ],
         ['4', 'Expressways'        , '11-19'  ],
         ['5', 'Freeways & Ramps'   , '20-49'  ]]
Markdown(tabulate(
  table, 
  headers=["FC ID", "Functional Class","FT"],
  tablefmt="pipe", 
  colalign=("left",)*3
))
```

 - Area Type ID
   - 1 – Rural
   - 2 – Transition
   - 3 – Suburban
   - 4 – Urban
   - 5 – CBD-Like
 - Updated bus speed calculations
